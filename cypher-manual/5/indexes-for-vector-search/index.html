<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1">
    <meta name="msvalidate.01" content="B5163518CBE4A854B63801277FE5E35C" />
    <meta name="google-site-verification" content="ucqagxjVuq0lJZeLKs0F5AppzK111lNt3IoxU6mzlJE" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WK23PSS');</script>
<!-- Hotjar Tracking Code for staging -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3587741,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<!-- End Hotjar Tracking code -->
    <title>Vector search index - Cypher Manual</title>
    <link rel="prev" href="../indexes-for-full-text-search/">
    <link rel="next" href="../constraints/">
      <meta name="description" content="This chapter describes how to use vector indexes to perform approximate nearest neighbor search.">
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.css" />
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/utilities.min.css" />

    <link rel="preload" href="../../../assets/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font">
    <link rel="stylesheet" href="../../../assets/css/site.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />



    <meta property="neo:type" content="Docs">
    <meta property="neo:site" content="Reference Docs">


    <meta property="og:site_name" content="Neo4j Graph Data Platform" />
    <meta property="article:publisher" content="https://www.facebook.com/neo4j.graph.database" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@neo4j" />
    <meta name="twitter:site" content="@neo4j" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Vector search index - Cypher Manual" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://dist.neo4j.com/wp-content/uploads/20210423062553/neo4j-social-share-21.png" />
    <meta property="og:description" content="This chapter describes how to use vector indexes to perform approximate nearest neighbor search." />
    <meta property="og:url" content="https://neo4j.com/docs/cypher-manual/5/indexes-for-vector-search/" />
    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />
  </head>
  <body class="article docs">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK23PSS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script>(function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);
mixpanel.init("4bfb2414ab973c741b6f067bf06d5575", {batch_requests: true})
mixpanel.track("Page View", {
    pathname: window.location.origin + window.location.pathname,
    search: window.location.search,
    hash: window.location.hash,
    referrer: document.referrer,
})
</script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">

      <img class="navbar-logo" src="https://dist.neo4j.com/wp-content/uploads/20230926084108/Logo_FullColor_RGB_TransBG.svg" alt="Neo4j Docs" />
      <a href="/docs/" class="navbar-item no-left-padding" aria-label="Docs">
        Docs
      </a>

      </div>

      <button class="navbar-search search-button" data-target="topbar-nav" id="search_open_mobile" aria-label="Open Search">
        <svg width="23px" height="23px" viewBox="0 0 23 23" version="1.1" class="fill-current float-right" id="searchx" role="button" title="Search Website">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
            stroke-linejoin="round">
            <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
              <circle
                transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                cx="11.3893642" cy="11.3885639" r="8.056"></circle>
              <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
            </g>
          </g>
        </svg>
      </button>
      <button class="navbar-burger" data-target="topbar-nav" aria-label="Mobile Navigation Button">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">


        <div class="navbar-item has-dropdown is-hoverable docs">
          <a class="navbar-link" href="/docs/">Docs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <span class="project-name">Neo4j DBMS</span>
              <ul class="project-links">
                <li><a href="/docs/getting-started/current/" class="project-link">Getting Started</a></li>
                <li><a href="/docs/operations-manual/current/" class="project-link">Operations</a></li>
                <li><a href="/docs/migration-guide/current/" class="project-link">Migration and Upgrade</a></li>
                <li><a href="/docs/status-codes/current/" class="project-link">Status Codes</a></li>
                <li><a href="/docs/java-reference/current/" class="project-link">Java Reference</a></li>
                <li><a href="/docs/kerberos-add-on/current/" class="project-link">Kerberos Add-on</a></li>
                <li><a href="/docs/cdc/current/" class="project-link">Change Data Capture (CDC)</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="/docs/aura/">Neo4j Aura</a>
              <ul class="project-links">
                <li><a class="project-link" href="/docs/aura">Neo4j Aura</a></li>
                <li><a class="project-link" href="/docs/aura/auradb/">Neo4j AuraDB</a></li>
                <li><a class="project-link" href="/docs/aura/aurads/">Neo4j AuraDS</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Tools</span>
              <ul class="project-links">
                <li><a href="/docs/bloom-user-guide/current/" class="project-link">Neo4j Bloom</a></li>
                <li><a href="/docs/browser-manual/current/" class="project-link">Neo4j Browser</a></li>
                <li><a href="/docs/data-importer/current/" class="project-link">Neo4j Data Importer</a></li>
                <li><a href="/docs/desktop-manual/current/" class="project-link">Neo4j Desktop</a></li>
                <li><a href="/docs/ops-manager/current/" class="project-link">Neo4j Ops Manager</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Graph Data Science</span>
              <ul class="project-links">
                <li><a href="/docs/graph-data-science/current/" class="project-link">Neo4j Graph Data Science Library</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Cypher Query Language</span>
              <ul class="project-links">
                <li><a href="/docs/cypher-manual/current/" class="project-link">Cypher</a></li>
                <li><a href="/docs/cypher-cheat-sheet/current/" class="project-link">Cypher Cheat Sheet</a></li>
                <li><a href="/docs/apoc/current/" class="project-link">APOC Library</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name" href="/docs/drivers-apis">Create applications</span>
              <ul class="project-links">
                <li><a href="/docs/python-manual/current/" class="project-link">Python Driver</a></li>
                <li><a href="/docs/go-manual/current/" class="project-link">Go Driver</a></li>
                <li><a href="/docs/java-manual/current/" class="project-link">Java Driver</a></li>
                <li><a href="/docs/javascript-manual/current/" class="project-link">JavaScript Driver</a></li>
                <li><a href="/docs/dotnet-manual/current/" class="project-link">.Net Driver</a></li>
                <li><a href="/docs/graphql-manual/current/" class="project-link">Neo4j GraphQL Library</a></li>
                <li><a href="/docs/http-api/current/" class="project-link">HTTP API</a></li>
                <li><a href="/docs/ogm-manual/current/" class="project-link">OGM Library</a></li>
                <li><a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#reference" class="project-link">Spring Data Neo4j</a></li>
                <li><a href="/docs/spark/" class="project-link">Neo4j Connector for Apache Spark</a></li>
                <li><a href="/docs/kafka/" class="project-link">Neo4j Connector for Apache Kafka</a></li>
              </ul>
            </div>

          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable labs">
          <a class="navbar-link" href="/labs/">Labs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="/labs/arrows/">arrows.app</a>
              <ul class="project-links">
                <li><a href="/labs/arrows/" class="project-link">Details</a></li>
                <li><a href="https://arrows.app" class="project-link">arrows.app</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/apoc/">APOC Extended</a>

              <ul class="project-links">
                <li><a href="/labs/apoc/5/" class="project-link">Documentation</a></li>
                <li><a href="/developer/neo4j-apoc/" class="project-link">Developer Guide</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/halin/">Halin</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/etl-tool/">ETL Tool</a>
              <ul class="project-links">
                <li><a href="/labs/etl-tool/" class="project-link">Details</a></li>
                <li><a href="/labs/etl-tool/1.5.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neo4j-migrations/">Neo4j Migrations</a>
              <ul class="project-links">
                <li><a href="/labs/neo4j-migrations/" class="project-link">Details</a></li>
                <li><a href="/labs/neo4j-migrations/2.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/liquibase/">Neo4j Plugin For Liquibase</a>
              <ul class="project-links">
                <li><a href="/labs/liquibase/" class="project-link">Details</a></li>
                <li><a href="https://github.com/liquibase/liquibase-neo4j" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neosemantics/">Neosemantics</a>
              <ul class="project-links">
                <li><a href="/labs/neosemantics/tutorial/" class="project-link">Getting Started</a></li>
                <li><a href="/labs/neosemantics/4.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neo4j-helm/">Neo4j Helm</a>
              <ul class="project-links">
                <li><a href="/labs/neo4j-helm/" class="project-link">Details</a></li>
                <li><a href="/labs/neo4j-helm/1.0.0/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neodash/">NeoDash</a>
              <ul class="project-links">
                <li><a href="/labs/neodash/" class="project-link">Details</a></li>
                <li><a href="/labs/neodash/2.1/" class="project-link">Documentation</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neomodel/">neomodel</a>
              <ul class="project-links">
                <li><a href="/labs/neomodel/" class="project-link">Details</a></li>
                <li><a href="https://neomodel.readthedocs.io/en/latest/" target="_blank" class="project-link">Documentation</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable developer">
          <a class="navbar-link" href="/developer/resources/">Get Help</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/?ref=docs" target="_blank">GraphAcademy</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/?ref=docs">Free, Self Paced Training</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/certification/?ref=docs" target="_blank">Certification</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/forum" target="_blank">Community Forum</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/chat" target="_blank">Discord Chat</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/developer/kb" target="_blank">Knowledge Base</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://medium.com/neo4j" target="_blank">Neo4j Developer Blog</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://www.youtube.com/neo4j" target="_blank">Neo4j Videos</a>
            </div>
          </div>
        </div>
        <div class="navbar-item is-hoverable getting-started-cta">
          <a class="navbar-link primary" href="https://neo4j.com/cloud/platform/aura-graph-database/?ref=docs-nav-get-started">Get Started Free</a>
        </div>
        <div class="navbar-item">
          <a class="navbar-link search-button" href="#search" id="search_open"><svg width="23px" height="23px" viewBox="0 0 23 23"
              version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              class="fill-current float-right" id="search" role="button" title="Search Website">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
                stroke-linejoin="round">
                <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                  <circle
                    transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                    cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                  <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
                </g>
              </g>
            </svg><span class="navbar-mobile">Search</span></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cypher-manual" data-version="5">
  <aside class="nav">
    <div class="panels">
      <div class="selectors">
        
      </div>
      <div class="nav-panel-menu is-active" data-panel="menu">
    <nav class="nav-menu">
    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../introduction/">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/cypher_overview/">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/cypher_neo4j/">Cypher and Neo4j</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/cypher_aura/">Cypher and Aura</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../queries/">Queries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../queries/concepts/">Core concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../queries/basic/">Basic queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../queries/expressions/">Cypher expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../queries/case/">Conditional expressions (CASE)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../clauses/">Clauses</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/clause_composition/">Clause composition</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/match/">MATCH</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/optional-match/">OPTIONAL MATCH</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/return/">RETURN</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/with/">WITH</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/unwind/">UNWIND</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/where/">WHERE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/order-by/">ORDER BY</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/skip/">SKIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/limit/">LIMIT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/create/">CREATE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/delete/">DELETE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/set/">SET</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/remove/">REMOVE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/foreach/">FOREACH</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/merge/">MERGE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/call/">CALL procedure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/union/">UNION</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/use/">USE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/load-csv/">LOAD CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/listing-functions/">SHOW FUNCTIONS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/listing-procedures/">SHOW PROCEDURES</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/listing-settings/">SHOW SETTINGS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/transaction-clauses/#query-listing-transactions">SHOW TRANSACTIONS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clauses/transaction-clauses/#query-terminate-transactions">TERMINATE TRANSACTIONS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../subqueries/">Subqueries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subqueries/call-subquery/">CALL subqueries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subqueries/subqueries-in-transactions/">CALL subqueries in transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subqueries/existential/">EXISTS subqueries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subqueries/count/">COUNT subqueries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../subqueries/collect/">COLLECT subqueries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../patterns/">Patterns</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../patterns/concepts/">Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../patterns/primer/">Primer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../patterns/reference/">Syntax and semantics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../values-and-types/">Values and types</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/property-structural-constructed/">Property, structural, and constructed values</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/temporal/">Temporal values</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/spatial/">Spatial values</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/working-with-null/">Working with <code>null</code></a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/lists/">Lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/maps/">Maps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/casting-data/">Casting data values</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../values-and-types/type-predicate/">Type predicate expressions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../functions/">Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/predicate/">Predicate functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/scalar/">Scalar functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/aggregating/">Aggregating functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/list/">List functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/mathematical-numeric/">Mathematical functions - numeric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/mathematical-logarithmic/">Mathematical functions - logarithmic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/mathematical-trigonometric/">Mathematical functions - trigonometric</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/string/">String functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/temporal/">Temporal functions - instant types</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/temporal/duration/">Temporal functions - duration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/spatial/">Spatial functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/load-csv/">LOAD CSV functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/graph/">Graph functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/database/">Database functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../functions/user-defined/">User-defined functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../indexes-for-search-performance/">Indexes for search performance</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../indexes-for-full-text-search/">Full-text search index</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="./">Vector search index</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../constraints/">Constraints</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../constraints/syntax/">Syntax</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../constraints/examples/">Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../planning-and-tuning/">Execution plans and query tuning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../planning-and-tuning/execution-plans/">Understanding execution plans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../planning-and-tuning/operators/">Operators</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/operators/operators-detail/">Operators in detail</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../planning-and-tuning/runtimes/">Cypher runtimes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/runtimes/concepts/">Concepts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/runtimes/reference/">Parallel runtime: reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link nav-item-toggle" href="../planning-and-tuning/query-tuning/">Query tuning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/query-tuning/indexes/">The use of indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/query-tuning/using/">Planner hints and the USING keyword</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../planning-and-tuning/query-tuning/query-options/">Query options</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../query-caches/">Query caches</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query-caches/unified-query-caches/">Unifying query caches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../administration/">Administration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link nav-item-toggle" href="../syntax/">Syntax</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/parsing/">Parsing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/naming/">Naming rules and recommendations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/variables/">Variables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/reserved/">Reserved keywords</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/parameters/">Parameters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/operators/">Operators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../syntax/comments/">Comments</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../deprecations-additions-removals-compatibility/">Deprecations, additions, and compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text nav-item-toggle">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../styleguide/">Cypher styleguide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix/tutorials/">Tutorials and extended examples</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <div class="toolbar-wrapper">
    <button class="nav-toggle" aria-label="Toggle Table of Contents"></button>
    <a href="../introduction/" class="home-link" aria-label="Go to home page"></a>
    <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../introduction/">Cypher Manual</a></li>
    <li><a href="./">
        Vector search index
    </a></li>
  </ul>
</nav>
      </div>
</div>

  <div class="content">
<article class="doc">
<div class="sect-header">
<h1 class="page">Vector search index</h1>
</div>





<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Vector search indexes were released as a public beta in Neo4j 5.11 and general availability in Neo4j 5.13.</em></p>
</div>
<div class="paragraph">
<p>This chapter describes how to use vector indexes to perform an approximate nearest neighbor search.</p>
</div>
<div class="paragraph">
<p>Vector indexes allow users to query vector embeddings from large datasets.
An embedding is a numerical representation of a data object, such as text, image, audio, or document.</p>
</div>
<div class="paragraph">
<p>For example, each word or token in a text is typically represented as high-dimensional vector where each dimension represents a certain aspect of the word’s meaning.
Words that are semantically similar or related are often represented by vectors that are closer to each other in this vector space.
This allows for mathematical operations like addition and subtraction to carry semantic meaning.
For example, the vector representation of "king" minus "man" plus "woman" might be close to the vector representation of "queen."
In other words, vector embeddings can be said to be a numerical representation of a particular data object, capturing its semantic meaning.</p>
</div>
<div class="paragraph">
<p>The embedding for a particular data object can be generated by, for example, the <a href="https://cloud.google.com/vertex-ai">Vertex AI</a> or <a href="https://openai.com/">OpenAI</a> embedding generators, which can produce vector embeddings with dimensions such as 768, 1024, and 1536.
These vector embeddings are stored as <code>LIST&lt;FLOAT&gt;</code> properties on a node, where each dimensional component of the vector is an element in the <code>LIST</code>.
A Neo4j vector index can be used to index nodes by <code>LIST&lt;FLOAT&gt;</code> properties valid to the index.</p>
</div>
<div class="paragraph">
<p>In Neo4j, a vector index allows you to write queries that match a <em>neighborhood</em> of nodes based on the similarity between the properties of those nodes and the ones specified in the query.</p>
</div>
<div class="paragraph">
<p>Neo4j vector indexes are powered by the <a href="https://lucene.apache.org/">Apache Lucene</a> indexing and search library.
Lucene implements a Hierarchical Navigable Small World<sup class="footnote" id="_footnote_hnsw">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> (HNSW) Graph to perform a <em>k</em> approximate nearest neighbors (<em>k</em>-ANN) query over the vector fields.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vector_index_commands_and_procedures"><a class="anchor" href="#_vector_index_commands_and_procedures"></a>Vector index commands and procedures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vector indexes are managed through Cypher<sup>&reg;</sup> commands and built-in procedures, see <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/">Operations Manual &#8594; Procedures</a> for a complete reference.</p>
</div>
<div class="paragraph">
<p>The procedures and commands for vector indexes are listed in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Commands and procedures for vector indexes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 33.3333%;">
<col style="width: 41.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Procedure/Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create vector index.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_createNodeIndex"><code>db.index.vector.createNodeIndex</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create a named vector index for the specified label and property with the given vector dimensionality using the given similarity function.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use vector index.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_queryNodes"><code>db.index.vector.queryNodes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Query the given vector index.
Returns the requested number of approximate nearest neighbor nodes and their similarity score, ordered by score.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drop vector index.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DROP INDEX index_name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Drop the specified index.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listing all vector indexes.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>SHOW INDEXES WHERE type = "VECTOR"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lists all vector indexes, see the <a href="../indexes-for-search-performance/#indexes-list-indexes" class="xref page"><code>SHOW INDEXES</code></a> command for details. There is no vector index filter built into <code>SHOW INDEXES</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set vector property.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setNodeVectorProperty"><code>db.create.setNodeVectorProperty</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="label label--beta">Beta</span> <span class="label label--new">Introduced in 5.13</span> Update a given node property with the given vector in a more space-efficient way than directly using <a href="../clauses/set/#set-set-a-property" class="xref page"><code>SET</code></a>. Replaces  <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setVectorProperty"><code>db.create.setVectorProperty</code></a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set vector property.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setVectorProperty"><code>db.create.setVectorProperty</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="label label--beta">Beta</span> <span class="label label--deprecated">Deprecated</span> It is replaced by <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setNodeVectorProperty"><code>db.create.setNodeVectorProperty</code></a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-create"><a class="anchor" href="#indexes-vector-create"></a>Create and configure vector indexes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create vector indexes using the procedure <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_createNodeIndex"><code>db.index.vector.createNodeIndex</code></a>.
The name of the index must be unique so that you can reference it when <a href="#indexes-vector-query">querying</a> or if you want to <a href="#indexes-vector-drop">drop</a> the index.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The index name must be unique among both indexes and constraints.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A vector index is a single-label, single-property index for nodes.
In addition to the label and property key (both given as <code>STRING</code>), a vector index needs to be configured with both the dimensionality of the vector (<code>INTEGER</code> between <code>1</code> and <code>2048</code> <em>inclusive</em>), and the measure of similarity between two vectors (case-insensitive <code>STRING</code>).
For details, see <a href="#indexes-vector-similarity">Supported similarity functions</a>.</p>
</div>
<div class="listingblock noheader">
<div class="title">Signature for <code>db.index.vector.createNodeIndex</code> to create a vector node index</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-syntax hljs" data-lang="syntax">db.index.vector.createNodeIndex(indexName :: STRING, label :: STRING, propertyKey :: STRING, vectorDimension :: INTEGER, vectorSimilarityFunction :: STRING)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The new index is not immediately available but is created in the background.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All vectors within the index must have the same dimensionality.
The measure of similarity is determined by the given vector similarity function.
This defines how similar two vectors are to one another by a similarity score, how vectors are interpreted, and what vectors are valid for the index.</p>
</div>
<div class="paragraph">
<p>A node is indexed if all the following are true:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The node contains the configured label.</p>
</li>
<li>
<p>The node contains the configured property key.</p>
</li>
<li>
<p>The respective property value is of type <code>LIST&lt;FLOAT&gt;</code>.</p>
</li>
<li>
<p>The <a href="../functions/scalar/#functions-size" class="xref page"><code>size()</code></a> of the respective value is the same as the configured dimensionality.</p>
</li>
<li>
<p>The value is a valid vector for the configured similarity function.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, a node is not indexed.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Create a vector index</div>
<div class="content">
<div class="paragraph">
<p>For instance, assume you have a graph of research papers, and each paper has an abstract.
You want to find papers in the neighborhood of a paper you know.</p>
</div>
<div class="listingblock noheader">
<div class="title">Data model</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-syntax hljs" data-lang="syntax">(:Title)&lt;--(:Paper)--&gt;(:Abstract)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assume for each abstract, you have generated a 1536-dimensional vector <code>embedding</code> of the abstract&#8217;s <code>text</code> using Open AI&#8217;s default model, <code>text-embedding-ada-002</code>.
This model suggests a <a href="#indexes-vector-similarity-cosine">cosine similarity</a>.
For more information, see <a href="https://platform.openai.com/docs/guides/embeddings/which-distance-function-should-i-use">OpenAI&#8217;s official documentation</a>.</p>
</div>
<div class="paragraph">
<p>You can create a cosine vector index over the <code>embedding</code> property.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CALL db.index.vector.createNodeIndex('abstract-embeddings', 'Abstract', 'embedding', 1536, 'cosine')</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the vector index has been created using <code>SHOW INDEXES</code>:</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">SHOW INDEXES YIELD name, type, labelsOrTypes, properties, options
WHERE type = 'VECTOR'</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch queryresult">
<caption class="title">Table 2. Result</caption>
<colgroup>
<col style="width: 17.647%;">
<col style="width: 11.7647%;">
<col style="width: 17.647%;">
<col style="width: 17.647%;">
<col style="width: 35.2943%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">type</th>
<th class="tableblock halign-left valign-top">labelsOrTypes</th>
<th class="tableblock halign-left valign-top">properties</th>
<th class="tableblock halign-left valign-top">options</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"abstract-embeddings"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"VECTOR"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>["Abstract"]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>["embedding"]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{indexProvider: "vector-1.0", indexConfig: {vector.dimensions: 1536, vector.similarity_function: "cosine"}}</code></p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">Rows: 1</p></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-query"><a class="anchor" href="#indexes-vector-query"></a>Query a vector index</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can query a vector index using the procedure <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_queryNodes"><code>db.index.vector.queryNodes</code></a>.</p>
</div>
<div class="listingblock noheader">
<div class="title">Signature for <code>db.index.vector.queryNodes</code> to query a vector index</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-syntax hljs" data-lang="syntax">db.index.vector.queryNodes(indexName :: STRING, numberOfNearestNeighbours :: INTEGER, query :: LIST&lt;FLOAT&gt;) :: (node :: NODE, score :: FLOAT)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>indexName</code> (a <code>STRING</code>) refers to the unique name of the vector index to query.</p>
</li>
<li>
<p>The <code>numberOfNearestNeighbours</code> (an <code>INTEGER</code>) refers to the number of nearest neighbors to return as the neighborhood.</p>
</li>
<li>
<p>The <code>query</code> vector (a <code>LIST&lt;FLOAT&gt;</code>) in which to search for the neighborhood.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The procedure returns the neighborhood of nodes with their respective similarity scores, ordered by those scores.
The scores are bounded between <code>0</code> and <code>1</code>, where the closer to <code>1</code> the score is, the more similar the indexed vector is to the query vector.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Query a vector index</div>
<div class="content">
<div class="paragraph">
<p>This example takes the paper that describes the HNSW<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> graph structure that the vector index implements and tries to find similar papers.
First you <code>MATCH</code> to find the paper, and then you query the <code>abstract-embeddings</code> index for a neighborhood of <code>10</code> similar abstracts to your query.
Finally, you <code>MATCH</code> for the neighborhood&#8217;s respective titles.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">MATCH (title:Title)&lt;--(:Paper)--&gt;(abstract:Abstract)
WHERE toLower(title.text) = 'efficient and robust approximate nearest neighbor search using
  hierarchical navigable small world graphs'

CALL db.index.vector.queryNodes('abstract-embeddings', 10, abstract.embedding)
YIELD node AS similarAbstract, score

MATCH (similarAbstract)&lt;--(:Paper)--&gt;(similarTitle:Title)
RETURN similarTitle.text AS title, score</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch queryresult">
<caption class="title">Table 3. Result</caption>
<colgroup>
<col style="width: 71.4285%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">title</th>
<th class="tableblock halign-left valign-top">score</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Accelerating Large-Scale Graph-based Nearest Neighbor Search on a Computational Storage Platform"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9437285661697388</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Nearest Neighbor Search Under Uncertainty"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9322342872619629</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Neighbor selection and hitting probability in small-world graphs"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9316230416297913</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Fast Approximate Nearest Neighbor Search With The Navigating Spreading-out Graph"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9314759373664856</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Towards Similarity Graphs Constructed by Deep Reinforcement Learning"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9301378726959229</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"A novel approach to study realistic navigations on networks"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.928106427192688</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Intentional Walks on Scale Free Small Worlds"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9274556636810303</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"FINGER: Fast Inference for Graph-based Approximate Nearest Neighbor Search"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9267876148223877</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Learning to Route in Similarity Graphs"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.9263730049133301</code></p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Rows: 10</p></td>
</tr>
</tfoot>
</table>
<div class="paragraph">
<p>The results are expected, with papers discussing graph-based nearest-neighbor searches.</p>
</div>
<div class="paragraph">
<p>The most similar to this result is the query vector itself, which is to be expected as the index was queried with an indexed property.
If the query vector itself is not wanted, you can use <code>WHERE score &lt; 1</code> to remove equivalent vectors to the query vector.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-drop"><a class="anchor" href="#indexes-vector-drop"></a>Drop vector indexes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A vector index is dropped by using the <a href="../indexes-for-search-performance/#indexes-drop-an-index" class="xref page">same command as for other indexes</a>, <code>DROP INDEX</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. DROP INDEX</div>
<div class="content">
<div class="paragraph">
<p>In the following example, you drop the <code>abstract-embeddings</code> that you created previously:</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">DROP INDEX `abstract-embeddings`</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre>Removed 1 index.</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 beta">
<h2 id="indexes-vector-set"><a class="anchor" href="#indexes-vector-set"></a>Set a vector property on a node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Valid vectors for use in the index must have components finitely representable in IEEE 754<sup class="footnote" id="_footnote_ieee-754">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> <em>single</em> precision.
They are represented as properties on nodes with the type <code>LIST&lt;FLOAT&gt;</code>.
As of Neo4j 5.13, you can set a vector property using the <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setNodeVectorProperty"><code>db.create.setNodeVectorProperty</code></a> procedure.
It validates the input and sets the property as an array of IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> single precision values.
This beta procedure replaces <a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setVectorProperty"><code>db.create.setVectorProperty</code></a>.</p>
</div>
<div class="listingblock">
<div class="title">Signature for <code>db.create.setNodeVectorProperty</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-syntax hljs" data-lang="syntax">db.create.setNodeVectorProperty(node :: NODE, key :: STRING, vector :: LIST&lt;FLOAT&gt;)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Signature for <code>db.create.setVectorProperty</code> <span class="label label--deprecated">Deprecated</span></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-syntax hljs" data-lang="syntax">db.create.setVectorProperty(node :: NODE, key :: STRING, vector :: LIST&lt;FLOAT&gt;) :: (node :: NODE)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows how to define embeddings as Cypher parameters by matching a node and setting its vector properties using <code>db.create.setNodeVectorProperty</code>:</p>
</div>
<div class="listingblock">
<div class="title">Set a vector via <code>db.create.setVectorProperty</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">MATCH (n:Node {id: $id})
CALL db.create.setNodeVectorProperty(n, 'propertyKey', $vector)
RETURN node</code></pre>
</div>
</div>
<div class="paragraph">
<p>Furthermore, you can also use a list parameter containing several <code>MATCH</code> criteria and embeddings to update multiple nodes in an <code>UNWIND</code> clause.
This is ideal for creating and setting new vector properties in the graph.</p>
</div>
<div class="paragraph">
<p>You can also set a vector property on a node using the <a href="../clauses/set/#set-set-a-property" class="xref page"><code>SET</code></a> command as in the following example:</p>
</div>
<div class="listingblock">
<div class="title">Set a vector property via <code>SET</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">MATCH (node:Node {id: $id})
SET node.propertyKey = $vector
RETURN node</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, Cypher stores the provided <code>LIST&lt;FLOAT&gt;</code> as a primitive array of IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> <em>double</em> precision values.
This takes up almost twice as much space compared to the alternative method, where you use the <code>db.create.setNodeVectorProperty</code> procedure.
As a result, using <code>SET</code> for a vector index is not recommended.</p>
</div>
<div class="paragraph">
<p>To reduce the storage space, you can reset the existing properties using <code>db.create.setNodeVectorProperty</code>.
However, this comes with the cost of an increase in the transaction log size until they are rotated away.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-similarity"><a class="anchor" href="#indexes-vector-similarity"></a>Supported similarity functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The choice of similarity function affects which indexed vectors are considered similar, and which are valid.
The semantic meaning of the vector may itself dictate which similarity function to choose.
Refer to the documentation for the particular vector embedding model you are using, as it may suggest a preference for certain similarity functions.
Otherwise, being able to differentiate between the various similarity functions can assist in making a more informed decision.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Similarity functions</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Case insensitive argument</th>
<th class="tableblock halign-left valign-top">Key similarity feature</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#indexes-vector-similarity-euclidean">Euclidean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"euclidean"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>distance</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#indexes-vector-similarity-cosine">Cosine</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"cosine"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>angle</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For <span class="image"><img src="../_images/l2.svg" alt="l2"></span>-normalized vectors (unit vectors), thus having unit length <span class="image"><img src="../_images/l2norm_is_1.svg" alt="The l2-norm of vector v equals 1"></span>, Euclidean and cosine similarity functions produce the same similarity ordering.</p>
</div>
<div class="sect2">
<h3 id="indexes-vector-similarity-euclidean"><a class="anchor" href="#indexes-vector-similarity-euclidean"></a>Euclidean similarity</h3>
<div class="paragraph">
<p>Euclidean similarity is useful when the <em>distance</em> between the vectors is what determines how similar two vectors are.</p>
</div>
<div class="paragraph">
<p>A valid vector for a Euclidean vector index is when all vector components can be represented finitely in IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> single precision.</p>
</div>
<div class="paragraph">
<p>Euclidean interprets the vectors in Cartesian coordinates.
The measure is related to the Euclidean distance, i.e., how far two points are from one another.
However, that distance is unbounded and less useful as a similarity score.
Euclidean similarity bounds the square of the Euclidean distance.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/euclidean_similarity_equation.svg" alt="The Euclidean of vector v and vector u is defined as 1 over the quantity 1 plus the square of the l2-norm of vector v subtract vector u, which exists in the bounded set of real numbers between 0 exclusive and 1 inclusive.">
</div>
</div>
</div>
<div class="sect2">
<h3 id="indexes-vector-similarity-cosine"><a class="anchor" href="#indexes-vector-similarity-cosine"></a>Cosine similarity</h3>
<div class="paragraph">
<p>Cosine similarity is used when the <em>angle</em> between the vectors is what determines how similar two vectors are.</p>
</div>
<div class="paragraph">
<p>A valid vector for a cosine vector index is when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All vector components can be represented finitely in IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> single precision.</p>
</li>
<li>
<p>Its <span class="image"><img src="../_images/l2.svg" alt="l2"></span>-norm is non-zero and can be represented finitely in IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> single precision.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cosine similarity interprets the vectors in Cartesian coordinates.
The measure is related to the angle between the two vectors.
However, an angle can be described in many units, sign conventions, and periods.
The trigonometric cosine of this angle is both agnostic to the aforementioned angle conventions and bounded.
Cosine similarity rebounds the trigonometric cosine.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/cosine_similarity_equation.svg" alt="The cosine of vector v and vector u is defined as half of the quanity 1 plus the scalar product of v hat u hat, which equals half of the quantity 1 plus the scalar product of vector v vector u over the product of the l2-norm of vector v and the l2 norm ov vector u, which exists in the bounded set of real numbers between 0 inclusive and 1 inclusive.">
</div>
</div>
<div class="paragraph">
<p>In the above equation the trigonometric cosine is given by the scalar product of the two unit vectors.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-limitations"><a class="anchor" href="#indexes-vector-limitations"></a>Limitations and idiosyncrasies</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The query is an <em>approximate</em> nearest neighbor search.
The requested <em>k</em> nearest neighbors may not be the exact <em>k</em> nearest, but close within the same wider neighborhood, such as finding a local extremum <em>vs</em> the true extremum.</p>
</li>
<li>
<p>For large requested nearest neighbors, <em>k</em>, close to the total number of indexed vectors, the search may retrieve fewer than <em>k</em> results.</p>
</li>
<li>
<p>The index must have a unique name.
There is no provided method for an autogenerated name.</p>
</li>
<li>
<p>Only one vector index can be over a schema.
For example, you cannot have one <a href="#indexes-vector-similarity-euclidean">Euclidean</a> and one <a href="#indexes-vector-similarity-cosine">cosine</a> vector index on the same label-property key pair.</p>
</li>
<li>
<p>Only node vector indexes are supported.</p>
</li>
<li>
<p>No provided settings or options for tuning the index.</p>
</li>
<li>
<p>Changes made within the same transaction are not visible to the index.</p>
</li>
<li>
<p>There is no Cypher syntax for creating a vector index, nor for the standard index type filtering with <a href="../indexes-for-search-performance/#indexes-list-indexes" class="xref page"><code>SHOW INDEXES</code></a> command.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index-vector-issues"><a class="anchor" href="#index-vector-issues"></a>Known issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As of Neo4j 5.13, the vector search index is no longer a beta feature.
The following table lists the known issues and the version in which they were fixed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 83.3333%;">
<col style="width: 16.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Known issues</th>
<th class="tableblock halign-left valign-top">Fixed in</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Querying for a <em>single</em> approximate nearest neighbor from an index would fail a validation check. Passing a <code>null</code> value would also provide an unhelpful exception.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Vector index queries throw an exception if the transaction state contains changes. This means that writes may only take place <strong>after</strong> the last vector index query in a transaction.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To work around this issue if you need to run multiple vector index queries and make changes based on the results, you can run the queries in a <code>CALL { ... } IN TRANSACTIONS</code> clause to isolate them from the outer transaction&#8217;s state.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="../clauses/listing-procedures/" class="xref page"><code>SHOW PROCEDURES</code></a> does not show the vector index procedures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_create_setVectorProperty"><code>db.create.setVectorProperty</code></a></p>
</li>
<li>
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_createNodeIndex"><code>db.index.vector.createNodeIndex</code></a></p>
</li>
<li>
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_queryNodes"><code>db.index.vector.queryNodes</code></a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The procedures are still usable, just not visible.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Passing <code>null</code> as an argument to some of the procedure parameters can generate a confusing exception.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The creation of the vector index skipped the check to limit the dimensionality to <code>2048</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Vector indexes configured with dimensionality greater than <code>2048</code> in Neo4j 5.11 should continue to work after the limitation is applied.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The validation for <a href="#indexes-vector-similarity-cosine">cosine similarity</a> verifies that the vector&#8217;s <span class="image"><img src="../_images/l2.svg" alt="l2"></span>-norm can be represented finitely in IEEE 754<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> <strong>double</strong> precision, rather than in <em>single</em> precision.
This can lead to certain large component vectors being incorrectly indexed, and return a similarity score of <code>&plusmn;0.0</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/reference/procedures/#procedure_db_index_vector_queryNodes"><code>db.index.vector.queryNodes</code></a> query vector validation is incorrect with a <a href="#indexes-vector-similarity-cosine">cosine</a> vector index. The <span class="image"><img src="../_images/l2.svg" alt="l2"></span>-norm validation only considers the last component of the vector. If that component is <code>&plusmn;0.0</code>, an otherwise valid query vector will be thrown as invalid. This can also result in some invalid vectors being used to query, and return a similarity score of <code>&plusmn;0.0</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For <span class="image"><img src="../_images/l2.svg" alt="l2"></span>-normalized vectors (unit vectors), thus having unit length <span class="image"><img src="../_images/l2norm_is_1.svg" alt="The l2-norm of vector v equals 1"></span>, Euclidean and cosine similarity functions produce the same similarity ordering.
It is <em>recommended</em> to normalize your vectors (if needed), and use a <a href="#indexes-vector-similarity-euclidean">Euclidean</a> vector index.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The vector index <code>createStatement</code> field from <a href="../indexes-for-search-performance/#indexes-list-indexes" class="xref page"><code>SHOW INDEXES</code></a> does not correctly escape single quotes in index names, labels, and property keys.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://neo4j.com/docs/operations-manual/5/backup-restore/copy-database/">Copying a database store</a> with a vector index does not log the recreation command, and instead logs an error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ERROR: [StoreCopy] Unable to format statement for index 'index-name'</pre>
</div>
</div>
<div class="paragraph">
<p>Due to an:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java.lang.IllegalArgumentException: Did not recognize index type VECTOR</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a store copy is required, make a note of the information in the <code>createStatement</code> column returned from the <code>SHOW INDEX</code> command.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">SHOW INDEXES YIELD type, createStatement
WHERE type = 'VECTOR'
RETURN createStatement</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Some of the protections preventing the use of new features during a database rolling upgrade are missing.
This can result in a transaction to create a vector index on a cluster member running Neo4j 5.11 and distributing it to other cluster members running an older Neo4j version.
The older Neo4j versions will fail to understand the transaction.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that all cluster members have been updated to use Neo4j 5.11 (or a newer version) before calling <code>dbms.upgrade()</code> on the <code>system</code> database. Once committed, vector indexes can be safely created on the cluster.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neo4j 5.12</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="indexes-vector-suggestions"><a class="anchor" href="#indexes-vector-suggestions"></a>Suggestions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vector indexes can take advantage of the incubated Java 20 Vector API for noticeable speed improvements.
If you are using a compatible version of Java, you can add the following setting to your <a href="https://neo4j.com/docs/operations-manual/5/configuration/configuration-settings/#config_server.jvm.additional">configuration settings</a>:</p>
</div>
<div class="listingblock">
<div class="title">Configuration settings</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-config hljs" data-lang="config">server.jvm.additional=--add-modules jdk.incubator.vector</code></pre>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="http://dx.doi.org/10.1109/TPAMI.2018.2889473">Efficient and Robust Approximate Nearest Neighbor Search Using Hierarchical Navigable Small World Graphs</a>&#8201;&#8212;&#8201;Yury A. Malkov and Dmitry A. Yashunin (preprint: <a href="https://arxiv.org/abs/1603.09320:">arXiv:1603.09320</a>)
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://doi.org/10.1109/IEEESTD.2019.8766229">IEEE Standard for Floating-Point Arithmetic</a>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../indexes-for-full-text-search/">Full-text search index</a></span>

  <span class="next"><a href="../constraints/">Constraints</a></span>
</nav>
    <div class="feedback">
    <div class="header question">
        <p><strong>Was this page helpful?</strong></p>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="no" aria-label="No, this page isn't helpful">
            <path
                d="M6.25,15.8333333 C6.25,13.7622655 7.92893219,12.0833333 10,12.0833333 C12.0710678,12.0833333 13.75,13.7622655 13.75,15.8333333"
                ></path>
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M12.5,4.58333333 C12.8934466,4.05873783 13.5109223,3.75 14.1666667,3.75 C14.822411,3.75 15.4398867,4.05873783 15.8333333,4.58333333"
                ></path>
            <line x1="4.58333333" y1="7.91666667" x2="7.08333333" y2="7.91666667" ></line>
            <path
                d="M7.08333333,8.54166667 C6.96827401,8.54166667 6.875,8.44839266 6.875,8.33333333 C6.875,8.21827401 6.96827401,8.125 7.08333333,8.125 C7.19839266,8.125 7.29166667,8.21827401 7.29166667,8.33333333 C7.29166667,8.44839266 7.19839266,8.54166667 7.08333333,8.54166667"
                ></path>
            <line x1="12.9166667" y1="7.91666667" x2="15.4166667" y2="7.91666667" ></line>
            <path
                d="M15.4166667,8.54166667 C15.3016073,8.54166667 15.2083333,8.44839266 15.2083333,8.33333333 C15.2083333,8.21827401 15.3016073,8.125 15.4166667,8.125 C15.531726,8.125 15.625,8.21827401 15.625,8.33333333 C15.625,8.44839266 15.531726,8.54166667 15.4166667,8.54166667"
                ></path>
            <path
                d="M4.16666667,4.58333333 C4.5601133,4.05873783 5.17758895,3.75 5.83333333,3.75 C6.48907772,3.75 7.10655337,4.05873783 7.5,4.58333333"
                ></path>
        </svg>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="yes" aria-label="Yes, this page is helpful">
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M5.41666667,8.125 C5.53172599,8.125 5.625,8.21827401 5.625,8.33333333 C5.625,8.44839266 5.53172599,8.54166667 5.41666667,8.54166667 C5.30160734,8.54166667 5.20833333,8.44839266 5.20833333,8.33333333 C5.20833333,8.21827401 5.30160734,8.125 5.41666667,8.125"
                ></path>
            <path
                d="M14.5833333,8.125 C14.468274,8.125 14.375,8.21827401 14.375,8.33333333 C14.375,8.44839266 14.468274,8.54166667 14.5833333,8.54166667 C14.6983927,8.54166667 14.7916667,8.44839266 14.7916667,8.33333333 C14.7916667,8.21827401 14.6983927,8.125 14.5833333,8.125"
                ></path>
            <path
                d="M13.2275,12.9166657 C13.4853075,12.9162808 13.7287776,13.035241 13.8869095,13.2388563 C14.0450415,13.4424715 14.1000278,13.7078123 14.0358333,13.9575 C13.562901,15.7999679 11.9021969,17.0882321 10,17.0882321 C8.09780311,17.0882321 6.43709903,15.7999679 5.96416667,13.9575 C5.89997223,13.7078123 5.95495852,13.4424715 6.11309045,13.2388563 C6.27122239,13.035241 6.51469246,12.9162808 6.7725,12.9166657 L13.2275,12.9166657 Z"
                ></path>
        </svg>
    </div>


</div></article>
<aside class="toc sidebar" data-title="Contents"
  data-levels="2">
  <div class="toc-menu">
    <div class="toc-menu-placeholder"></div>

      </div>
  </aside>  </div>
</main>
</div>
<footer class="footer">
  <div class="wrapper">

  <div class="column logo">
    <div class="logo-footer"></div>
  </div>
  
  <div class="column links">
    <h2>Learn</h2>
    <ul>
      <li><i class="fa fa-wrench" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/sandbox/?ref=developer-footer">Sandbox</a></li>
      <li><i class="fa fa-comments-o" aria-hidden="true"></i> <a rel="noopener" href="https://community.neo4j.com?ref=developer-footer" target="_blank">Neo4j Community Site</a></li>
      <li><i class="fa fa-book" aria-hidden="true"></i> <a rel="noopener" href="https://medium.com/neo4j" target="_blank">Neo4j Developer Blog</a></li>
      <li><i class="fa fa-youtube" aria-hidden="true"></i> <a rel="noopener" href="https://www.youtube.com/neo4j" target="_blank">Neo4j Videos</a></li>
      <li><i class="fa fa-graduation-cap" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/graphacademy/?ref=developer-footer">GraphAcademy</a></li>
      <li><i class="fa fa-flask" aria-hidden="true"></i> <a href="https://neo4j.com/labs/?ref=developer-footer">Neo4j Labs</a></li>
    </ul>
  </div>
  <div class="column links">
    <h2>Social</h2>
    <ul>
      <li><i class="fa fa-twitter" aria-hidden="true"></i> <a rel="noopener" href="https://twitter.com/neo4j" target="_blank">Twitter</a></li>
      <li><i class="fa fa-meetup" aria-hidden="true"></i> <a rel="noopener" href="https://www.meetup.com/Neo4j-Online-Meetup/" target="_blank">Meetups</a></li>
      <li><i class="fa fa-github" aria-hidden="true"></i> <a rel="noopener" href="https://github.com/neo4j/neo4j" target="_blank">Github</a></li>
      <li><i class="fa fa-stack-overflow" aria-hidden="true"></i> <a rel="noopener" href="https://stackoverflow.com/questions/tagged/neo4j" target="_blank">Stack Overflow</a></li>

      <li class="speaker-program"><a href="https://docs.google.com/forms/d/e/1FAIpQLSdEcNnMruES5iwvOVYovmS1D_P1ZL_HdUOitFrwrvruv5PZvA/viewform">Want to Speak?</a></li>
    </ul>
  </div>
  <div class="column links">
    <h2><a href="https://neo4j.com/contact-us/?ref=footer">Contact Us →</a></h2>
    <ul>
      <li>US: 1-855-636-4532</li>
      <li>Sweden +46 171 480 113</li>
      <li>UK: +44 20 3868 3223</li>
      <li>France: +33 (0) 1 88 46 13 20</li>
    </ul>
  </div>

    <div class="column">
    <p>© <span id="footer-copyright-year">2023</span> Neo4j, Inc.<br>
      <a href="https://neo4j.com/terms/">Terms</a> | <a href="https://neo4j.com/privacy-policy/">Privacy </a> | <a href="https://neo4j.com/sitemap/">Sitemap</a></p>
    <p>Neo4j<sup>®</sup>, Neo Technology<sup>®</sup>, Cypher<sup>®</sup>, Neo4j<sup>®</sup> Bloom<sup>™</sup> and
      Neo4j<sup>®</sup> Aura<sup>™</sup> are registered trademarks
      of Neo4j, Inc. All other marks are owned by their respective companies.</p>
  </div>

  
</div>
</footer>

  <script src="../../../assets/js/vendor/auth0.js"></script>
  <script src="../../../assets/js/site.js"></script>
  <script async src="../../../assets/js/vendor/highlight.js"></script>
  <script async src="../../../assets/js/vendor/image-zoom.js"></script>


<div id="neo4j-algolia-search-v2"></div>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.js"></script>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/polyfill.js"></script>
<script>window.algoliaSearchOptions = {indexName: "docs",placeholder: "Search Documentation",template: "docs"}</script>  </body>
</html>
