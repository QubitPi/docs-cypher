<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=1">
    <meta name="msvalidate.01" content="B5163518CBE4A854B63801277FE5E35C" />
    <meta name="google-site-verification" content="ucqagxjVuq0lJZeLKs0F5AppzK111lNt3IoxU6mzlJE" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WK23PSS');</script>
    <title>Operators in detail - Cypher Manual</title>
    <link rel="canonical" href="https://neo4j.com/docs/cypher-manual/25/planning-and-tuning/operators/operators-detail/">

    <link rel="prev" href="../">
    <link rel="next" href="../../runtimes/">

      <meta name="description" content="This page contains information about each Cypher operator.">
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.css" />
<link rel="stylesheet" href="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/utilities.min.css" />



    <link rel="preload" href="../../../../../assets/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font">
    <link rel="stylesheet" href="../../../../../assets/css/site.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />


    <meta property="neo:type" content="Docs">
    <meta property="neo:site" content="Reference Docs">


    <meta property="og:site_name" content="Neo4j Graph Data Platform" />
    <meta property="article:publisher" content="https://www.facebook.com/neo4j.graph.database" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@neo4j" />
    <meta name="twitter:site" content="@neo4j" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Operators in detail - Cypher Manual" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://dist.neo4j.com/wp-content/uploads/20240513110808/Neo4j-logo-social-preview.png" />
    <meta property="og:description" content="This page contains information about each Cypher operator." />
    <meta property="og:url" content="https://neo4j.com/docs/cypher-manual/25/planning-and-tuning/operators/operators-detail/" />
    <link rel="shortcut icon" href="https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico" />
  </head>
  <body class="article docs">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK23PSS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script>(function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);
mixpanel.init("4bfb2414ab973c741b6f067bf06d5575", {batch_requests: true})
mixpanel.track("Page View", {
    pathname: window.location.origin + window.location.pathname,
    search: window.location.search,
    hash: window.location.hash,
    referrer: document.referrer,
})
</script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">

        <img class="navbar-logo" src="https://dist.neo4j.com/wp-content/uploads/20230926084108/Logo_FullColor_RGB_TransBG.svg" alt="Neo4j Docs" />
      </a>
      <a href="/docs/" class="navbar-item no-left-padding" aria-label="Docs">
        Docs
      </a>

      </div>

      <button class="navbar-search search-button" data-target="topbar-nav" id="search_open_mobile" aria-label="Open Search">
        <svg width="23px" height="23px" viewBox="0 0 23 23" version="1.1" class="fill-current float-right" id="searchx" role="button" title="Search Website">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
            stroke-linejoin="round">
            <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
              <circle
                transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                cx="11.3893642" cy="11.3885639" r="8.056"></circle>
              <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
            </g>
          </g>
        </svg>
      </button>
      <button class="navbar-burger" data-target="topbar-nav" aria-label="Mobile Navigation Button">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">


        <div class="navbar-item has-dropdown is-hoverable docs">
          <a class="navbar-link" href="/docs/">Docs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <span class="project-name">Neo4j DBMS</span>
              <ul class="project-links">
                <li><a href="/docs/getting-started/current/" class="project-link">Getting Started</a></li>
                <li><a href="/docs/operations-manual/current/" class="project-link">Operations</a></li>
                <li><a href="/docs/migration-guide/current/" class="project-link">Migration and Upgrade</a></li>
                <li><a href="/docs/status-codes/current/" class="project-link">Status Codes</a></li>
                <li><a href="/docs/java-reference/current/" class="project-link">Java Reference</a></li>
                <li><a href="/docs/kerberos-add-on/current/" class="project-link">Kerberos Add-on</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <a class="project-name" href="/docs/aura/">Neo4j Aura</a>
              <ul class="project-links">
                <li><a class="project-link" href="/docs/aura">Neo4j Aura</a></li>
                <li><a class="project-link" href="/docs/aura/auradb/">Neo4j AuraDB</a></li>
                <li><a class="project-link" href="/docs/aura/aurads/">Neo4j AuraDS</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Tools</span>
              <ul class="project-links">
                <li><a href="/docs/bloom-user-guide/current/" class="project-link">Neo4j Bloom</a></li>
                <li><a href="/docs/browser-manual/current/" class="project-link">Neo4j Browser</a></li>
                <li><a href="/docs/data-importer/current/" class="project-link">Neo4j Data Importer</a></li>
                <li><a href="/docs/desktop-manual/current/" class="project-link">Neo4j Desktop</a></li>
                <li><a href="/docs/ops-manager/current/" class="project-link">Neo4j Ops Manager</a></li>
                <li><a href="/docs/neodash-commercial/current/" class="project-link">Neodash commercial</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Neo4j Graph Data Science</span>
              <ul class="project-links">
                <li><a href="/docs/graph-data-science/current/" class="project-link">Neo4j Graph Data Science Library</a></li>
                <li><a href="/docs/graph-data-science-client/current/" class="project-link">Neo4j Graph Data Science Client</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name">Cypher Query Language</span>
              <ul class="project-links">
                <li><a href="/docs/cypher-manual/current/" class="project-link">Cypher</a></li>
                <li><a href="/docs/cypher-cheat-sheet/current/" class="project-link">Cypher Cheat Sheet</a></li>
                <li><a href="/docs/apoc/current/" class="project-link">APOC Library</a></li>
              </ul>
            </div>

           <div class="navbar-item project">
              <span class="project-name" href="/docs/genai">Generative AI</span>
              <ul class="project-links">
                <li><a href="/docs/neo4j-graphrag-python/current/" class="project-link">Neo4j GraphRAG for Python</a></li>
                <li><a href="/docs/genai/tutorials/embeddings-vector-indexes/" class="project-link">Embeddings and vector indexes tutorial</a></li>
                <li><a href="/docs/cypher-manual/current/genai-integrations/" class="project-link">GenAI integrations</a></li>
                <li><a href="/docs/cypher-manual/current/indexes/semantic-indexes/vector-indexes/" class="project-link">Vector search indexes</a></li>
                <li><a href="/docs/cypher-manual/current/functions/vector/" class="project-link">Vector search functions</a></li>
                <li><a href="/docs/graphql/5/directives/indexes-and-constraints/#_vector_index_search" class="project-link">GraphQL vector index search documentation</a></li>
              </ul>
            </div>
            
            <div class="navbar-item project">
              <span class="project-name" href="/docs/create-applications">Create applications</span>
              <ul class="project-links">
                <li><a href="/docs/python-manual/current/" class="project-link">Python Driver</a></li>
                <li><a href="/docs/go-manual/current/" class="project-link">Go Driver</a></li>
                <li><a href="/docs/java-manual/current/" class="project-link">Java Driver</a></li>
                <li><a href="/docs/jdbc-manual/current/" class="project-link">JDBC Driver</a></li>
                <li><a href="/docs/javascript-manual/current/" class="project-link">JavaScript Driver</a></li>
                <li><a href="/docs/dotnet-manual/current/" class="project-link">.Net Driver</a></li>
                <li><a href="/docs/graphql-manual/current/" class="project-link">Neo4j GraphQL Library</a></li>
                <li><a href="/docs/nvl/current/" class="project-link">Neo4j Visualization Library</a></li>
                <li><a href="/docs/ogm-manual/current/" class="project-link">OGM Library</a></li>
                <li><a href="https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#reference" class="project-link">Spring Data Neo4j</a></li>
                <li><a href="/docs/http-api/current/" class="project-link">HTTP API</a></li>
                <li><a href="/docs/query-api/current/" class="project-link">Neo4j Query API</a></li>
                <li><a href="/docs/bolt/current/" class="project-link">Bolt</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <span class="project-name" href="/docs/connectors">Connect data sources</span>
              <ul class="project-links">
                <li><a href="/docs/spark/current/" class="project-link">Neo4j Connector for Apache Spark</a></li>
                <li><a href="/docs/kafka/" class="project-link">Neo4j Connector for Apache Kafka</a></li>
                <li><a href="/docs/cdc/" class="project-link">Change Data Capture (CDC)</a></li>
                <li><a href="/docs/dataflow-bigquery/" class="project-link">BigQuery to Neo4j</a></li>
                <li><a href="/docs/dataflow-google-cloud/" class="project-link">Google Cloud to Neo4j</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable labs">
          <a class="navbar-link" href="/labs/">Labs</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="/labs/genai-ecosystem/">GenAI Ecosystem</a>
              <ul class="project-links">
                <li><a href="/labs/genai-ecosystem/llm-graph-builder/" class="project-link">LLM Knowledge Graph Builder</a></li>
                <li><a href="/labs/genai-ecosystem/vector-search/" class="project-link">Vector Index &amp; Search</a></li>
                <li><a href="/labs/genai-ecosystem/langchain/" class="project-link">LangChain</a></li>
                <li><a href="/labs/genai-ecosystem/langchain-js/" class="project-link">LangChain.js</a></li>
                <li><a href="/labs/genai-ecosystem/llamaindex/" class="project-link">LlamaIndex</a></li>
                <li><a href="/labs/genai-ecosystem/haystack/" class="project-link">Haystack</a></li>
                <li><a href="/labs/genai-ecosystem/dspy/" class="project-link">DSPy</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <strong class="project-name" href="/labs/apoc/">Developer Tools</strong>
              <ul class="project-links">
                <li><a href="/labs/apoc/" class="project-link">APOC Extended</a></li>
                <li><a class="project-link" href="/labs/aura-cli/">Aura CLI</a></li>
                <li><a class="project-link" href="/labs/arrows/">arrows.app</a></li>
                <li><a class="project-link" href="/labs/cypher-workbench/">Cypher Workbench</a></li>
                <li><a class="project-link" href="/labs/etl-tool/">ETL Tool</a></li>
                <li><a class="project-link" href="/labs/neodash/">NeoDash</a></li>
              </ul>
            </div>

            <div class="navbar-item project">
              <strong class="project-name">Frameworks &amp; Integrations</strong>
              <ul class="project-links">
                <li><a class="project-link" href="/labs/neo4j-needle-starterkit/">Needle Starter Kit</a></li>
                <li><a class="project-link" href="/labs/liquibase/">Neo4j Plugin for Liquibase</a></li>
                <li><a class="project-link" href="/labs/neo4j-migrations/">Neo4j Migrations</a></li>
                <li><a class="project-link" href="/labs/neomodel/">neomodel</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/labs/neosemantics/">RDF &amp; Linked Data</a>
              <ul class="project-links">
                <li><a href="/labs/neosemantics/" class="project-link">Neosemantics (Java)</a></li>
                <li><a href="/labs/rdflib-neo4j/" class="project-link">RDFLib-Neo4j (Python)</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable developer">
          <a class="navbar-link" href="/developer/resources/">Get Help</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/forum" target="_blank">Community Forum</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://dev.neo4j.com/chat" target="_blank">Discord Chat</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="http://support.neo4j.com" target="_blank">Product Support</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://neo4j.com/blog/developer/" target="_blank">Neo4j Developer Blog</a>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="/videos/" target="_blank">Neo4j Videos</a>
            </div>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable developer">
          <a class="navbar-link" href="https://graphacademy.neo4j.com/?ref=docs-nav">GraphAcademy</a>
          <div class="navbar-dropdown">
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/categories/beginners/?ref=docs-nav" target="_blank">Beginners Courses</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/?ref=docs-nav">Neo4j Fundamentals</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/cypher-fundamentals/?ref=docs-nav">Cypher Fundamentals</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/importing-fundamentals/?ref=docs-nav">Importing Data Fundamentals</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/importing-csv-data/?ref=docs-nav">Importing CSV Data</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/modeling-fundamentals/?ref=docs-nav">Graph Data Modeling</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/categories/data-scientist/?ref=docs-nav" target="_blank">Data Scientist Courses</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/gds-product-introduction/?ref=docs-nav">Into to Graph Data Science</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/graph-data-science-fundamentals/?ref=docs-nav">Graph Data Science Fundamentals</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/gds-shortest-paths/?ref=docs-nav">Path Finding</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/categories/llms/?ref=docs-nav" target="_blank">Generative AI Courses</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/llm-fundamentals/?ref=docs-nav">Neo4j &amp; LLM Fundamentals</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/llm-vectors-unstructured/?ref=docs-nav">Vector Indexes &amp; Unstructured Data</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/llm-chatbot-python/?ref=docs-nav">Build a Chatbot with Python</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/courses/llm-chatbot-typescript/?ref=docs-nav">Build a Chatbot with TypeScript</a></li>
              </ul>
            </div>
            <div class="navbar-item project">
              <a class="project-name" href="https://graphacademy.neo4j.com/certification/?ref=docs-nav" target="_blank">Neo4j Certification</a>
              <ul class="project-links">
                <li><a class="project-link" href="https://graphacademy.neo4j.com/certifications/neo4j-certification/?ref=docs-nav">Neo4j Certified Professional</a></li>
                <li><a class="project-link" href="https://graphacademy.neo4j.com/certifications/gds-certification/?ref=docs-nav">Neo4j Graph Data Science Certification</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="navbar-item is-hoverable getting-started-cta">
          <a class="navbar-link primary" href="https://console.neo4j.io/?ref=docs-nav-get-started">Get Started Free</a>
        </div>
        <div class="navbar-item">
          <a class="navbar-link search-button" href="#search" id="search_open"><svg width="23px" height="23px" viewBox="0 0 23 23"
              version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              class="fill-current float-right" id="search" role="button" title="Search Website">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"
                stroke-linejoin="round">
                <g transform="translate(-2.000000, -2.000000)" stroke="#a0aec0" stroke-width="1.5">
                  <circle
                    transform="translate(11.389364, 11.388564) rotate(-23.025000) translate(-11.389364, -11.388564) "
                    cx="11.3893642" cy="11.3885639" r="8.056"></circle>
                  <path d="M17.0853333,17.0844444 L23.3333333,23.3333333" ></path>
                </g>
              </g>
            </svg><span class="navbar-mobile">Search</span></a>
        </div>
      </div>
    </div>
  </nav>

</header>
<div class="body">
    <a class="show-on-focus skip-link" href="#skip-to-content" title="Skip to content">Skip to content</a>
<div class="nav-container" data-component="cypher-manual" data-version="25">
  <aside class="nav">
    <div class="panels">
      <div class="component">
  <div class="nav-product">
    <span class="nav-product-name">Cypher Manual</span>
  </div>
</div>
      





      <div class="nav-panel-menu is-active has-feedback" data-panel="menu">
    <nav class="nav-menu">
    <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="0">
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../introduction/">Introduction</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../introduction/cypher-overview/">Overview</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../introduction/cypher-neo4j/">Cypher and Neo4j</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../introduction/cypher-aura/">Cypher and Aura</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../queries/">Queries</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../queries/concepts/">Core concepts</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../queries/basic/">Basic queries</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../queries/select-version/">Select Cypher version</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../queries/composed-queries/">Composed queries</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../queries/composed-queries/combined-queries/">Combined queries (<code>UNION</code>)</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../queries/composed-queries/conditional-queries/">Conditional queries (<code>WHEN</code>)</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../queries/composed-queries/sequential-queries/">Sequential queries (<code>NEXT</code>)</a>
            </li>
</ul>
    </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../clauses/">Clauses</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/clause-composition/">Clause composition</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/call/">CALL procedure</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/create/">CREATE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/delete/">DELETE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/filter/">FILTER</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/finish/">FINISH</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/foreach/">FOREACH</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/let/">LET</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/limit/">LIMIT</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/load-csv/">LOAD CSV</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/match/">MATCH</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/merge/">MERGE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/optional-match/">OPTIONAL MATCH</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/order-by/">ORDER BY</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/remove/">REMOVE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/return/">RETURN</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/set/">SET</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/listing-functions/">SHOW FUNCTIONS</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/listing-procedures/">SHOW PROCEDURES</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/listing-settings/">SHOW SETTINGS</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/transaction-clauses/#query-listing-transactions">SHOW TRANSACTIONS</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/skip/">SKIP</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/transaction-clauses/#query-terminate-transactions">TERMINATE TRANSACTIONS</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/unwind/">UNWIND</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/use/">USE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/where/">WHERE</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../clauses/with/">WITH</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../subqueries/">Subqueries</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../subqueries/call-subquery/">CALL subqueries</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../subqueries/subqueries-in-transactions/">CALL subqueries in transactions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../subqueries/collect/">COLLECT subqueries</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../subqueries/count/">COUNT subqueries</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../subqueries/existential/">EXISTS subqueries</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../patterns/">Patterns</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/primer/">Primer</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/fixed-length-patterns/">Fixed-length patterns</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/variable-length-patterns/">Variable-length patterns</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/shortest-paths/">Shortest paths</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/non-linear-patterns/">Non-linear patterns</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/match-modes/">Match modes</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../patterns/reference/">Syntax and semantics</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../values-and-types/">Values and types</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/property-structural-constructed/">Property, structural, and constructed values</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/boolean-numeric-string/">Boolean, numeric, and string literals</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/temporal/">Temporal values</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/spatial/">Spatial values</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/lists/">Lists</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/maps/">Maps</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/graph-references/">Graph references</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/working-with-null/">Working with <code>null</code></a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/casting-data/">Casting data values</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../values-and-types/ordering-equality-comparison/">Equality, ordering, and comparison of value types</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../expressions/">Expressions</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../expressions/predicates/">Predicates</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/boolean-operators/">Boolean operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/comparison-operators/">Comparison operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/list-operators/">List operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/string-operators/">String operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/path-pattern-expressions/">Path pattern expressions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../expressions/predicates/type-predicate-expressions/">Type predicate expressions</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/node-relationship-operators/">Node and relationship operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/mathematical-operators/">Mathematical operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/string-operators/">String concatenation operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/temporal-operators/">Temporal operators</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/list-expressions/">List expressions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/map-expressions/">Map expressions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../expressions/conditional-expressions/">Conditional expressions (CASE)</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../functions/">Functions</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/aggregating/">Aggregating functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/database/">Database functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/graph/">Graph functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/list/">List functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/load-csv/">LOAD CSV functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/mathematical-logarithmic/">Mathematical functions - logarithmic</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/mathematical-numeric/">Mathematical functions - numeric</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/mathematical-trigonometric/">Mathematical functions - trigonometric</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/predicate/">Predicate functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/scalar/">Scalar functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/spatial/">Spatial functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/string/">String functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/temporal/duration/">Temporal functions - duration</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/temporal/">Temporal functions - instant types</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/user-defined/">User-defined functions</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../functions/vector/">Vector functions</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link" href="../../../genai-integrations/">GenAI integrations</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../indexes/">Indexes</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../indexes/search-performance-indexes/overview/">Search-performance indexes</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../indexes/search-performance-indexes/managing-indexes/">Create, show, and delete indexes</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../indexes/search-performance-indexes/using-indexes/">The impact of indexes on query performance</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../indexes/search-performance-indexes/index-hints/">Index hints for the Cypher planner</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../indexes/semantic-indexes/overview/">Semantic indexes</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../indexes/semantic-indexes/full-text-indexes/">Full-text indexes</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../indexes/semantic-indexes/vector-indexes/">Vector indexes</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../indexes/syntax/">Syntax</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../constraints/">Constraints</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../constraints/managing-constraints/">Create, show, and drop constraints</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../constraints/syntax/">Syntax</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../">Execution plans and query tuning</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../execution-plans/">Understanding execution plans</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../">Operators</a>
        <ul class="nav-list">
    <li class="nav-item is-current-page" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="./">Operators in detail</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../runtimes/">Cypher runtimes</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../runtimes/concepts/">Concepts</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../runtimes/reference/">Parallel runtime: reference</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../query-tuning/">Query tuning</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../query-caches/">Query caches</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../query-caches/unified-query-caches/">Unifying query caches</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link" href="../../../administration/">Administration</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link nav-item-toggle" href="../../../syntax/">Syntax</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/parsing/">Parsing</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/naming/">Naming rules and recommendations</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/variables/">Variables</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/keywords/">Keywords</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/parameters/">Parameters</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../syntax/comments/">Comments</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <a class="nav-link" href="../../../deprecations-additions-removals-compatibility/">Additions, deprecations, removals, and compatibility</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="1">
      <span class="nav-text nav-item-toggle">Appendix</span>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link" href="../../../styleguide/">Cypher styleguide</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../appendix/gql-conformance/">GQL conformance</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/gql-conformance/supported-mandatory/">Supported mandatory GQL features</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/gql-conformance/unsupported-mandatory/">Currently unsupported mandatory GQL features</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/gql-conformance/supported-optional/">Supported optional GQL features</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/gql-conformance/analogous-cypher/">Optional GQL features and analogous Cypher</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/gql-conformance/additional-cypher/">Additional Cypher features</a>
            </li>
</ul>
    </li>
    <li class="nav-item" data-module="ROOT" data-depth="2">
      <a class="nav-link nav-item-toggle" href="../../../appendix/tutorials/">Tutorials and extended examples</a>
        <ul class="nav-list">
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/tutorials/basic-query-tuning/">Basic query tuning example</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/tutorials/advanced-query-tuning/">Advanced query tuning example</a>
            </li>
    <li class="nav-item" data-module="ROOT" data-depth="3">
      <a class="nav-link" href="../../../appendix/tutorials/shortestpath-planning/">Shortest path planning</a>
            </li>
</ul>
    </li>
</ul>
    </li>
</ul>
    </li>
</ul>

  </nav>
</div>
        <div class="feedback" style="height: var(--feedback-height);">
    <div class="header question">
        <p><strong>Is this page helpful?</strong></p>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="no" aria-label="No, this page isn't helpful">
            <path
                d="M6.25,15.8333333 C6.25,13.7622655 7.92893219,12.0833333 10,12.0833333 C12.0710678,12.0833333 13.75,13.7622655 13.75,15.8333333"
                ></path>
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M12.5,4.58333333 C12.8934466,4.05873783 13.5109223,3.75 14.1666667,3.75 C14.822411,3.75 15.4398867,4.05873783 15.8333333,4.58333333"
                ></path>
            <line x1="4.58333333" y1="7.91666667" x2="7.08333333" y2="7.91666667" ></line>
            <path
                d="M7.08333333,8.54166667 C6.96827401,8.54166667 6.875,8.44839266 6.875,8.33333333 C6.875,8.21827401 6.96827401,8.125 7.08333333,8.125 C7.19839266,8.125 7.29166667,8.21827401 7.29166667,8.33333333 C7.29166667,8.44839266 7.19839266,8.54166667 7.08333333,8.54166667"
                ></path>
            <line x1="12.9166667" y1="7.91666667" x2="15.4166667" y2="7.91666667" ></line>
            <path
                d="M15.4166667,8.54166667 C15.3016073,8.54166667 15.2083333,8.44839266 15.2083333,8.33333333 C15.2083333,8.21827401 15.3016073,8.125 15.4166667,8.125 C15.531726,8.125 15.625,8.21827401 15.625,8.33333333 C15.625,8.44839266 15.531726,8.54166667 15.4166667,8.54166667"
                ></path>
            <path
                d="M4.16666667,4.58333333 C4.5601133,4.05873783 5.17758895,3.75 5.83333333,3.75 C6.48907772,3.75 7.10655337,4.05873783 7.5,4.58333333"
                ></path>
        </svg>

        <svg width="22px" height="22px" viewBox="0 0 22 22" role="button" class="yes" aria-label="Yes, this page is helpful">
            <circle  cx="10" cy="10" r="9.58333333"></circle>
            <path
                d="M5.41666667,8.125 C5.53172599,8.125 5.625,8.21827401 5.625,8.33333333 C5.625,8.44839266 5.53172599,8.54166667 5.41666667,8.54166667 C5.30160734,8.54166667 5.20833333,8.44839266 5.20833333,8.33333333 C5.20833333,8.21827401 5.30160734,8.125 5.41666667,8.125"
                ></path>
            <path
                d="M14.5833333,8.125 C14.468274,8.125 14.375,8.21827401 14.375,8.33333333 C14.375,8.44839266 14.468274,8.54166667 14.5833333,8.54166667 C14.6983927,8.54166667 14.7916667,8.44839266 14.7916667,8.33333333 C14.7916667,8.21827401 14.6983927,8.125 14.5833333,8.125"
                ></path>
            <path
                d="M13.2275,12.9166657 C13.4853075,12.9162808 13.7287776,13.035241 13.8869095,13.2388563 C14.0450415,13.4424715 14.1000278,13.7078123 14.0358333,13.9575 C13.562901,15.7999679 11.9021969,17.0882321 10,17.0882321 C8.09780311,17.0882321 6.43709903,15.7999679 5.96416667,13.9575 C5.89997223,13.7078123 5.95495852,13.4424715 6.11309045,13.2388563 C6.27122239,13.035241 6.51469246,12.9162808 6.7725,12.9166657 L13.2275,12.9166657 Z"
                ></path>
        </svg>
    </div>


</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <div class="toolbar-wrapper">
    <button class="nav-toggle" aria-label="Toggle Table of Contents"></button>
    
    

    
    <a href="https://neo4j.com/docs" class="home-link" aria-label="Go to docs home page"></a>
    


    <nav class="breadcrumbs" aria-label="breadcrumbs menu">
  <ul>

    <li><a href="../../../introduction/">Cypher Manual</a></li>

    <li><a href="../../">
        Execution plans and query tuning
    </a></li>
    <li><a href="../">
        Operators
    </a></li>
    <li><a href="./">
        Operators in detail
    </a></li>
  </ul>
</nav>
      </div>
</div>

  
  <div class="content">
    <div id="skip-to-content"></div>
<article class="doc">
<div class="sect-header">
  <h1 class="page">Operators in detail</h1>
</div>





<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Understanding the roles of different operators in an execution plan can be an important step in making queries more efficient.
This page contains details and examples for each of the operators used by the Cypher<sup>&reg;</sup> planner.
For an overview of how the Cypher planner uses operators, see <a href="../../execution-plans/#reading-execution-plans" class="xref page"> Understanding execution plans &#8594; Reading execution plans</a>.</p>
</div>
<div class="paragraph">
<p>The operators are grouped into categories based on the role they fulfill in executing a Cypher query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#leaf-operators">Leaf operators (scans and seeks)</a></p>
</li>
<li>
<p><a href="#nested-loops-join-operators">Nested loops and join operators</a></p>
</li>
<li>
<p><a href="#traversal-operators">Traversal operators</a></p>
</li>
<li>
<p><a href="#union-operators">Union operators</a></p>
</li>
<li>
<p><a href="#aggregation-operators">Aggregation operators</a></p>
</li>
<li>
<p><a href="#filter-order-projection-operators">Filter, order, and projection operators</a></p>
</li>
<li>
<p><a href="#sort-limit-operators">Sort and limit operators</a></p>
</li>
<li>
<p><a href="#data-modification-operators">Data modification operators</a></p>
</li>
<li>
<p><a href="#schema-system-operators">Schema and system operators</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Certain operators are only used by particular <a href="../../runtimes/concepts/" class="xref page">runtime</a>.
If so, the example queries will be prefixed with a runtime selection.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="leaf-operators"><a class="anchor" href="#leaf-operators"></a>Leaf operators (scans and seeks)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Leaf operators are the initial operations in a query execution plan that directly access data. They are called "leaf" because they are at the outermost level of the query execution tree, with no operations below them. Once these operators retrieve the necessary data, the results are passed to subsequent operators that perform more complex operations.</p>
</div>
<div class="paragraph">
<p>Seek operators target specific data items (indexed or otherwise) while scan operators iterate through the data (indexed or otherwise) to find matches.</p>
</div>
<div class="sect2">
<h3 id="query-plan-all-nodes-scan"><a class="anchor" href="#query-plan-all-nodes-scan"></a>All Nodes Scan</h3>
<div class="paragraph">
<p>The <code>AllNodesScan</code> operator reads all nodes from the node store.
The variable that will contain the nodes is seen in the arguments.
Any query using this operator is likely to encounter performance problems on a non-trivial database.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. AllNodesScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
RETURN n</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | n       |             35 |   35 |       0 |                |                        |           |                     |
| |               +---------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   | n       |             35 |   35 |      36 |            120 |                    3/0 |     0.354 | Fused in Pipeline 0 |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 36, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-all-nodes-scan"><a class="anchor" href="#query-plan-partitioned-all-nodes-scan"></a>Partitioned All Nodes Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedAllNodesScan</code> is a variant of the <a href="#query-plan-all-nodes-scan"><code>AllNodesScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the store to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. PartitionedAllNodesScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (n)
RETURN n</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------------+----+---------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                 | Id | Details | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+--------------------------+----+---------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults          |  0 | n       |             35 |   35 |      71 |                    2/0 |     6.470 | In Pipeline 1 |
| |                        +----+---------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedAllNodesScan |  1 | n       |             35 |   35 |      35 |                    3/0 |     1.491 | In Pipeline 0 |
+--------------------------+----+---------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 106</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-by-label-scan"><a class="anchor" href="#query-plan-node-by-label-scan"></a>Node By Label Scan</h3>
<div class="paragraph">
<p>The <code>NodeByLabelScan</code> operator fetches all nodes with a specific label from the node label index.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. NodeByLabelScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (person:Person)
RETURN person</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Details       | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  | person        |             14 |   14 |       0 |                |                        |           |                     |
| |                +---------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan | person:Person |             14 |   14 |      15 |            120 |                    2/1 |     0.522 | Fused in Pipeline 0 |
+------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 15, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-node-by-label-scan"><a class="anchor" href="#query-plan-partitioned-node-by-label-scan"></a>Partitioned Node By Label Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedNodeByLabelScan</code> is a variant of the <a href="#query-plan-node-by-label-scan"><code>NodeByLabelScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. PartitionedNodeByLabelScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (person:Person)
RETURN person</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+-----------------------------+----+---------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                    | Id | Details       | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-----------------------------+----+---------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults             |  0 | person        |             14 |   14 |      28 |                    2/0 |     0.623 | In Pipeline 1 |
| |                           +----+---------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedNodeByLabelScan |  1 | person:Person |             14 |   14 |      15 |                    1/0 |     0.094 | In Pipeline 0 |
+-----------------------------+----+---------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 43</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-intersection-node-by-labels-scan"><a class="anchor" href="#query-plan-intersection-node-by-labels-scan"></a>Intersection Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>IntersectionNodeByLabelsScan</code> operator fetches all nodes that have all of the provided labels from the node label index.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (countryAndLocation:Country&amp;Location)
RETURN countryAndLocation</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128


+-------------------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                      | Id | Details                             | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults               |  0 | countryAndLocation                  |             10 |    0 |       0 |                |                        |           |                     |
| |                             +----+-------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +IntersectionNodeByLabelsScan |  1 | countryAndLocation:Country&amp;Location |             10 |    0 |       0 |            120 |                    0/0 |     1.011 | Fused in Pipeline 0 |
+-------------------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-intersection-node-by-labels-scan"><a class="anchor" href="#query-plan-partitioned-intersection-node-by-labels-scan"></a>Partitioned Intersection Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedIntersectionNodeByLabelsScan</code> is a variant of the <a href="#query-plan-intersection-node-by-labels-scan"><code>IntersectionNodeByLabelsScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (countryAndLocation:Country&amp;Location)
RETURN countryAndLocation</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128


------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                 | Id | Details                             | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                          |  0 | countryAndLocation                  |              3 |    0 |       0 |                    0/0 |     0.018 | In Pipeline 1 |
| |                                        +----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedIntersectionNodeByLabelsScan |  1 | countryAndLocation:Country&amp;Location |              3 |    0 |      13 |                    2/0 |     0.770 | In Pipeline 0 |
+------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 13</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-subtraction-node-by-labels-scan"><a class="anchor" href="#query-plan-subtraction-node-by-labels-scan"></a>Subtraction Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>SubtractionNodeByLabelsScan</code> operator fetches all nodes that have all of the first set of provided labels and none of the second provided set of labels from the node label index.
In the example below, <code>SubtractionNodeByLabelsScan</code> retrieves all nodes that have the <code>Location</code> label but do not have the <code>Country</code> label.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (locationNotCountry:Location&amp;!Country)
RETURN locationNotCountry</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                     | Id | Details                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults              |  0 | locationNotCountry                   |              7 |   10 |       0 |              0 |                        |           |                     |
| |                            +----+--------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SubtractionNodeByLabelsScan |  1 | locationNotCountry:Location&amp;!Country |              7 |   10 |      13 |            248 |                    2/0 |     3.081 | Fused in Pipeline 0 |
+------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-subtraction-node-by-labels-scan"><a class="anchor" href="#query-plan-partitioned-subtraction-node-by-labels-scan"></a>Partitioned Subtraction Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedSubtractionNodeByLabelsScan</code> is a variant of the <a href="#query-plan-subtraction-node-by-labels-scan"><code>SubtractionNodeByLabelsScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (locationNotCountry:Location&amp;!Country)
RETURN locationNotCountry</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+-----------------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator                                | Id | Details                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-----------------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults                         |  0 | locationNotCountry                   |              7 |   10 |       0 |            136 |                    0/0 |     0.614 | In Pipeline 1 |
| |                                       +----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +PartitionedSubtractionNodeByLabelsScan |  1 | locationNotCountry:Location&amp;!Country |              7 |   10 |      13 |            120 |                    2/0 |     5.173 | In Pipeline 0 |
+-----------------------------------------+----+--------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 13, total allocated memory: 262144</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-union-node-by-labels-scan"><a class="anchor" href="#query-plan-union-node-by-labels-scan"></a>Union Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>UnionNodeByLabelsScan</code> operator fetches all nodes that have at least one of the provided labels from the node label index.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (countryOrLocation:Country|Location)
RETURN countryOrLocation</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| Operator               | Details                            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by            | Pipeline            |
+------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| +ProduceResults        | countryOrLocation                  |             17 |   11 |       0 |                |                        |           |                       |                     |
| |                      +------------------------------------+----------------+------+---------+----------------+                        |           |                       |                     |
| +UnionNodeByLabelsScan | countryOrLocation:Country|Location |             17 |   11 |      13 |            120 |                    3/1 |     0.660 | countryOrLocation ASC | Fused in Pipeline 0 |
+------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+

Total database accesses: 13, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-union-node-by-labels-scan"><a class="anchor" href="#query-plan-partitioned-union-node-by-labels-scan"></a>Partitioned Union Node By Labels Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedUnionNodeByLabelsScan</code> is a variant of the <a href="#query-plan-union-node-by-labels-scan"><code>UnionNodeByLabelsScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (countryOrLocation:Country|Location)
RETURN countryOrLocation</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+-----------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                          | Id | Details                            | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-----------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                   |  0 | countryOrLocation                  |             17 |   11 |      22 |                    2/0 |     1.548 | In Pipeline 1 |
| |                                 +----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUnionNodeByLabelsScan |  1 | countryOrLocation:Country|Location |             17 |   11 |      13 |                    2/0 |     1.976 | In Pipeline 0 |
+-----------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 35</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-index-contains-scan"><a class="anchor" href="#query-plan-node-index-contains-scan"></a>Node Index Contains Scan</h3>
<div class="paragraph">
<p>The <code>NodeIndexContainsScan</code> operator examines all values stored in an index, searching for entries containing a specific <code>STRING</code>; for example, in queries including <code>CONTAINS</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a label scan using <code>NodeByLabelScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. NodeIndexContainsScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)
WHERE l.name CONTAINS 'al'
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+---------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator               | Details                                                       | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------+---------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults        | l                                                             |              0 |    2 |       0 |                |                        |           |                     |
| |                      +---------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexContainsScan | TEXT INDEX l:Location(name) WHERE name CONTAINS $autostring_0 |              0 |    2 |       3 |            120 |                    2/0 |     1.305 | Fused in Pipeline 0 |
+------------------------+---------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 3, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-index-ends-with-scan"><a class="anchor" href="#query-plan-node-index-ends-with-scan"></a>Node Index Ends With Scan</h3>
<div class="paragraph">
<p>The <code>NodeIndexEndsWithScan</code> operator examines all values stored in an index, searching for entries ending in a specific <code>STRING</code>; for example, in queries containing <code>ENDS WITH</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a label scan using <code>NodeByLabelScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. NodeIndexEndsWithScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)
WHERE l.name ENDS WITH 'al'
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator               | Details                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults        | l                                                              |              0 |    0 |       0 |                |                        |           |                     |
| |                      +----------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexEndsWithScan | TEXT INDEX l:Location(name) WHERE name ENDS WITH $autostring_0 |              0 |    0 |       1 |            120 |                    0/0 |     4.409 | Fused in Pipeline 0 |
+------------------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-index-scan"><a class="anchor" href="#query-plan-node-index-scan"></a>Node Index Scan</h3>
<div class="paragraph">
<p>The <code>NodeIndexScan</code> operator examines all values stored in an index, returning all nodes with a particular label and a specified property.</p>
</div>
<div class="exampleblock">
<div class="title">Example 7. NodeIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)
WHERE l.name IS NOT NULL
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                             | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+-----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | l                                                   |             10 |   10 |       0 |                |                        |           |                     |
| |               +-----------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexScan  | RANGE INDEX l:Location(name) WHERE name IS NOT NULL |             10 |   10 |      11 |            120 |                    2/1 |     0.557 | Fused in Pipeline 0 |
+-----------------+-----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 11, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-node-index-scan"><a class="anchor" href="#query-plan-partitioned-node-index-scan"></a>Partitioned Node Index Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedNodeIndexScan</code> is a variant of the <a href="#query-plan-node-index-scan"><code>NodeIndexScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 8. PartitionedNodeIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (l:Location)
WHERE l.name IS NOT NULL
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+---------------------------+----+-----------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                  | Id | Details                                             | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+---------------------------+----+-----------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults           |  0 | l                                                   |              1 |   10 |      20 |                    2/0 |     0.472 | In Pipeline 1 |
| |                         +----+-----------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedNodeIndexScan |  1 | RANGE INDEX l:Location(name) WHERE name IS NOT NULL |              1 |   10 |      11 |                    1/0 |     0.187 | In Pipeline 0 |
+---------------------------+----+-----------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 31</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-by-elementid-seek"><a class="anchor" href="#query-plan-node-by-elementid-seek"></a>Node By ElementId Seek</h3>
<div class="paragraph">
<p>The <code>NodeByElementIdSeek</code> operator reads one or more nodes by ID from the node store, specified via the function <a href="../../../functions/scalar/#functions-elementid" class="xref page">elementId()</a>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 9. NodeByElementIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
WHERE elementId(n) = 0
RETURN n</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator               | Details                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults        | n                                 |              1 |    1 |       0 |                |                        |           |                     |
| |                      +-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+----------------------                        |           |                     |
| +NodeByElementIdSeek   | n WHERE elementId(n) = $autoint_0 |              1 |    1 |       1 |            120 |                    3/0 |     2.108 | Fused in Pipeline 0 |
+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-by-id-seek"><a class="anchor" href="#query-plan-node-by-id-seek"></a>Node By Id Seek</h3>
<div class="paragraph">
<p>The <code>NodeByIdSeek</code> operator reads one or more nodes by id from the node store, specified via the function <a href="../../../functions/scalar/#functions-id" class="xref page">id()</a>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 10. NodeByIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
WHERE id(n) = 0
RETURN n</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Id | Details                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |  0 | n                          |              1 |    1 |       2 |              0 |                        |           |                     |
| |               +----+----------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByIdSeek   |  1 | n WHERE id(n) = $autoint_0 |              1 |    1 |       1 |            248 |                    2/0 |     1.109 | Fused in Pipeline 0 |
+-----------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 3, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-index-seek"><a class="anchor" href="#query-plan-node-index-seek"></a>Node Index Seek</h3>
<div class="paragraph">
<p>The <code>NodeIndexSeek</code> operator finds nodes using an index seek.
The node variable and the index used are shown in the arguments of the operator.
If the index is backs up a <a href="../../../constraints/managing-constraints/#create-property-uniqueness-constraints" class="xref page">property uniqueness constraint</a>, the operator is instead called <a href="#query-plan-node-unique-index-seek">NodeUniqueIndexSeek</a>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 11. NodeIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (location:Location {name: 'Malmo'})
RETURN location</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | location                                                       |              1 |    1 |       0 |                |                        |           |                     |
| |               +----------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek  | RANGE INDEX location:Location(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    2/1 |     0.401 | Fused in Pipeline 0 |
+-----------------+----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 2, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-node-index-seek"><a class="anchor" href="#query-plan-partitioned-node-index-seek"></a>Partitioned Node Index Seek</h3>
<div class="paragraph">
<p>The <code>PartitionedNodeIndexSeek</code> is a variant of the <a href="#query-plan-node-index-seek"><code>NodeIndexSeek</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 12. PartitionedNodeIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (location:Location {name: 'Malmo'})
RETURN location</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+---------------------------+----+----------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                  | Id | Details                                                        | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+---------------------------+----+----------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults           |  0 | location                                                       |              0 |    1 |       2 |                    2/0 |     0.179 | In Pipeline 1 |
| |                         +----+----------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedNodeIndexSeek |  1 | RANGE INDEX location:Location(name) WHERE name = $autostring_0 |              0 |    1 |       2 |                    1/0 |     0.167 | In Pipeline 0 |
+---------------------------+----+----------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 4</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-unique-index-seek"><a class="anchor" href="#query-plan-node-unique-index-seek"></a>Node Unique Index Seek</h3>
<div class="paragraph">
<p>The <code>NodeUniqueIndexSeek</code> operator finds nodes using an index seek within an index backing up a <a href="../../../constraints/managing-constraints/#create-property-uniqueness-constraints" class="xref page">property uniqueness constraint</a>.
The node variable and the index used are shown in the arguments of the operator.
If the index does not back up a property uniqueness constraint, the operator is instead called <a href="#query-plan-node-index-seek">NodeIndexSeek</a>.
If the index seek is used to solve a <a href="../../../clauses/merge/" class="xref page">MERGE</a> clause, it will also be marked with <code>(Locking)</code>.
This makes it clear that any nodes returned from the index will be locked in order to prevent concurrent conflicting updates.</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. NodeUniqueIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (t:Team {name: 'Malmo'})
RETURN t</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------+------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator             | Details                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------+------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults      | t                                              |              1 |    0 |       0 |                |                        |           |                     |
| |                    +------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeUniqueIndexSeek | UNIQUE t:Team(name) WHERE name = $autostring_0 |              1 |    0 |       1 |            120 |                    0/1 |     0.280 | Fused in Pipeline 0 |
+----------------------+------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-multi-node-index-seek"><a class="anchor" href="#query-plan-multi-node-index-seek"></a>Multi Node Index Seek</h3>
<div class="paragraph">
<p>The <code>MultiNodeIndexSeek</code> operator finds nodes using multiple index seeks.
It supports using multiple distinct indexes for different nodes in the query.
The node variables and the indexes used are shown in the arguments of the operator.</p>
</div>
<div class="paragraph">
<p>The operator yields a cartesian product of all index seeks.
For example, if the operator does two seeks and the first seek finds the nodes <code>a1, a2</code> and the second <code>b1, b2, b3</code>, the <code>MultiNodeIndexSeek</code> will yield the rows <code>(a1, b1), (a1, b2), (a1, b3), (a2, b1), (a2, b2), (a2, b3)</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 14. MultiNodeIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=pipelined
MATCH
  (location:Location {name: 'Malmo'}),
  (person:Person {name: 'Bob'})
RETURN location, person</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------+-----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator            | Details                                                         | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------+-----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults     | location, person                                                |              1 |    1 |       0 |                |                        |           |                     |
| |                   +-----------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +MultiNodeIndexSeek | RANGE INDEX location:Location(name) WHERE name = $autostring_0, |              1 |    0 |       0 |            120 |                    2/2 |     1.910 | Fused in Pipeline 0 |
|                     | RANGE INDEX person:Person(name) WHERE name = $autostring_1      |                |      |         |                |                        |           |                     |
+---------------------+-----------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 0, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-asserting-multi-node-index-seek"><a class="anchor" href="#query-plan-asserting-multi-node-index-seek"></a>Asserting Multi Node Index Seek</h3>
<div class="paragraph">
<p>The <code>AssertingMultiNodeIndexSeek</code> operator is used to ensure that no <a href="../../../constraints/managing-constraints/#create-property-uniqueness-constraints" class="xref page">property uniqueness constraints</a> are violated.
The example looks for the presence of a team with the supplied name and id, and if one does not exist, it will be created.
Owing to the existence of two property uniqueness constraints on <code>:Team(name)</code> and <code>:Team(id)</code>, any node that would be found by the <code>UniqueIndexSeek</code> operator must be the very same node or the constraints would be violated.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15. AssertingMultiNodeIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MERGE (t:Team {name: 'Engineering', id: 42})</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------------+-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                     | Details                                                                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------------+-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults              |                                                                                         |              1 |    0 |       0 |                |                        |           |                     |
| |                            +-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult                 |                                                                                         |              1 |    0 |       0 |                |                        |           |                     |
| |                            +-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Merge                       | CREATE (t:Team {name: $autostring_0, id: $autoint_1})                                   |              1 |    1 |       0 |                |                        |           |                     |
| |                            +-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +AssertingMultiNodeIndexSeek | UNIQUE t:Team(name) WHERE name = $autostring_0, UNIQUE t:Team(id) WHERE id = $autoint_1 |              0 |    2 |       4 |            120 |                    0/2 |     1.584 | Fused in Pipeline 0 |
+------------------------------+-----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 4, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-index-seek-by-range"><a class="anchor" href="#query-plan-node-index-seek-by-range"></a>Node Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>NodeIndexSeekByRange</code> operator finds nodes using an index seek where the value of the property matches a given prefix <code>STRING</code>.
<code>NodeIndexSeekByRange</code> can be used for <code>STARTS WITH</code> and comparison operators such as <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code> and <code>&gt;=</code>.
If the index is a unique index, the operator is instead called <code>NodeUniqueIndexSeekByRange</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 16. NodeIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)
WHERE l.name STARTS WITH 'Lon'
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator              | Details                                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults       | l                                                                 |              2 |    1 |       0 |                |                        |           |                     |
| |                     +-------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeekByRange | RANGE INDEX l:Location(name) WHERE name STARTS WITH $autostring_0 |              2 |    1 |       2 |            120 |                    3/0 |     0.825 | Fused in Pipeline 0 |
+-----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 2, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-node-index-seek-by-range"><a class="anchor" href="#query-plan-partitioned-node-index-seek-by-range"></a>Partitioned Node Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>PartitionedNodeIndexSeekByRange</code> is a variant of the <a href="#query-plan-node-index-seek-by-range"><code>NodeIndexSeekByRange</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 17. PartitionedNodeIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (l:Location)
WHERE l.name STARTS WITH 'Lon'
RETURN l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+----------------------------------+----+-------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                         | Id | Details                                                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+----------------------------------+----+-------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                  |  0 | l                                                                 |              0 |    1 |       2 |                    2/0 |     0.191 | In Pipeline 1 |
| |                                +----+-------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedNodeIndexSeekByRange |  1 | RANGE INDEX l:Location(name) WHERE name STARTS WITH $autostring_0 |              0 |    1 |       2 |                    1/0 |     0.087 | In Pipeline 0 |
+----------------------------------+----+-------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 4</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-unique-index-seek-by-range"><a class="anchor" href="#query-plan-node-unique-index-seek-by-range"></a>Node Unique Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>NodeUniqueIndexSeekByRange</code> operator finds nodes using an index seek within a unique index, where the value of the property matches a given prefix <code>STRING</code>.
<code>NodeUniqueIndexSeekByRange</code> is used by <code>STARTS WITH</code> and comparison operators such as <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code>.
If the index is not unique, the operator is instead called <code>NodeIndexSeekByRange</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 18. NodeUniqueIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (t:Team)
WHERE t.name STARTS WITH 'Ma'
RETURN t</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                    | Details                                                  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults             | t                                                        |              2 |    0 |       0 |                |                        |           |                     |
| |                           +----------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeUniqueIndexSeekByRange | UNIQUE t:Team(name) WHERE name STARTS WITH $autostring_0 |              2 |    0 |       1 |            120 |                    1/0 |     0.623 | Fused in Pipeline 0 |
+-----------------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-all-relationships-scan"><a class="anchor" href="#query-plan-directed-all-relationships-scan"></a>Directed All Relationships Scan</h3>
<div class="paragraph">
<p>The <code>DirectedAllRelationshipsScan</code> operator fetches all relationships and their start and end nodes in the database.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r]-&gt;() RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------------------+------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                      | Details                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------------------+------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults               | r                      |             28 |   28 |       0 |                |                        |           |                     |
| |                             +------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedAllRelationshipsScan | (anon_0)-[r]-&gt;(anon_1) |             28 |   28 |      28 |            120 |                    3/0 |     0.502 | Fused in Pipeline 0 |
+-------------------------------+------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 28, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-all-relationships-scan"><a class="anchor" href="#query-plan-partitioned-directed-all-relationships-scan"></a>Partitioned Directed All Relationships Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedAllRelationshipsScan</code> is a variant of the <a href="#query-plan-directed-all-relationships-scan"><code>DirectedAllRelationshipsScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the store to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r]-&gt;() RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

| Operator                                 | Id | Details                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+------------------------------------------+----+------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                          |  0 | r                      |             28 |   28 |      83 |                    2/0 |     3.872 | In Pipeline 1 |
| |                                        +----+------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedDirectedAllRelationshipsScan |  1 | (anon_0)-[r]-&gt;(anon_1) |             28 |   28 |      28 |                    3/0 |     1.954 | In Pipeline 0 |
+------------------------------------------+----+------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 111</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-all-relationships-scan"><a class="anchor" href="#query-plan-undirected-all-relationships-scan"></a>Undirected All Relationships Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedAllRelationshipsScan</code> operator fetches all relationships and their start and end nodes in the database.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r]-() RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------+-----------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                        | Details               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------------+-----------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                 | r                     |             56 |   56 |       0 |                |                        |           |                     |
| |                               +-----------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedAllRelationshipsScan | (anon_0)-[r]-(anon_1) |             56 |   56 |      28 |            120 |                    3/0 |     1.110 | Fused in Pipeline 0 |
+---------------------------------+-----------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 28, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-all-relationships-scan"><a class="anchor" href="#query-plan-partitioned-undirected-all-relationships-scan"></a>Partitioned Undirected All Relationships Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedAllRelationshipsScan</code> is a variant of the <a href="#query-plan-undirected-all-relationships-scan"><code>UndirectedAllRelationshipsScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the store to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r]-() RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------------------------------+----+-----------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                   | Id | Details               | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+--------------------------------------------+----+-----------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                            |  0 | r                     |             56 |   56 |     166 |                    2/0 |     4.905 | In Pipeline 1 |
| |                                          +----+-----------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUndirectedAllRelationshipsScan |  1 | (anon_0)-[r]-(anon_1) |             56 |   56 |      28 |                    9/0 |     1.573 | In Pipeline 0 |
+--------------------------------------------+----+-----------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 194</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-type-scan"><a class="anchor" href="#query-plan-directed-relationship-type-scan"></a>Directed Relationship Type Scan</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipTypeScan</code> operator fetches all relationships and their start and end nodes with a specific type from the relationship type index.</p>
</div>
<div class="exampleblock">
<div class="title">Example 19. DirectedRelationshipTypeScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: FRIENDS_WITH]-&gt;()
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------------------+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                      | Details                             | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------------------+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults               | r                                   |             12 |   12 |       0 |                |                        |           |                     |
| |                             +-------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipTypeScan | (anon_0)-[r:FRIENDS_WITH]-&gt;(anon_1) |             12 |   12 |      13 |            120 |                    2/1 |     0.557 | Fused in Pipeline 0 |
+-------------------------------+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-relationship-types-scan"><a class="anchor" href="#query-plan-partitioned-directed-relationship-types-scan"></a>Partitioned Directed Relationship Type Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedRelationshipTypeScan</code> is a variant of the <a href="#query-plan-directed-relationship-type-scan"><code>DirectedRelationshipTypeScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 20. PartitionedDirectedRelationshipTypeScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r: FRIENDS_WITH]-&gt;()
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

++------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
 | Operator                                 | Id | Details                             | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
 +------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
 | +ProduceResults                          |  0 | r                                   |             12 |   12 |      12 |                    0/0 |     0.560 | In Pipeline 1 |
 | |                                        +----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
 | +PartitionedDirectedRelationshipTypeScan |  1 | (anon_0)-[r:FRIENDS_WITH]-&gt;(anon_1) |             12 |   12 |      13 |                    2/0 |     0.167 | In Pipeline 0 |
 +------------------------------------------+----+-------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

 Total database accesses: 25</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-type-scan"><a class="anchor" href="#query-plan-undirected-relationship-type-scan"></a>Undirected Relationship Type Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipTypeScan</code> operator fetches all relationships and their start and end nodes with a specific type from the relationship type index.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: FRIENDS_WITH]-()
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                        | Details                            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                 | r                                  |             24 |   24 |       0 |                |                        |           |                     |
| |                               +------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipTypeScan | (anon_0)-[r:FRIENDS_WITH]-(anon_1) |             24 |   24 |      13 |            120 |                    2/1 |     0.749 | Fused in Pipeline 0 |
+---------------------------------+------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-relationship-type-scan"><a class="anchor" href="#query-plan-partitioned-undirected-relationship-type-scan"></a>Partitioned Undirected Relationship Type Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedRelationshipTypeScan</code> is a variant of the <a href="#query-plan-undirected-relationship-type-scan"><code>UndirectedRelationshipTypeScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r: FRIENDS_WITH]-()
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                   | Id | Details                            | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+--------------------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                            |  0 | r                                  |             24 |   24 |      24 |                    1/0 |     1.466 | In Pipeline 1 |
| |                                          +----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUndirectedRelationshipTypeScan |  1 | (anon_0)-[r:FRIENDS_WITH]-(anon_1) |             24 |   24 |      13 |                    2/0 |     0.171 | In Pipeline 0 |
+--------------------------------------------+----+------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 37</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-union-relationship-types-scan"><a class="anchor" href="#query-plan-directed-union-relationship-types-scan"></a>Directed Union Relationship Types Scan</h3>
<div class="paragraph">
<p>The <code>DirectedUnionRelationshipTypesScan</code> operator fetches all relationships and their start and end nodes with at least one of the provided types from the relationship type index.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As the block storage format becomes the default, this operator will cease to be used in generating plans. Please refer to  <a href="https://neo4j.com/docs/operations-manual/current/database-internals/store-formats">Operations Manual &#8594; Store formats</a> for futher details on the various store formats available.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 21. DirectedUnionRelationshipTypesScan</div>
<div class="content">
<div class="listingblock test-result-skip">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[friendOrFoe: FRIENDS_WITH|FOE]-&gt;()
RETURN friendOrFoe</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+
| Operator                            | Details                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by      | Pipeline            |
+-------------------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+
| +ProduceResults                     | friendOrFoe                                       |             15 |   12 |       0 |                |                        |           |                 |                     |
| |                                   +---------------------------------------------------+----------------+------+---------+----------------+                        |           |                 |                     |
| +DirectedUnionRelationshipTypesScan | (anon_0)-[friendOrFoe:FRIENDS_WITH|FOE]-&gt;(anon_1) |             15 |   12 |      14 |            120 |                    3/1 |     2.027 | friendOrFoe ASC | Fused in Pipeline 0 |
+-------------------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+

Total database accesses: 14, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-union-relationship-types-scan"><a class="anchor" href="#query-plan-partitioned-directed-union-relationship-types-scan"></a>Partitioned Directed Union Relationship Types Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedUnionRelationshipTypeScan</code> is a variant of the <a href="#query-plan-directed-union-relationship-types-scan"><code>DirectedUnionRelationshipTypesScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As the block storage format becomes the default, this operator will cease to be used in generating plans. Please refer to  <a href="https://neo4j.com/docs/operations-manual/current/database-internals/store-formats">Operations Manual &#8594; Store formats</a> for futher details on the various store formats available.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 22. PartitionedDirectedUnionRelationshipTypesScan</div>
<div class="content">
<div class="listingblock test-result-skip">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[friendOrFoe: FRIENDS_WITH|FOE]-&gt;()
RETURN friendOrFoe</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+------------------------------------------------+----+---------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                       | Id | Details                                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+------------------------------------------------+----+---------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                                |  0 | friendOrFoe                                       |             15 |   12 |      12 |                    0/0 |     0.570 | In Pipeline 1 |
| |                                              +----+---------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedDirectedUnionRelationshipTypesScan |  1 | (anon_0)-[friendOrFoe:FRIENDS_WITH|FOE]-&gt;(anon_1) |             15 |   12 |      13 |                    2/0 |     0.170 | In Pipeline 0 |
+------------------------------------------------+----+---------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 25</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-union-relationship-types-scan"><a class="anchor" href="#query-plan-undirected-union-relationship-types-scan"></a>Undirected Union Relationship Types Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedUnionRelationshipTypesScan</code> operator fetches all relationships and their start and end nodes with at least one of the provided types from the relationship type index.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As the block storage format becomes the default, this operator will cease to be used in generating plans. Please refer to  <a href="https://neo4j.com/docs/operations-manual/current/database-internals/store-formats">Operations Manual &#8594; Store formats</a> for futher details on the various store formats available.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 23. UndirectedUnionRelationshipTypeScan</div>
<div class="content">
<div class="listingblock test-result-skip]">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[friendOrFoe: FRIENDS_WITH|FOE]-()
RETURN friendOrFoe</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------------+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+
| Operator                              | Details                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by      | Pipeline            |
+---------------------------------------+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+
| +ProduceResults                       | friendOrFoe                                      |             30 |   24 |       0 |                |                        |           |                 |                     |
| |                                     +--------------------------------------------------+----------------+------+---------+----------------+                        |           |                 |                     |
| +UndirectedUnionRelationshipTypesScan | (anon_0)-[friendOrFoe:FRIENDS_WITH|FOE]-(anon_1) |             30 |   24 |      14 |            120 |                    3/1 |     0.887 | friendOrFoe ASC | Fused in Pipeline 0 |
+---------------------------------------+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------+---------------------+

Total database accesses: 14, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-union-relationship-types-scan"><a class="anchor" href="#query-plan-partitioned-undirected-union-relationship-types-scan"></a>Partitioned Undirected Union Relationship Types Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedUnionRelationshipTypeScan</code> is a variant of the <a href="#query-plan-undirected-union-relationship-types-scan"><code>UndirectedUnionRelationshipTypesScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As the block storage format becomes the default, this operator will cease to be used in generating plans. Please refer to  <a href="https://neo4j.com/docs/operations-manual/current/database-internals/store-formats">Operations Manual &#8594; Store formats</a> for futher details on the various store formats available.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 24. PartitionedUndirectedUnionRelationshipTypesScan</div>
<div class="content">
<div class="listingblock test-result-skip">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[friendOrFoe: FRIENDS_WITH|FOE]-()
RETURN friendOrFoe</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------------------------------------+----+--------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                         | Id | Details                                          | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+--------------------------------------------------+----+--------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                                  |  0 | friendOrFoe                                      |             30 |   24 |      24 |                    0/0 |     0.896 | In Pipeline 1 |
| |                                                +----+--------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUndirectedUnionRelationshipTypesScan |  1 | (anon_0)-[friendOrFoe:FRIENDS_WITH|FOE]-(anon_1) |             30 |   24 |      13 |                    2/0 |     0.818 | In Pipeline 0 |
+--------------------------------------------------+----+--------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 37</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-index-scan"><a class="anchor" href="#query-plan-directed-relationship-index-scan"></a>Directed Relationship Index Scan</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipIndexScan</code> operator examines all values stored in an index, returning all relationships and their start and end nodes with a particular relationship type and a specified property.</p>
</div>
<div class="exampleblock">
<div class="title">Example 25. DirectedRelationshipIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-&gt;()
WHERE r.title IS NOT NULL
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------------------+----------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                       | Details                                                                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------------------+----------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                | r                                                                          |             15 |   15 |       0 |                |                        |           |                     |
| |                              +----------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipIndexScan | RANGE INDEX (anon_0)-[r:WORKS_IN(title)]-&gt;(anon_1) WHERE title IS NOT NULL |             15 |   15 |      16 |            120 |                    3/1 |     2.464 | Fused in Pipeline 0 |
+--------------------------------+----------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 16, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-relationship-index-scan"><a class="anchor" href="#query-plan-partitioned-directed-relationship-index-scan"></a>Partitioned Directed Relationship Index Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedRelationshipIndexScan</code> is a variant of the <a href="#query-plan-directed-relationship-index-scan"><code>DirectedRelationshipIndexScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 26. PartitionedDirectedRelationshipIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r: WORKS_IN]-&gt;()
WHERE r.title IS NOT NULL
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+-------------------------------------------+----+----------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                  | Id | Details                                                                    | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-------------------------------------------+----+----------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                           |  0 | r                                                                          |             15 |   15 |      70 |                    1/0 |     2.865 | In Pipeline 1 |
| |                                         +----+----------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedDirectedRelationshipIndexScan |  1 | RANGE INDEX (anon_0)-[r:WORKS_IN(title)]-&gt;(anon_1) WHERE title IS NOT NULL |             15 |   15 |      16 |                    2/0 |     0.527 | In Pipeline 0 |
+-------------------------------------------+----+----------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 86</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-index-scan"><a class="anchor" href="#query-plan-undirected-relationship-index-scan"></a>Undirected Relationship Index Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipIndexScan</code> operator examines all values stored in an index, returning all relationships and their start and end nodes with a particular relationship type and a specified property.</p>
</div>
<div class="exampleblock">
<div class="title">Example 27. UndirectedRelationshipIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-()
WHERE r.title IS NOT NULL
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------------+---------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                         | Details                                                                   | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------+---------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                  | r                                                                         |             30 |   30 |       0 |                |                        |           |                     |
| |                                +---------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipIndexScan | RANGE INDEX (anon_0)-[r:WORKS_IN(title)]-(anon_1) WHERE title IS NOT NULL |             30 |   30 |      16 |            120 |                    3/1 |     1.266 | Fused in Pipeline 0 |
+----------------------------------+---------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 16, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-relationship-index-scan"><a class="anchor" href="#query-plan-partitioned-undirected-relationship-index-scan"></a>Partitioned Undirected Relationship Index Scan</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedRelationshipIndexScan</code> is a variant of the <a href="#query-plan-undirected-relationship-index-scan"><code>UndirectedRelationshipIndexScan</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 28. PartitionedUndirectedRelationshipIndexScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH ()-[r: WORKS_IN]-()
WHERE r.title IS NOT NULL
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+---------------------------------------------+----+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                    | Id | Details                                                                   | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+---------------------------------------------+----+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                             |  0 | r                                                                         |             30 |   30 |     140 |                    1/0 |     3.088 | In Pipeline 1 |
| |                                           +----+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUndirectedRelationshipIndexScan |  1 | RANGE INDEX (anon_0)-[r:WORKS_IN(title)]-(anon_1) WHERE title IS NOT NULL |             30 |   30 |      16 |                    2/0 |     0.572 | In Pipeline 0 |
+---------------------------------------------+----+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 156</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-index-contains-scan"><a class="anchor" href="#query-plan-directed-relationship-index-contains-scan"></a>Directed Relationship Index Contains Scan</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipIndexContainsScan</code> operator examines all values stored in an index, searching for entries containing a specific <code>STRING</code>; for example, in queries including <code>CONTAINS</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a type scan using <code>DirectedRelationshipTypeScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 29. DirectedRelationshipIndexContainsScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-&gt;()
WHERE r.title CONTAINS 'senior'
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                               | Details                                                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                        | r                                                                                    |              0 |    4 |       0 |                |                        |           |                     |
| |                                      +--------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipIndexContainsScan | TEXT INDEX (anon_0)-[r:WORKS_IN(title)]-&gt;(anon_1) WHERE title CONTAINS $autostring_0 |              0 |    4 |       5 |            120 |                    3/0 |     1.051 | Fused in Pipeline 0 |
+----------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 5, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-index-contains-scan"><a class="anchor" href="#query-plan-undirected-relationship-index-contains-scan"></a>Undirected Relationship Index Contains Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipIndexContainsScan</code> operator examines all values stored in an index, searching for entries containing a specific <code>STRING</code>; for example, in queries including <code>CONTAINS</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a type scan using <code>DirectedRelationshipTypeScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 30. UndirectedRelationshipIndexContainsScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-()
WHERE r.title CONTAINS 'senior'
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------------------------+-------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                                 | Details                                                                             | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------------------------+-------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                          | r                                                                                   |              0 |    8 |       0 |                |                        |           |                     |
| |                                        +-------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipIndexContainsScan | TEXT INDEX (anon_0)-[r:WORKS_IN(title)]-(anon_1) WHERE title CONTAINS $autostring_0 |              0 |    8 |       5 |            120 |                    3/0 |     2.684 | Fused in Pipeline 0 |
+------------------------------------------+-------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 5, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-index-ends-with-scan"><a class="anchor" href="#query-plan-directed-relationship-index-ends-with-scan"></a>Directed Relationship Index Ends With Scan</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipIndexEndsWithScan</code> operator examines all values stored in an index, searching for entries ending in a specific <code>STRING</code>; for example, in queries containing <code>ENDS WITH</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a label scan using <code>NodeByLabelScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 31. DirectedRelationshipIndexEndsWithScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-&gt;()
WHERE r.title ENDS WITH 'developer'
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                               | Details                                                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                        | r                                                                                     |              0 |    8 |       0 |                |                        |           |                     |
| |                                      +---------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipIndexEndsWithScan | TEXT INDEX (anon_0)-[r:WORKS_IN(title)]-&gt;(anon_1) WHERE title ENDS WITH $autostring_0 |              0 |    8 |       9 |            120 |                    3/0 |     1.887 | Fused in Pipeline 0 |
+----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 9, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-index-ends-with-scan"><a class="anchor" href="#query-plan-undirected-relationship-index-ends-with-scan"></a>Undirected Relationship Index Ends With Scan</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipIndexEndsWithScan</code> operator examines all values stored in an index, searching for entries ending in a specific <code>STRING</code>; for example, in queries containing <code>ENDS WITH</code>.
Although this is slower than an index seek (since all entries need to be examined), it is still faster than the indirection resulting from a label scan using <code>NodeByLabelScan</code>, and a property store filter.</p>
</div>
<div class="exampleblock">
<div class="title">Example 32. UndirectedRelationshipIndexEndsWithScan</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH ()-[r: WORKS_IN]-()
WHERE r.title ENDS WITH 'developer'
RETURN r</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                                 | Details                                                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                          | r                                                                                    |              0 |   16 |       0 |                |                        |           |                     |
| |                                        +--------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipIndexEndsWithScan | TEXT INDEX (anon_0)-[r:WORKS_IN(title)]-(anon_1) WHERE title ENDS WITH $autostring_0 |              0 |   16 |       9 |            120 |                    3/0 |     1.465 | Fused in Pipeline 0 |
+------------------------------------------+--------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 9, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-index-seek"><a class="anchor" href="#query-plan-directed-relationship-index-seek"></a>Directed Relationship Index Seek</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipIndexSeek</code> operator finds relationships and their start and end nodes using an index seek.
The relationship variable and the index used are shown in the arguments of the operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 33. DirectedRelationshipIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (candidate)-[r:WORKS_IN]-&gt;()
WHERE r.title = 'chief architect'
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------------------+-----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                       | Details                                                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------------------+-----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                | candidate                                                                         |              2 |    1 |       0 |                |                        |           |                     |
| |                              +-----------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipIndexSeek | RANGE INDEX (candidate)-[r:WORKS_IN(title)]-&gt;(anon_0) WHERE title = $autostring_0 |              2 |    1 |       2 |            120 |                    3/1 |     0.591 | Fused in Pipeline 0 |
+--------------------------------+-----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 2, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-relationship-index-seek"><a class="anchor" href="#query-plan-partitioned-directed-relationship-index-seek"></a>Partitioned Directed Relationship Index Seek</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedRelationshipIndexSeek</code> is a variant of the the <a href="#query-plan-directed-relationship-index-seek"><code>DirectedRelationshipIndexSeek</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 34. PartitionedDirectedRelationshipIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (candidate)-[r:WORKS_IN]-&gt;()
WHERE r.title = 'chief architect'
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+-------------------------------------------+----+-----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                  | Id | Details                                                                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-------------------------------------------+----+-----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                           |  0 | candidate                                                                         |              2 |    1 |       2 |                    2/0 |     0.284 | In Pipeline 1 |
| |                                         +----+-----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedDirectedRelationshipIndexSeek |  1 | RANGE INDEX (candidate)-[r:WORKS_IN(title)]-&gt;(anon_0) WHERE title = $autostring_0 |              2 |    1 |       2 |                    2/0 |     0.148 | In Pipeline 0 |
+-------------------------------------------+----+-----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 4</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-index-seek"><a class="anchor" href="#query-plan-undirected-relationship-index-seek"></a>Undirected Relationship Index Seek</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipIndexSeek</code> operator finds relationships and their start and end nodes using an index seek.
The relationship variable and the index used are shown in the arguments of the operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 35. UndirectedRelationshipIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (candidate)-[r:WORKS_IN]-()
WHERE r.title = 'chief architect'
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------------+----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                         | Details                                                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------+----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                  | candidate                                                                        |              4 |    2 |       0 |                |                        |           |                     |
| |                                +----------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipIndexSeek | RANGE INDEX (candidate)-[r:WORKS_IN(title)]-(anon_0) WHERE title = $autostring_0 |              4 |    2 |       2 |            120 |                    3/1 |     0.791 | Fused in Pipeline 0 |
+----------------------------------+----------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 2, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-relationship-index-seek"><a class="anchor" href="#query-plan-partitioned-undirected-relationship-index-seek"></a>Partitioned Undirected Relationship Index Seek</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedRelationshipIndexSeek</code> operator finds relationships and their start and end nodes using an index seek.
The relationship variable and the index used are shown in the arguments of the operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 36. PartitionedUndirectedRelationshipIndexSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (candidate)-[r:WORKS_IN]-()
WHERE r.title = 'chief architect'
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+---------------------------------------------+----+----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| Operator                                    | Id | Details                                                                          | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+---------------------------------------------+----+----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +ProduceResults                             |  0 | candidate                                                                        |              4 |    2 |       4 |                    2/0 |     0.333 | In Pipeline 1 |
| |                                           +----+----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+
| +PartitionedUndirectedRelationshipIndexSeek |  1 | RANGE INDEX (candidate)-[r:WORKS_IN(title)]-(anon_0) WHERE title = $autostring_0 |              4 |    2 |       2 |                    2/0 |     0.151 | In Pipeline 0 |
+---------------------------------------------+----+----------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------+

Total database accesses: 6</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-by-element-id-seek"><a class="anchor" href="#query-plan-directed-relationship-by-element-id-seek"></a>Directed Relationship By Element Id Seek</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipByElementIdSeek</code> operator reads one or more relationships by element id from the relationship store (specified via the function <a href="../../../functions/scalar/#functions-elementid" class="xref page">elementId()</a>) and produces the relationship as well as the source and target node of the relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 37. DirectedRelationshipByElementIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n1)-[r]-&gt;()
WHERE elementId(r) = 0
RETURN r, n1</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------------------------+----+----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator                             | Id | Details                                            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+--------------------------------------+----+----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults                      |  0 | r, n1                                              |              1 |    0 |       0 |              0 |                    0/0 |     0.314 |               |
| |                                    +----+----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +DirectedRelationshipByElementIdSeek |  1 | (n1)-[r]-&gt;(anon_0) WHERE elementId(r) = $autoint_0 |              1 |    0 |       0 |            248 |                    0/0 |     2.337 | In Pipeline 0 |
+--------------------------------------+----+----------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 0, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-by-id-seek"><a class="anchor" href="#query-plan-directed-relationship-by-id-seek"></a>Directed Relationship By Id Seek</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipByIdSeek</code> operator reads one or more relationships by id from the relationship store, and produces the relationship as well as the source and target node of the relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 38. DirectedRelationshipByIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n1)-[r]-&gt;()
WHERE id(r) = 0
RETURN r, n1</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------------------+----+---------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                      | Id | Details                                     | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------------------+----+---------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults               |  0 | r, n1                                       |              1 |    1 |       7 |              0 |                        |           |                     |
| |                             +----+---------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipByIdSeek |  1 | (n1)-[r]-&gt;(anon_0) WHERE id(r) = $autoint_0 |              1 |    1 |       1 |            248 |                    3/0 |     0.483 | Fused in Pipeline 0 |
+-------------------------------+----+---------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 8, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-by-element-id-seek"><a class="anchor" href="#query-plan-undirected-relationship-by-element-id-seek"></a>Undirected Relationship By Element Id Seek</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipByElementIdSeek</code> operator reads one or more relationships by element id from the relationship store (specified via the function <a href="../../../functions/scalar/#functions-elementid" class="xref page">elementId()</a>).
As the direction is unspecified, two rows are produced for each relationship as a result of alternating the combination of the start and end node.</p>
</div>
<div class="exampleblock">
<div class="title">Example 39. UndirectedRelationshipByElementIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n1)-[r]-()
WHERE elementId(r) = 1
RETURN r, n1</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------------+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                              | Details                                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------------------+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                       | r, n1                                      |              2 |    2 |       0 |                |                        |           |                     |
| |                                     +--------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipByElementIdSeek| (n1)-[r]-(anon_0) WHERE elementId(r) = $autoint_0 |       2 |    2 |       1 |            120 |                    4/0 |     0.332 | Fused in Pipeline 0 |
+---------------------------------+--------------------------------------------+-----+---------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-by-id-seek"><a class="anchor" href="#query-plan-undirected-relationship-by-id-seek"></a>Undirected Relationship By Id Seek</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipByIdSeek</code> operator reads one or more relationships by id from the relationship store (specified via the function <a href="../../../functions/scalar/#functions-id" class="xref page">Id()</a>).
As the direction is unspecified, two rows are produced for each relationship as a result of alternating the combination of the start and end node.</p>
</div>
<div class="exampleblock">
<div class="title">Example 40. UndirectedRelationshipByIdSeek</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n1)-[r]-()
WHERE id(r) = 1
RETURN r, n1</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------+----+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                        | Id | Details                                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------------+----+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                 |  0 | r, n1                                      |              2 |    2 |      14 |              0 |                        |           |                     |
| |                               +----+--------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipByIdSeek |  1 | (n1)-[r]-(anon_0) WHERE id(r) = $autoint_0 |              2 |    2 |       1 |            248 |                    3/0 |     1.005 | Fused in Pipeline 0 |
+---------------------------------+----+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 15, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-directed-relationship-index-seek-by-range"><a class="anchor" href="#query-plan-directed-relationship-index-seek-by-range"></a>Directed Relationship Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>DirectedRelationshipIndexSeekByRange</code> operator finds relationships and their start and end nodes using an index seek where the value of the property matches a given prefix <code>STRING</code>.
<code>DirectedRelationshipIndexSeekByRange</code> can be used for <code>STARTS WITH</code> and comparison operators such as <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code> and <code>&gt;=</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 41. DirectedRelationshipIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (candidate: Person)-[r:WORKS_IN]-&gt;(location)
WHERE r.duration &gt; 100
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------------------+----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                              | Details                                                                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------------------+----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                       | candidate                                                                              |              4 |   15 |       0 |                |                        |           |                     |
| |                                     +----------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter                               | candidate:Person                                                                       |              4 |   15 |      30 |                |                        |           |                     |
| |                                     +----------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedRelationshipIndexSeekByRange | RANGE INDEX (candidate)-[r:WORKS_IN(duration)]-&gt;(location) WHERE duration &gt; $autoint_0 |              4 |   15 |      16 |            120 |                    4/1 |     0.703 | Fused in Pipeline 0 |
+---------------------------------------+----------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 46, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-directed-relationship-index-seek-by-range"><a class="anchor" href="#query-plan-partitioned-directed-relationship-index-seek-by-range"></a>Partitioned Directed Relationship Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>PartitionedDirectedRelationshipIndexSeekByRange</code> is a variant of the <a href="#query-plan-directed-relationship-index-seek-by-range"><code>DirectedRelationshipIndexSeekByRange</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 42. PartitionedDirectedRelationshipIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (candidate: Person)-[r:WORKS_IN]-&gt;(location)
WHERE r.duration &gt; 100
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------------------------------------+----+----------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator                                         | Id | Details                                                                                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------------------------------------+----+----------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults                                  |  0 | candidate                                                                              |              4 |   15 |      30 |                    1/0 |     1.031 | In Pipeline 1       |
| |                                                +----+----------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +Filter                                          |  1 | candidate:Person                                                                       |              4 |   15 |      30 |                        |           |                     |
| |                                                +----+----------------------------------------------------------------------------------------+----------------+------+---------+                        |           |                     |
| +PartitionedDirectedRelationshipIndexSeekByRange |  2 | RANGE INDEX (candidate)-[r:WORKS_IN(duration)]-&gt;(location) WHERE duration &gt; $autoint_0 |              4 |   15 |      16 |                    3/0 |     0.203 | Fused in Pipeline 0 |
+--------------------------------------------------+----+----------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 76</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-undirected-relationship-index-seek-by-range"><a class="anchor" href="#query-plan-undirected-relationship-index-seek-by-range"></a>Undirected Relationship Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>UndirectedRelationshipIndexSeekByRange</code> operator finds relationships and their start and end nodes using an index seek where the value of the property matches a given prefix <code>STRING</code>.
<code>UndirectedRelationshipIndexSeekByRange</code> can be used for <code>STARTS WITH</code> and comparison operators such as <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code> and <code>&gt;=</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 43. UndirectedRelationshipIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (candidate: Person)-[r:WORKS_IN]-(location)
WHERE r.duration &gt; 100
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                                | Details                                                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                         | candidate                                                                             |              5 |   15 |       0 |                |                        |           |                     |
| |                                       +---------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter                                 | candidate:Person                                                                      |              5 |   15 |      60 |                |                        |           |                     |
| |                                       +---------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +UndirectedRelationshipIndexSeekByRange | RANGE INDEX (candidate)-[r:WORKS_IN(duration)]-(location) WHERE duration &gt; $autoint_0 |              8 |   30 |      16 |            120 |                    4/1 |     1.214 | Fused in Pipeline 0 |
+-----------------------------------------+---------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 76, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-undirected-relationship-index-seek-by-range"><a class="anchor" href="#query-plan-partitioned-undirected-relationship-index-seek-by-range"></a>Partitioned Undirected Relationship Index Seek By Range</h3>
<div class="paragraph">
<p>The <code>PartitionedUndirectedRelationshipIndexSeekByRange</code> is a variant of the <a href="#query-plan-undirected-relationship-index-seek-by-range"><code>UndirectedRelationshipIndexSeekByRange</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the store to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 44. PartitionedUndirectedRelationshipIndexSeekByRange</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
MATCH (candidate: Person)-[r:WORKS_IN]-(location)
WHERE r.duration &gt; 100
RETURN candidate</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+----------------------------------------------------+----+---------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator                                           | Id | Details                                                                               | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------------------------+----+---------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults                                    |  0 | candidate                                                                             |              5 |   15 |      30 |                    1/0 |     0.918 | In Pipeline 1       |
| |                                                  +----+---------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +Filter                                            |  1 | candidate:Person                                                                      |              5 |   15 |      60 |                        |           |                     |
| |                                                  +----+---------------------------------------------------------------------------------------+----------------+------+---------+                        |           |                     |
| +PartitionedUndirectedRelationshipIndexSeekByRange |  2 | RANGE INDEX (candidate)-[r:WORKS_IN(duration)]-(location) WHERE duration &gt; $autoint_0 |              8 |   30 |      16 |                    3/0 |     0.413 | Fused in Pipeline 0 |
+----------------------------------------------------+----+---------------------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 106</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nested-loops-join-operators"><a class="anchor" href="#nested-loops-join-operators"></a>Nested loops and join operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nested loop operators process data by iterating over the right-hand side (RHS) for each row from the left-hand side (LHS).
Each row from the LHS triggers the execution of the RHS, effectively creating a loop over the RHS for each LHS element.</p>
</div>
<div class="sect2">
<h3 id="query-plan-apply"><a class="anchor" href="#query-plan-apply"></a>Apply</h3>
<div class="paragraph">
<p>All the different <code>Apply</code> operators (listed below) share the same basic functionality: they perform a nested loop by taking a single row from the left-hand side, and using the <a href="#query-plan-argument"><code>Argument</code></a> operator on the right-hand side, execute the operator tree on the right-hand side.
The versions of the <code>Apply</code> operators differ in how the results are managed.
The <code>Apply</code> operator (i.e. the standard version) takes the row produced by the right-hand side&#8201;&#8212;&#8201;which at this point contains data from both the left-hand and right-hand sides&#8201;&#8212;&#8201;and yields it.</p>
</div>
<div class="exampleblock">
<div class="title">Example 45. Apply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person {name: 'me'})
MATCH (q:Person {name: p.secondName})
RETURN p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  | p, q                                                  |              1 |    0 |       0 |                |                        |           |                     |
| |                +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply           |                                                       |              1 |    0 |       0 |                |                        |           |                     |
| |\               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +NodeIndexSeek | RANGE INDEX q:Person(name) WHERE name = p.secondName  |              1 |    0 |       0 |           2152 |                    0/0 |     0.219 | Fused in Pipeline 1 |
| |                +-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeIndexSeek   | RANGE INDEX p:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    0/1 |     0.236 | In Pipeline 0       |
+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 2, total allocated memory: 2216</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-semi-apply"><a class="anchor" href="#query-plan-semi-apply"></a>Semi Apply</h3>
<div class="paragraph">
<p>The <code>SemiApply</code> operator tests for the presence of a pattern predicate, and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
If the right-hand side operator yields at least one row, the row from the left-hand side operator is yielded by the <code>SemiApply</code> operator.
This makes <code>SemiApply</code> a filtering operator, used mostly for pattern predicates in queries.</p>
</div>
<div class="exampleblock">
<div class="title">Example 46. SemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (p:Person)
WHERE (p)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN p.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+-------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                             | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+-------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | `p.name`                            |             11 |   10 |       0 |                    0/0 |
| |               +-------------------------------------+----------------+------+---------+------------------------+
| +Projection     | p.name AS `p.name`                  |             11 |   10 |      10 |                    1/0 |
| |               +-------------------------------------+----------------+------+---------+------------------------+
| +SemiApply      |                                     |             11 |   10 |       0 |                    0/0 |
| |\              +-------------------------------------+----------------+------+---------+------------------------+
| | +Filter       | anon_3:Person                       |             12 |    0 |      10 |                    0/0 |
| | |             +-------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)  | (p)-[anon_2:FRIENDS_WITH]-&gt;(anon_3) |             12 |   10 |      51 |                   28/0 |
| | |             +-------------------------------------+----------------+------+---------+------------------------+
| | +Argument     | p                                   |             14 |   14 |       0 |                    0/0 |
| |               +-------------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan| p:Person                            |             14 |   14 |      35 |                    1/0 |
+-----------------+-------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 142, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-anti-semi-apply"><a class="anchor" href="#query-plan-anti-semi-apply"></a>Anti Semi Apply</h3>
<div class="paragraph">
<p>The <code>AntiSemiApply</code> operator tests for the absence of a pattern, and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
If the right-hand side operator yields no rows, the row from the left-hand side operator is yielded by the <code>AntiSemiApply</code> operator.
This makes <code>AntiSemiApply</code> a filtering operator, used for pattern predicates in queries.</p>
</div>
<div class="exampleblock">
<div class="title">Example 47. AntiSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH
  (me:Person {name: 'me'}),
  (other:Person)
WHERE NOT (me)-[:FRIENDS_WITH]-&gt;(other)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| Operator          | Details                                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses |
+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| +ProduceResults   | `other.name`                                           |              4 |   12 |       0 |                |                    0/0 |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| +Projection       | other.name AS `other.name`                             |              4 |   12 |      12 |                |                    1/0 |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| +AntiSemiApply    |                                                        |              4 |   12 |       0 |                |                    0/0 |
| |\                +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| | +Expand(Into)   | (me)-[anon_2:FRIENDS_WITH]-&gt;(other)                    |              1 |    0 |      81 |            896 |                   28/0 |
| | |               +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| | +Argument       | me, other                                              |             14 |   14 |       0 |                |                    0/0 |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| +CartesianProduct |                                                        |             14 |   14 |       0 |                |                    0/0 |
| |\                +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| | +NodeByLabelScan| other:Person                                           |             14 |   14 |      35 |                |                    1/0 |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+
| +NodeIndexSeek    | RANGE INDEX me:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |                |                    0/1 |
+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+

Total database accesses: 166, total allocated memory: 976</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-let-semi-apply"><a class="anchor" href="#query-plan-let-semi-apply"></a>Let Semi Apply</h3>
<div class="paragraph">
<p>The <code>LetSemiApply</code> operator tests for the presence of a pattern predicate, and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
When a query contains multiple pattern predicates separated with <code>OR</code>, <code>LetSemiApply</code> will be used to evaluate the first of these.
It will record the result of evaluating the predicate but will leave any filtering to another operator.
In the example, <code>LetSemiApply</code> will be used to check for the presence of the <code>FRIENDS_WITH</code> relationship from each person.</p>
</div>
<div class="exampleblock">
<div class="title">Example 48. LetSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (other:Person)
WHERE (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+--------------------+-----------------------------------------+----------------+------+---------+------------------------+
| Operator           | Details                                 | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+--------------------+-----------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults    | `other.name`                            |             13 |   14 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +Projection        | other.name AS `other.name`              |             13 |   14 |      14 |                    1/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +SelectOrSemiApply | anon_9                                  |             14 |   14 |       0 |                    0/0 |
| |\                 +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter          | anon_7:Location                         |             14 |    0 |       4 |                    0/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)     | (other)-[anon_6:WORKS_IN]-&gt;(anon_7)     |             14 |    4 |      15 |                    8/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument        | other                                   |             14 |    4 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +LetSemiApply      |                                         |             14 |   14 |       0 |                    0/0 |
| |\                 +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter          | anon_5:Person                           |             12 |    0 |      10 |                    0/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)     | (other)-[anon_4:FRIENDS_WITH]-&gt;(anon_5) |             12 |   10 |      51 |                   28/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument        | other                                   |             14 |   14 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan   | other:Person                            |             14 |   14 |      35 |                    1/0 |
+--------------------+-----------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 165, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-let-anti-semi-apply"><a class="anchor" href="#query-plan-let-anti-semi-apply"></a>Let Anti Semi Apply</h3>
<div class="paragraph">
<p>The <code>LetAntiSemiApply</code> operator tests for the absence of a pattern, and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
When a query contains multiple negated pattern predicates&#8201;&#8212;&#8201;i.e. predicates separated with <code>OR</code>, where at least one predicate contains <code>NOT</code>&#8201;&#8212;&#8201;<code>LetAntiSemiApply</code> will be used to evaluate the first of these.
It will record the result of evaluating the predicate but will leave any filtering to another operator.
In the example, <code>LetAntiSemiApply</code> will be used to check for the absence of the <code>FRIENDS_WITH</code> relationship from each person.</p>
</div>
<div class="exampleblock">
<div class="title">Example 49. LetAntiSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (other:Person)
WHERE NOT ((other)-[:FRIENDS_WITH]-&gt;(:Person)) OR (other)-[:WORKS_IN]-&gt;(:Location)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07
+--------------------+-----------------------------------------+----------------+------+---------+------------------------+
| Operator           | Details                                 | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+--------------------+-----------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults    | `other.name`                            |             11 |   14 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +Projection        | other.name AS `other.name`              |             11 |   14 |      14 |                    1/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +SelectOrSemiApply | anon_9                                  |             14 |   14 |       0 |                    0/0 |
| |\                 +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter          | anon_7:Location                         |             14 |    0 |      10 |                    0/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)     | (other)-[anon_6:WORKS_IN]-&gt;(anon_7)     |             14 |   10 |      38 |                   20/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument        | other                                   |             14 |   10 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +LetAntiSemiApply  |                                         |             14 |   14 |       0 |                    0/0 |
| |\                 +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter          | anon_5:Person                           |             12 |    0 |      10 |                    0/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)     | (other)-[anon_4:FRIENDS_WITH]-&gt;(anon_5) |             12 |   10 |      51 |                   28/0 |
| | |                +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument        | other                                   |             14 |   14 |       0 |                    0/0 |
| |                  +-----------------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan   | p:Person                                |             14 |   14 |      35 |                    1/0 |
+--------------------+-----------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 142, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-select-or-semi-apply"><a class="anchor" href="#query-plan-select-or-semi-apply"></a>Select Or Semi Apply</h3>
<div class="paragraph">
<p>The <code>SelectOrSemiApply</code> operator tests for the presence of a pattern predicate and evaluates a predicate,
and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
This operator allows for the mixing of normal predicates and pattern predicates that check for the presence of a pattern.
First, the normal expression predicate is evaluated, and, only if it returns <code>false</code>, is the costly pattern predicate evaluated.</p>
</div>
<div class="exampleblock">
<div class="title">Example 50. SelectOrSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (other:Person)
WHERE other.age &gt; 25 OR (other)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator           | Details                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults    | `other.name`                            |             11 |   10 |       0 |                |                        |           |                     |
| |                  +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Projection        | other.name AS `other.name`              |             11 |   10 |      20 |                |                        |           |                     |
| |                  +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SelectOrSemiApply | other.age &gt; $autoint_0                  |             14 |   10 |       0 |            392 |                    0/0 |     0.190 | Fused in Pipeline 2 |
| |\                 +-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Limit           | 1                                       |             14 |   10 |       0 |            752 |                        |           |                     |
| | |                +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Filter          | anon_3:Person                           |             12 |   10 |      20 |                |                        |           |                     |
| | |                +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)     | (other)-[anon_2:FRIENDS_WITH]-&gt;(anon_3) |             12 |   10 |      37 |                |                        |           |                     |
| | |                +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument        | other                                   |             14 |   14 |       0 |           2168 |                    2/0 |     0.435 | Fused in Pipeline 1 |
| |                  +-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan   | other:Person                            |             14 |   14 |      35 |                |                        |           | Fused in Pipeline 0 |
+--------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 148, total allocated memory: 2952</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-select-or-anti-semi-apply"><a class="anchor" href="#query-plan-select-or-anti-semi-apply"></a>Select Or Anti Semi Apply</h3>
<div class="paragraph">
<p>The <code>SelectOrAntiSemiApply</code> operator is used to evaluate <code>OR</code> between a predicate and a negative pattern predicate (i.e. a pattern predicate preceded with <code>NOT</code>), and is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.
If the predicate returns <code>true</code>, the pattern predicate is not tested.
If the predicate returns <code>false</code> or <code>null</code>, <code>SelectOrAntiSemiApply</code> will instead test the pattern predicate.</p>
</div>
<div class="exampleblock">
<div class="title">Example 51. SelectOrAntiSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (other:Person)
WHERE other.age &gt; 25 OR NOT (other)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator               | Details                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults        | `other.name`                            |              4 |    4 |       0 |                |                        |           |                     |
| |                      +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Projection            | other.name AS `other.name`              |              4 |    4 |       8 |                |                        |           |                     |
| |                      +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SelectOrAntiSemiApply | other.age &gt; $autoint_0                  |             14 |    4 |       0 |            200 |                    0/0 |     0.155 | Fused in Pipeline 3 |
| |\                     +-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Anti                |                                         |             14 |    4 |       0 |           1256 |                    0/0 |     0.170 | In Pipeline 2       |
| | |                    +-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Limit               | 1                                       |              0 |   10 |       0 |            752 |                        |           |                     |
| | |                    +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Filter              | anon_3:Person                           |             12 |   10 |      20 |                |                        |           |                     |
| | |                    +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)         | (other)-[anon_2:FRIENDS_WITH]-&gt;(anon_3) |             12 |   10 |      37 |                |                        |           |                     |
| | |                    +-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument            | other                                   |             14 |   14 |       0 |           2168 |                    2/0 |     0.449 | Fused in Pipeline 1 |
| |                      +-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan       | other:Person                            |             14 |   14 |      35 |                |                        |           | Fused in Pipeline 0 |
+------------------------+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 136, total allocated memory: 4208</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-let-select-or-semi-apply"><a class="anchor" href="#query-plan-let-select-or-semi-apply"></a>Let Select Or Semi Apply</h3>
<div class="paragraph">
<p>The <code>LetSelectOrSemiApply</code> operator is planned for pattern predicates that are combined with other predicates using <code>OR</code>.
This is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 52. LetSelectOrSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (other:Person)
WHERE (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location) OR other.age = 5
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------------+-----------------------------------------+----------------+------+---------+------------------------+
| Operator              | Details                                 | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------------+-----------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults       | `other.name`                            |             13 |   14 |       0 |                    0/0 |
| |                     +-----------------------------------------+----------------+------+---------+------------------------+
| +Projection           | other.name AS `other.name`              |             13 |   14 |      14 |                    1/0 |
| |                     +-----------------------------------------+----------------+------+---------+------------------------+
| +SelectOrSemiApply    | anon_9                                  |             14 |   14 |       0 |                    0/0 |
| |\                    +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter             | anon_7:Location                         |             14 |    0 |       4 |                    0/0 |
| | |                   +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)        | (other)-[anon_6:WORKS_IN]-&gt;(anon_7)     |             14 |    4 |      15 |                    8/0 |
| | |                   +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument           | other                                   |             14 |    4 |       0 |                    0/0 |
| |                     +-----------------------------------------+----------------+------+---------+------------------------+
| +LetSelectOrSemiApply | other.age = $autoint_0                  |             14 |   14 |      14 |                    0/0 |
| |\                    +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter             | anon_5:Person                           |             12 |    0 |      10 |                    0/0 |
| | |                   +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)        | (other)-[anon_4:FRIENDS_WITH]-&gt;(anon_5) |             12 |   10 |      51 |                   28/0 |
| | |                   +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument           | other                                   |             14 |   14 |       0 |                    0/0 |
| |                     +-----------------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan      | other:Person                            |             14 |   14 |      35 |                    1/0 |
+-----------------------+-----------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 179, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-let-select-or-anti-semi-apply"><a class="anchor" href="#query-plan-let-select-or-anti-semi-apply"></a>Let Select Or Anti Semi Apply</h3>
<div class="paragraph">
<p>The <code>LetSelectOrAntiSemiApply</code> operator is planned for negated pattern predicates&#8201;&#8212;&#8201;i.e. pattern predicates preceded with <code>NOT</code>&#8201;&#8212;&#8201;that are combined with other predicates using <code>OR</code>.
This operator is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 53. LetSelectOrAntiSemiApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (other:Person)
WHERE NOT (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location) OR other.age = 5
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+---------------------------+-----------------------------------------+----------------+------+---------+------------------------+
| Operator                  | Details                                 | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+---------------------------+-----------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults           | `other.name`                            |             12 |   14 |       0 |                    0/0 |
| |                         +-----------------------------------------+----------------+------+---------+------------------------+
| +Projection               | other.name AS `other.name`              |             12 |   14 |      14 |                    1/0 |
| |                         +-----------------------------------------+----------------+------+---------+------------------------+
| +SelectOrSemiApply        | anon_9                                  |             14 |   14 |       0 |                    0/0 |
| |\                        +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter                 | anon_7:Location                         |             14 |    0 |      10 |                    0/0 |
| | |                       +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)            | (other)-[anon_6:WORKS_IN]-&gt;(anon_7)     |             14 |   10 |      38 |                   20/0 |
| | |                       +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument               | other                                   |             14 |   10 |       0 |                    0/0 |
| |                         +-----------------------------------------+----------------+------+---------+------------------------+
| +LetSelectOrAntiSemiApply | other.age = $autoint_0                  |             14 |   14 |      14 |                    0/0 |
| |\                        +-----------------------------------------+----------------+------+---------+------------------------+
| | +Filter                 | anon_5:Person                           |             12 |    0 |      10 |                    0/0 |
| | |                       +-----------------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)            | (other)-[anon_4:FRIENDS_WITH]-&gt;(anon_5) |             12 |   10 |      51 |                   28/0 |
| | |                       +-----------------------------------------+----------------+------+---------+------------------------+
| | +Argument               | other                                   |             14 |   14 |       0 |                    0/0 |
| |                         +-----------------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan          | other:Person                            |             14 |   14 |      35 |                    1/0 |
+---------------------------+-----------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 208, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-roll-up-apply"><a class="anchor" href="#query-plan-roll-up-apply"></a>Roll Up Apply</h3>
<div class="paragraph">
<p>The <code>RollUpApply</code> operator is used to execute an expression which takes as input a pattern, and returns a list with content from the matched pattern; for example, when using a pattern expression or pattern comprehension in a query.
This operator is a variation of the <a href="#query-plan-apply"><code>Apply</code></a> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 54. RollUpApply</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (p:Person)
RETURN p.name, [(p)-[:WORKS_IN]-&gt;(location) | location.name] AS cities</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+-----------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+-----------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | `p.name`, cities                  |             14 |   14 |       0 |                    0/0 |
| |               +-----------------------------------+----------------+------+---------+------------------------+
| +Projection     | p.name AS `p.name`                |             14 |   14 |      14 |                    0/0 |
| |               +-----------------------------------+----------------+------+---------+------------------------+
| +RollUpApply    | cities, anon_0                    |             14 |   14 |       0 |                    0/0 |
| |\              +-----------------------------------+----------------+------+---------+------------------------+
| | +Projection   | location.name AS anon_0           |             15 |   15 |      15 |                    1/0 |
| | |             +-----------------------------------+----------------+------+---------+------------------------+
| | +Expand(All)  | (p)-[anon_2:WORKS_IN]-&gt;(location) |             15 |   15 |      53 |                   28/0 |
| | |             +-----------------------------------+----------------+------+---------+------------------------+
| | +Argument     | p                                 |             14 |   14 |       0 |                    0/0 |
| |               +-----------------------------------+----------------+------+---------+------------------------+
| +NodeByLabelScan| p:Person                          |             14 |   14 |      35 |                    1/0 |
+-----------------+-----------------------------------+----------------+------+---------+------------------------+

Total database accesses: 153, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-transaction-apply"><a class="anchor" href="#query-plan-transaction-apply"></a>TransactionApply</h3>
<div class="paragraph">
<p><code>TransactionApply</code> works like the <a href="#query-plan-apply"><code>Apply</code></a> operator but will commit the current transaction after a specified number of rows.</p>
</div>
<div class="exampleblock">
<div class="title">Example 55. TransactionApply</div>
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The below query uses a <a href="../../../subqueries/call-subquery/#variable-scope-clause" class="xref page">variable scope clause</a> to import variables into the <code>CALL</code> subquery.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
LOAD CSV FROM 'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv' AS line
CALL (line) {
  CREATE (a: Artist {name: line[0]})
  RETURN a
} IN TRANSACTIONS OF 100 ROWS
RETURN a;</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator          | Id | Details                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults   |  0 | a                                                |             10 |    4 |       8 |              0 |                        |           |                     |
| |                 +----+--------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +TransactionApply |  1 | IN TRANSACTIONS OF $autoint_1 ROWS ON ERROR FAIL |             10 |    4 |       0 |           2152 |                    0/0 |     2.036 | Fused in Pipeline 3 |
| |\                +----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Create         |  2 | (a:Artist {name: line[$autoint_0]})              |             10 |    4 |      16 |                |                        |           |                     |
| | |               +----+--------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument       |  3 | line                                             |             10 |    4 |       0 |           3472 |                    0/0 |    32.746 | Fused in Pipeline 2 |
| |                 +----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +LoadCSV          |  4 | line                                             |             10 |    4 |       0 |            328 |                        |           | In Pipeline 1       |
+-------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 24, total allocated memory: 5472</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-argument"><a class="anchor" href="#query-plan-argument"></a>Argument</h3>
<div class="paragraph">
<p>The <code>Argument</code> operator indicates the variable to be used as an argument to the right-hand side of an <a href="#query-plan-apply"><code>Apply</code></a> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 56. Argument</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (s:Person {name: 'me'})
MERGE (s)-[:FRIENDS_WITH]-&gt;(s)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Id | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |  0 |                                                       |              1 |    0 |       0 |                |                        |           |                     |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |  1 |                                                       |              1 |    0 |       0 |                |                        |           |                     |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply          |  2 |                                                       |              1 |    1 |       0 |                |                        |           |                     |
| |\              +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +LockingMerge |  3 | CREATE (s)-[anon_0:FRIENDS_WITH]-&gt;(s), LOCK(s)        |              1 |    1 |       1 |                |                        |           |                     |
| | |             +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(Into) |  4 | (s)-[anon_0:FRIENDS_WITH]-&gt;(s)                        |              0 |    0 |      10 |            904 |                        |           |                     |
| | |             +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument     |  5 | s                                                     |              1 |    3 |       0 |           2280 |                    2/0 |     0.460 | Fused in Pipeline 1 |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeIndexSeek  |  6 | RANGE INDEX s:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            376 |                    1/0 |     0.211 | In Pipeline 0       |
+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 15, total allocated memory: 2232</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-argument-tracker"><a class="anchor" href="#query-plan-argument-tracker"></a>Argument Tracker</h3>
<div class="paragraph">
<p>The <code>ArgumentTracker</code> operator is used to ensure row-by-row semantics.
This restricts the <a href="../../runtimes/" class="xref page">Cypher runtime</a> to not batch operations in larger chunks.</p>
</div>
<div class="exampleblock">
<div class="title">Example 57. ArgumentTracker</div>
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The below query uses a <a href="../../../subqueries/call-subquery/#variable-scope-clause" class="xref page">variable scope clause</a> to import variables into the <code>CALL</code> subquery.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (s:Person {name: 'me'})
CALL (s) {
   SET s.seen = coalesce(s.seen + 1,1)
   RETURN s.seen AS result
}
RETURN result;</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

+--------------------+----+---------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator           | Id | Details                                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------+----+---------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults    |  0 | result                                                  |              1 |    1 |       0 |              0 |                        |           |                     |
| |                  +----+---------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply             |  1 |                                                         |              1 |    0 |       0 |                |                        |           |                     |
| |\                 +----+---------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +ArgumentTracker |  7 |                                                         |              1 |    0 |       0 |            736 |                        |           |                     |
| | |                +----+---------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Projection      |  2 | s.seen AS result                                        |              1 |    1 |       2 |                |                        |           |                     |
| | |                +----+---------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Eager           |  3 | read/set conflict for property: seen (Operator: 4 vs 2) |              1 |    1 |       0 |            976 |                    0/0 |     0.298 | Fused in Pipeline 2 |
| | |                +----+---------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +SetProperty     |  4 | s.seen = coalesce(s.seen + $autoint_1, $autoint_2)      |              1 |    1 |       2 |                |                        |           |                     |
| | |                +----+---------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument        |  5 | s                                                       |              1 |    1 |       0 |           2408 |                    2/0 |     1.734 | Fused in Pipeline 1 |
| |                  +----+---------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeIndexSeek     |  6 | RANGE INDEX s:Person(name) WHERE name = $autostring_0   |              1 |    1 |       2 |            368 |                    1/0 |     0.183 | In Pipeline 0       |
+--------------------+----+---------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 6, total allocated memory: 4136</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-cartesian-product"><a class="anchor" href="#query-plan-cartesian-product"></a>Cartesian Product</h3>
<div class="paragraph">
<p>The <code>CartesianProduct</code> operator produces a cartesian product of the two inputs&#8201;&#8212;&#8201;each row coming from the left child operator will be combined with all the rows from the right child operator.
<code>CartesianProduct</code> generally exhibits bad performance and ought to be avoided if possible.</p>
</div>
<div class="exampleblock">
<div class="title">Example 58. CartesianProduct</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH
  (p:Person),
  (t:Team)
RETURN p, t</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator           | Details  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults    | p, t     |            140 |  140 |       0 |                |                    2/0 |     1.917 |                     |
| |                  +----------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +CartesianProduct  |          |            140 |  140 |       0 |           1736 |                        |     1.209 | In Pipeline 2       |
| |\                 +----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +NodeByLabelScan | t:Team   |             10 |   10 |      11 |            136 |                    1/0 |     1,145 | In Pipeline 1       |
| |                  +----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan   | p:Person |             15 |   15 |      16 |            120 |                    1/0 |     0,409 | In Pipeline 0       |
+--------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 142, total allocated memory: 1816</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="execution-plans-operators-hash-join-general"><a class="anchor" href="#execution-plans-operators-hash-join-general"></a>Hash joins in general</h3>
<div class="paragraph">
<p>Hash joins have two inputs: the build input and probe input.
The query planner assigns these roles so that the smaller of the two inputs is the build input.
The build input is pulled in eagerly, and is used to build a probe table.
Once this is complete, the probe table is checked for each row coming from the probe input side.</p>
</div>
<div class="paragraph">
<p>In query plans, the build input is always the left operator, and the probe input the right operator.</p>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-hash-join"><a class="anchor" href="#query-plan-node-hash-join"></a>Node Hash Join</h3>
<div class="paragraph">
<p>The <code>NodeHashJoin</code> operator is a variation of the <a href="#execution-plans-operators-hash-join-general">hash join</a>.
<code>NodeHashJoin</code> executes the hash join on node ids.
As primitive types and arrays can be used, it can be done very efficiently.</p>
</div>
<div class="exampleblock">
<div class="title">Example 59. NodeHashJoin</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (bob:Person {name: 'Bob'})-[:WORKS_IN]-&gt;(loc)&lt;-[:WORKS_IN]-(matt:Person {name: 'Mattias'})
USING JOIN ON loc
RETURN loc.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Details                                                  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  | `loc.name`                                               |             10 |    0 |       0 |                |                    0/0 |     0.000 |                     |
| |                +----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Projection      | loc.name AS `loc.name`                                   |             10 |    0 |       0 |                |                    0/0 |     0.000 |                     |
| |                +----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Filter          | not anon_0 = anon_1                                      |             10 |    0 |       0 |                |                    0/0 |     0.000 |                     |
| |                +----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +NodeHashJoin    | loc                                                      |             10 |    0 |       0 |           3688 |                        |     0.053 | In Pipeline 2       |
| |\               +----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Expand(All)   | (matt)-[anon_1:WORKS_IN]-&gt;(loc)                          |             19 |    0 |       0 |                |                        |           |                     |
| | |              +----------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +NodeIndexSeek | RANGE INDEX matt:Person(name) WHERE name = $autostring_1 |              1 |    0 |       1 |            120 |                    1/0 |     0.288 | Fused in Pipeline 1 |
| |                +----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Expand(All)     | (bob)-[anon_0:WORKS_IN]-&gt;(loc)                           |             19 |    1 |       4 |                |                        |           |                     |
| |                +----------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek   | RANGE INDEX bob:Person(name) WHERE name = $autostring_0  |              1 |    1 |       2 |            120 |                    3/0 |     0.556 | Fused in Pipeline 0 |
+------------------+----------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 7, total allocated memory: 3888</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-value-hash-join"><a class="anchor" href="#query-plan-value-hash-join"></a>Value Hash Join</h3>
<div class="paragraph">
<p>The <code>ValueHashJoin</code> operator is a variation of the <a href="#execution-plans-operators-hash-join-general">hash join</a>.
This operator allows for arbitrary values to be used as the join key.
It is most frequently used to solve predicates of the form: <code>n.prop1 = m.prop2</code> (i.e. equality predicates between two property columns).</p>
</div>
<div class="exampleblock">
<div class="title">Example 60. ValueHashJoin</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH
  (p:Person),
  (q:Person)
WHERE p.age = q.age
RETURN p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator          | Details       | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults    | p, q         |             10 |    0 |       0 |                |                    0/0 |     0.000 |                     |
| |                 +---------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +ValueHashJoin     | p.age = q.age|             10 |    0 |       0 |            344 |                        |           | In Pipeline 2       |
| |\                +---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +NodeByLabelScan| q:Person      |             15 |    0 |       0 |            120 |                    0/0 |     0,000 | In Pipeline 1       |
| |                 +---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan  | p:Person      |             15 |   15 |      16 |            120 |                    1/0 |     0,211 | In Pipeline 0       |
+-------------------+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 71, total allocated memory: 664</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-left-right-outer-hash-join"><a class="anchor" href="#query-plan-node-left-right-outer-hash-join"></a>Node Left/Right Outer Hash Join</h3>
<div class="paragraph">
<p>The <code>NodeLeftOuterHashJoin</code> and <code>NodeRightOuterHashJoin</code> operators are variations of the <a href="#execution-plans-operators-hash-join-general">hash join</a>.
The query below can be planned with either a left or a right outer join.
The decision depends on the cardinalities of the left-hand and right-hand sides; i.e. how many rows would be returned, respectively, for <code>(a:Person)</code> and <code>(a)-&#8594;(b:Person)</code>.
If <code>(a:Person)</code> returns fewer results than <code>(a)-&#8594;(b:Person)</code>, a left outer join&#8201;&#8212;&#8201;indicated by <code>NodeLeftOuterHashJoin</code>&#8201;&#8212;&#8201;is planned.
On the other hand, if <code>(a:Person)</code> returns more results than <code>(a)-&#8594;(b:Person)</code>, a right outer join&#8201;&#8212;&#8201;indicated by <code>NodeRightOuterHashJoin</code>&#8201;&#8212;&#8201;is planned instead.</p>
</div>
<div class="exampleblock">
<div class="title">Example 61. NodeRightOuterHashJoin</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (a:Person)
OPTIONAL MATCH (a)--&gt;(b:Person)
USING JOIN ON a
RETURN a.name, b.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------------+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                | Details                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------------+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults         | `a.name`, `b.name`                                   |             14 |   16 |       0 |                |                    0/0 |     0.102 |                     |
| |                       +------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Projection             | cache[a.name] AS `a.name`, cache[b.name] AS `b.name` |             14 |   16 |       8 |                |                    0/0 |     0.055 |                     |
| |                       +------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +NodeRightOuterHashJoin | a                                                    |             14 |   16 |       0 |           4232 |                        |     0.269 | In Pipeline 2       |
| |\                      +------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +NodeByLabelScan      | a:Person                                             |             15 |   15 |      16 |            120 |                    1/0 |     0,049 | In Pipeline 1       |
| |                       +------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +CacheProperties        | cache[b.name], cache[a.name]                         |             13 |   13 |      39 |                |                        |           |                     |
| |                       +------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)            | (b)&lt;-[anon_0]-(a)                                    |             13 |   13 |      55 |                |                        |           |                     |
| |                       +------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan        | b:Person                                             |             15 |   15 |      16 |            120 |                    5/0 |     1,150 | Fused in Pipeline 0 |
+-------------------------+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 211, total allocated memory: 4312</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="traversal-operators"><a class="anchor" href="#traversal-operators"></a>Traversal operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Traversal operators enable complex graph traversals by defining how nodes and relationships are connected in a given pattern.
They allow Cypher to express and match various pattern types, such as <a href="../../../patterns/fixed-length-patterns/" class="xref page">fixed-length patterns</a>, <a href="../../../patterns/variable-length-patterns/" class="xref page">variable-length patterns</a>, <a href="../../../patterns/shortest-paths/" class="xref page">shortest paths</a>, and <a href="../../../patterns/non-linear-patterns/" class="xref page">non-linear patterns</a>.</p>
</div>
<div class="sect2">
<h3 id="query-plan-anti"><a class="anchor" href="#query-plan-anti"></a>Anti</h3>
<div class="paragraph">
<p>The <code>Anti</code> operator tests for the absence of a pattern.
If there are incoming rows, the <code>Anti</code> operator will yield no rows.
If there are no incoming rows, the <code>Anti</code> operator will yield a single row.</p>
</div>
<div class="exampleblock">
<div class="title">Example 62. Anti</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=pipelined
MATCH
  (me:Person {name: 'me'}),
  (other:Person)
WHERE NOT (me)-[:FRIENDS_WITH]-&gt;(other)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator          | Details                                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults   | `other.name`                                           |              4 |   12 |       0 |                |                    0/0 |     0.068 |                     |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Projection       | other.name AS `other.name`                             |              4 |   12 |      24 |                |                    2/0 |     0.111 | In Pipeline 4       |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Apply            |                                                        |              4 |   12 |       0 |                |                    0/0 |           |                     |
| |\                +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Anti           |                                                        |              4 |   12 |       0 |           1256 |                    0/0 |     0.084 | In Pipeline 4       |
| | |               +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Limit          | 1                                                      |             11 |    2 |       0 |            752 |                        |           |                     |
| | |               +--------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(Into)   | (me)-[anon_2:FRIENDS_WITH]-&gt;(other)                    |              1 |    2 |      81 |           2632 |                        |           |                     |
| | |               +--------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument       | me, other                                              |             14 |   14 |       0 |           3192 |                    1/0 |     0.904 | Fused in Pipeline 3 |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +CartesianProduct |                                                        |             14 |   14 |       0 |           3672 |                        |     1.466 | In Pipeline 2       |
| |\                +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +NodeByLabelScan| other:Person                                           |             14 |   14 |      35 |                |                        |           |                     |
| |                 +--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeIndexSeek    | RANGE INDEX me:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    0/1 |     0.493 | In Pipeline 0       |
+-------------------+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 178, total allocated memory: 6744</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-optional"><a class="anchor" href="#query-plan-optional"></a>Optional</h3>
<div class="paragraph">
<p>The <code>Optional</code> operator is used to solve some <a href="../../../clauses/optional-match/" class="xref page">OPTIONAL MATCH</a> queries.
It will pull data from its source, simply passing it through if any data exists.
However, if no data is returned by its source, <code>Optional</code> will yield a single row with all columns set to <code>null</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 63. Optional</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person {name: 'me'})
OPTIONAL MATCH (q:Person {name: 'Lulu'})
RETURN p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator         | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults  | p, q                                                  |              1 |    1 |       0 |                |                    2/0 |     0.079 | In Pipeline 2 |
| |                +-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +Apply           |                                                       |              1 |    1 |       0 |                |                    0/0 |     0.096 |               |
| |\               +-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| | +Optional      | p                                                     |              1 |    1 |       0 |            768 |                    0/0 |     0.043 | In Pipeline 2 |
| | |              +-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| | +NodeIndexSeek | RANGE INDEX q:Person(name) WHERE name = $autostring_1 |              1 |    0 |       1 |           2152 |                    1/0 |     0.098 | In Pipeline 1 |
| |                +-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +NodeIndexSeek   | RANGE INDEX p:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    0/1 |     0.364 | In Pipeline 0 |
+------------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 3, total allocated memory: 3000</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-expand-all"><a class="anchor" href="#query-plan-expand-all"></a>Expand All</h3>
<div class="paragraph">
<p>Given a start node, and depending on the pattern relationship, the <code>Expand(All)</code> operator will traverse incoming or outgoing relationships.</p>
</div>
<div class="exampleblock">
<div class="title">Example 64. Expand(All)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person {name: 'me'})-[:FRIENDS_WITH]-&gt;(fof)
RETURN fof</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | fof                                                   |              1 |    2 |       0 |                |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)    | (p)-[anon_0:FRIENDS_WITH]-&gt;(fof)                      |              1 |    2 |       5 |                |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek  | RANGE INDEX p:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    4/1 |     1.137 | Fused in Pipeline 0 |
+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 7, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-expand-into"><a class="anchor" href="#query-plan-expand-into"></a>Expand Into</h3>
<div class="paragraph">
<p>When both the start and end node have already been found, the <code>Expand(Into)</code> operator is used to find all relationships connecting the two nodes.
As both the start and end node of the relationship are already in scope, the node with the smallest degree will be used.
This can make a noticeable difference when dense nodes appear as end points.</p>
</div>
<div class="exampleblock">
<div class="title">Example 65. Expand(Into)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person {name: 'me'})-[:FRIENDS_WITH]-&gt;(fof)--&gt;(p)
RETURN fof</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | fof                                                   |              0 |    0 |       0 |                |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter         | not anon_1 = anon_0                                   |              0 |    0 |       0 |                |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(Into)   | (p)-[anon_0:FRIENDS_WITH]-&gt;(fof)                      |              0 |    0 |       6 |            896 |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)    | (p)&lt;-[anon_1]-(fof)                                   |              1 |    1 |       5 |                |                        |           |                     |
| |               +-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek  | RANGE INDEX p:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            120 |                    4/1 |     0.546 | Fused in Pipeline 0 |
+-----------------+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 976</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-optional-expand-all"><a class="anchor" href="#query-plan-optional-expand-all"></a>Optional Expand All</h3>
<div class="paragraph">
<p>The <code>OptionalExpand(All)</code> operator is analogous to <a href="#query-plan-expand-all">Expand(All)</a>, apart from when no relationships match the direction, type and property predicates.
In this situation, <code>OptionalExpand(all)</code> will return a single row with the relationship and end node set to <code>null</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 66. OptionalExpand(All)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
OPTIONAL MATCH (p)-[works_in:WORKS_IN]-&gt;(l)
  WHERE works_in.duration &gt; 180
RETURN p, l</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator             | Details                                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults      | p, l                                                              |             14 |   15 |       1 |                |                        |           |                     |
| |                    +-------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +OptionalExpand(All) | (p)-[works_in:WORKS_IN]-&gt;(l) WHERE works_in.duration &gt; $autoint_0 |             14 |   15 |      53 |                |                        |           |                     |
| |                    +-------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan     | p:Person                                                          |             14 |   14 |      15 |            120 |                    5/0 |     1,233 | Fused in Pipeline 0 |
+----------------------+-------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 125, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-optional-expand-into"><a class="anchor" href="#query-plan-optional-expand-into"></a>Optional Expand Into</h3>
<div class="paragraph">
<p>The <code>OptionalExpand(Into)</code> operator is analogous to <a href="#query-plan-expand-into">Expand(Into)</a>, apart from when no matching relationships are found.
In this situation, <code>OptionalExpand(Into)</code> will return a single row with the relationship and end node set to <code>null</code>.
As both the start and end node of the relationship are already in scope, the node with the smallest degree will be used.
This can make a noticeable difference when dense nodes appear as end points.</p>
</div>
<div class="exampleblock">
<div class="title">Example 67. OptionalExpand(Into)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[works_in:WORKS_IN]-&gt;(l)
OPTIONAL MATCH (l)--&gt;(p)
RETURN p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator              | Details                      | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------+------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults       | p                            |             15 |   15 |       0 |                |                        |           |                     |
| |                     +------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +OptionalExpand(Into) | (l)-[anon_0]-&gt;(p)            |             15 |   15 |     105 |           3360 |                        |           |                     |
| |                     +------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)          | (p)-[works_in:WORKS_IN]-&gt;(l) |             15 |   15 |      39 |                |                        |           |                     |
| |                     +------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan      | p:Person                     |             14 |   14 |      15 |            120 |                    7/0 |     3,925 | Fused in Pipeline 0 |
+-----------------------+--- --------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 215, total allocated memory: 3440</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-varlength-expand-all"><a class="anchor" href="#query-plan-varlength-expand-all"></a>VarLength Expand All</h3>
<div class="paragraph">
<p>Given a start node, the <code>VarLengthExpand(All)</code> operator will traverse variable-length and quantified relationships.</p>
</div>
<div class="exampleblock">
<div class="title">Example 68. VarLengthExpand(All)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[:FRIENDS_WITH *1..2]-(q:Person)
RETURN p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator              | Details                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults       | p, q                              |             40 |   48 |       0 |                |                        |           |                     |
| |                     +-----------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter               | q:Person                          |             40 |   48 |      96 |                |                        |           |                     |
| |                     +-----------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +VarLengthExpand(All) | (p)-[anon_0:FRIENDS_WITH*..2]-(q) |             40 |   48 |     151 |            128 |                        |           |                     |
| |                     +-----------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan      | p:Person                          |             14 |   14 |      15 |            120 |                    6/0 |    10,457 | Fused in Pipeline 0 |
+-----------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 318, total allocated memory: 208</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-varlength-expand-into"><a class="anchor" href="#query-plan-varlength-expand-into"></a>VarLength Expand Into</h3>
<div class="paragraph">
<p>When both the start and end node have already been found, the <code>VarLengthExpand(Into)</code> operator is used to find all variable-length and quantified relationships connecting the two nodes.</p>
</div>
<div class="exampleblock">
<div class="title">Example 69. VarLengthExpand(Into)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[:FRIENDS_WITH *1..2]-(p:Person)
RETURN p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator               | Details                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults        | p                                 |              3 |    4 |       0 |                |                        |           |                     |
| |                      +-----------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +VarLengthExpand(Into) | (p)-[anon_0:FRIENDS_WITH*..2]-(p) |              3 |    4 |     151 |            128 |                        |           |                     |
| |                      +-----------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan       | p:Person                          |             14 |   14 |      15 |            120 |                    6/0 |     0,797 | Fused in Pipeline 0 |
+------------------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+


Total database accesses: 222, total allocated memory: 192</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-varlength-expand-pruning"><a class="anchor" href="#query-plan-varlength-expand-pruning"></a>VarLength Expand Pruning</h3>
<div class="paragraph">
<p>Given a start node, the <code>VarLengthExpand(Pruning)</code> operator will traverse variable-length and quantified relationships much like the <a href="#query-plan-varlength-expand-all"><code>VarLengthExpand(All)</code></a> operator.
However, as an optimization, some paths will not be explored if they are guaranteed to produce an end node that has already been found (by means of a previous path traversal).</p>
</div>
<div class="paragraph">
<p>This kind of expand is only planned when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The individual paths are not of interest.</p>
</li>
<li>
<p>The relationships have an upper bound.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>VarLengthExpand(Pruning)</code> operator guarantees that all the end nodes produced will be unique.</p>
</div>
<div class="exampleblock">
<div class="title">Example 70. VarLengthExpand(Pruning)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[:FRIENDS_WITH *3..4]-(q:Person)
RETURN DISTINCT p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------+
| Operator                  | Id | Details                      | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline      |
+---------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------+
| +ProduceResults           |  0 | p, q                         |              0 |    0 |       0 |                |                    0/0 |     0.005 |            |               |
| |                         +----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+            |               |
| +OrderedDistinct          |  1 | p, q                         |              0 |    0 |       0 |             40 |                    0/0 |     0.014 |            |               |
| |                         +----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+            |               |
| +Filter                   |  2 | q:Person                     |              0 |    0 |       0 |                |                    0/0 |     0.014 |            |               |
| |                         +----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+            |               |
| +VarLengthExpand(Pruning) |  3 | (p)-[:FRIENDS_WITH*3..4]-(q) |              1 |    0 |      15 |            400 |                        |           |            | In Pipeline 1 |
| |                         +----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+            +---------------+
| +NodeByLabelScan          |  4 | p:Person                     |             14 |   14 |      15 |            120 |                    1/0 |     0.020 | p ASC      | In Pipeline 0 |
+---------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------+

Total database accesses: 30, total allocated memory: 480</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-breadth-first-varlength-expand-pruning-bfs-all"><a class="anchor" href="#query-plan-breadth-first-varlength-expand-pruning-bfs-all"></a>Breadth First VarLength Expand Pruning</h3>
<div class="paragraph">
<p>Given a start node, the <code>VarLengthExpand(Pruning,BFS,All)</code> operator traverses variable-length and quantified relationships much like the <a href="#query-plan-varlength-expand-all"><code>VarLengthExpand(All)</code></a> operator.
However, as an optimization, it instead performs a breadth-first search (BFS) and while expanding, some paths are not explored if they are guaranteed to produce an end node that has already been found (by means of a previous path traversal).
This is only used in cases where the individual paths are not of interest.</p>
</div>
<div class="paragraph">
<p>This kind of expand is only planned when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The individual paths are not of interest.</p>
</li>
<li>
<p>The lower bound is either <code>0</code> or <code>1</code> (default).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This operator guarantees that all the end nodes produced are unique.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[:FRIENDS_WITH *..4]-(q:Person)
RETURN DISTINCT p, q</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| Operator                          | Id | Details                      | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline            |
+-----------------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProduceResults                   |  0 | p, q                         |             12 |    0 |       0 |              0 |                        |           |            |                     |
| |                                 +----+------------------------------+----------------+------+---------+----------------+                        |           |            |                     |
| +OrderedDistinct                  |  1 | p, q                         |             12 |    0 |       0 |             40 |                        |           |            |                     |
| |                                 +----+------------------------------+----------------+------+---------+----------------+                        |           |            |                     |
| +Filter                           |  2 | q:Person                     |             13 |    0 |       0 |                |                        |           |            |                     |
| |                                 +----+------------------------------+----------------+------+---------+----------------+                        |           |            |                     |
| +VarLengthExpand(Pruning,BFS,All) |  3 | (p)-[:FRIENDS_WITH*..4]-(q)  |             13 |    0 |      38 |            952 |                        |           |            |                     |
| |                                 +----+------------------------------+----------------+------+---------+----------------+                        |           |            |                     |
| +NodeByLabelScan                  |  4 | p:Person                     |             10 |   10 |      11 |            248 |                    3/0 |     4.662 | p ASC      | Fused in Pipeline 0 |
+-----------------------------------+----+------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+

Total database accesses: 49, total allocated memory: 1200</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-repeat"><a class="anchor" href="#query-plan-repeat"></a>Repeat (Trail)</h3>
<div class="paragraph">
<p>Given a start node, the <code>Repeat(Trail)</code> operator will traverse <a href="../../../patterns/variable-length-patterns/#quantified-path-patterns" class="xref page">quantified path patterns</a> that cannot be solved (or solved efficiently) with the <a href="#query-plan-varlength-expand-all"><code>VarLengthExpand(All)</code></a> operator.
Similar to an <a href="#query-plan-apply"><code>Apply</code></a> operator, it takes a single row from the left-hand side and applies the operators on the right-hand side.
In contrast to <code>Apply</code>, however, it repeatedly applies these operators in accordance with the quantifiers on the quantified path pattern.
In the following example, the operator will repeat twice and produce rows for both repetitions.</p>
</div>
<div class="exampleblock">
<div class="title">Example 71. Repeat(Trail)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (me:Person) ((a)-[:FRIENDS_WITH]-(b)-[:FRIENDS_WITH]-(c) WHERE a.name &lt;&gt; b.name AND a.name &lt;&gt; c.name AND b.name &lt;&gt; c.name){1,2} (friend:Person)
RETURN me, friend</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                                                                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | me, friend                                                                                           |              2 |   34 |     136 |              0 |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter          |  1 | friend:Person                                                                                        |              2 |   34 |      68 |                |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NullifyMetadata |  9 |                                                                                                      |              2 |   34 |       0 |                |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Repeat(Trail)   |  2 | (me) (...){1, 2} (friend)                                                                            |              2 |   34 |       0 |          30112 |                    0/0 |     4.943 | Fused in Pipeline 2 |
| |\               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Filter        |  3 | NOT anon_5 = anon_3 AND (NOT cache[a.name] = cache[c.name] AND NOT cache[b.name] = cache[c.name]) AN |              1 |   34 |      92 |                |                        |           |                     |
| | |              |    | D isRepeatTrailUnique(anon_5)                                                                        |                |      |         |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)   |  4 | (b)-[anon_5:FRIENDS_WITH]-(c)                                                                        |              3 |   92 |     138 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Filter        |  5 | NOT cache[a.name] = cache[b.name] AND isRepeatTrailUnique(anon_3)                                    |              5 |   46 |     198 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)   |  6 | (a)-[anon_3:FRIENDS_WITH]-(b)                                                                        |             10 |   66 |     100 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument      |  7 | a                                                                                                    |             15 |   34 |       0 |          15992 |                    2/0 |     5.253 | Fused in Pipeline 1 |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan |  8 | me:Person                                                                                            |             14 |   14 |      15 |            376 |                    1/0 |     1.130 | In Pipeline 0       |
+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 747, total allocated memory: 45832</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-nullify-metadata"><a class="anchor" href="#query-plan-nullify-metadata"></a>Nullify Metadata</h3>
<div class="paragraph">
<p><code>NullifyMetadata</code> is responsible for cleaning up the state produced by <a href="#query-plan-repeat"><code>Repeat(Trail)</code></a>.
It is only planned directly after <code>Repeat(Trail)</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 72. NullifyMetadata</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (me:Person) ((a)-[:FRIENDS_WITH]-(b)-[:FRIENDS_WITH]-(c) WHERE a.name &lt;&gt; b.name AND a.name &lt;&gt; c.name AND b.name &lt;&gt; c.name){1,2} (friend:Person)
RETURN me, friend</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                                                                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | me, friend                                                                                           |              2 |   34 |     136 |              0 |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter          |  1 | friend:Person                                                                                        |              2 |   34 |      68 |                |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NullifyMetadata |  9 |                                                                                                      |              2 |   34 |       0 |                |                        |           |                     |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Repeat(Trail)   |  2 | (me) (...){1, 2} (friend)                                                                            |              2 |   34 |       0 |          30112 |                    0/0 |     4.824 | Fused in Pipeline 2 |
| |\               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Filter        |  3 | NOT anon_5 = anon_3 AND (NOT cache[a.name] = cache[c.name] AND NOT cache[b.name] = cache[c.name]) AN |              1 |   34 |      92 |                |                        |           |                     |
| | |              |    | D isRepeatTrailUnique(anon_5)                                                                        |                |      |         |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)   |  4 | (b)-[anon_5:FRIENDS_WITH]-(c)                                                                        |              3 |   92 |     138 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Filter        |  5 | NOT cache[a.name] = cache[b.name] AND isRepeatTrailUnique(anon_3)                                    |              5 |   46 |     198 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(All)   |  6 | (a)-[anon_3:FRIENDS_WITH]-(b)                                                                        |             10 |   66 |     100 |                |                        |           |                     |
| | |              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument      |  7 | a                                                                                                    |             15 |   34 |       0 |          15992 |                    2/0 |     5.307 | Fused in Pipeline 1 |
| |                +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeByLabelScan |  8 | me:Person                                                                                            |             14 |   14 |      15 |            376 |                    1/0 |     0.183 | In Pipeline 0       |
+------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 747, total allocated memory: 45832</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-shortest-path"><a class="anchor" href="#query-plan-shortest-path"></a>Shortest path</h3>
<div class="paragraph">
<p>The <code>ShortestPath</code> operator finds one or all shortest paths between two previously matched node variables.
This operator is used for the <a href="../../../patterns/reference/#shortest-functions" class="xref page"><code>shortestPath()</code> and <code>allShortestPaths</code></a> functions.</p>
</div>
<div class="exampleblock">
<div class="title">Example 73. ShortestPath</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH
  (andy:Person {name: 'Andy'}),
  (mattias:Person {name: 'Mattias'}),
  p = shortestPath((andy)-[*]-(mattias))
RETURN p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------+-------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator            | Details                                                     | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+---------------------+-------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults     | p                                                           |              1 |    1 |       0 |                |                    1/0 |     0.241 |               |
| |                   +-------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +ShortestPath       | p = (andy)-[anon_0*]-(mattias)                              |              1 |    1 |       1 |           1424 |                        |           | In Pipeline 1 |
| |                   +-------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +MultiNodeIndexSeek | RANGE INDEX andy:Person(name) WHERE name = $autostring_0,   |              1 |    1 |       4 |            120 |                    1/1 |     0.308 | In Pipeline 0 |
|                     | RANGE INDEX mattias:Person(name) WHERE name = $autostring_1 |                |      |         |                |                        |           |               |
+---------------------+-------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 5, total allocated memory: 1488</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-stateful-shortest-path-into"><a class="anchor" href="#query-plan-stateful-shortest-path-into"></a>StatefulShortestPath(Into)</h3>
<div class="paragraph">
<p>The <code>StatefulShortestPath(Into)</code> operator finds shortest paths between a start node and a single target node.
It uses a bidirectional breadth-first search (BFS) algorithm, which performs two BFS invocations at the same time, one from the left boundary node and one from the right boundary node.
Once a node is found by both BFS invocations, which indicates that it can be reached from both boundary nodes, the algorithm successfully terminates.
If one of the BFS invocations exhausts its search before intersecting, either because no further nodes can be reached or because the maximum number of hops has been reached, then there is no valid path between the boundary nodes and the algorithm terminates.</p>
</div>
<div class="exampleblock">
<div class="title">Example 74. StatefulShortestPath(Into)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH
  p = ALL SHORTEST (chris:Person {name: 'Chris'})(()-[]-()-[]-()){1,}(stefan:Person {name: 'Stefan'})
RETURN p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------------+----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator                    | Id | Details                                                                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-----------------------------+----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults             |  0 | p                                                                                                |              2 |    2 |       0 |              0 |                    0/0 |     0.039 |               |
| |                           +----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +Projection                 |  1 | (chris) ((anon_12)-[anon_14]-(anon_13)-[anon_11]-())* (stefan) AS p                              |              2 |    2 |       0 |                |                    0/0 |     1.365 |               |
| |                           +----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +StatefulShortestPath(Into) |  2 | SHORTEST 1 GROUPS (chris) ((`anon_5`)-[`anon_6`]-(`anon_7`)-[`anon_8`]-(`anon_9`)){1, } (stefan) |              2 |    2 |      39 |          22237 |                    1/0 |    37.376 | In Pipeline 1 |
| |                           +----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +MultiNodeIndexSeek         |  3 | UNIQUE chris:Person(name) WHERE name = $autostring_0,                                            |              1 |    1 |       4 |            376 |                    1/1 |    10.245 | In Pipeline 0 |
|                             |    | UNIQUE stefan:Person(name) WHERE name = $autostring_1                                            |                |      |         |                |                        |           |               |
+-----------------------------+----+--------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 43, total allocated memory: 22557</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-stateful-shortest-path-all"><a class="anchor" href="#query-plan-stateful-shortest-path-all"></a>StatefulShortestPath(All)</h3>
<div class="paragraph">
<p>The <code>StatefulShortestPath(All)</code> operator finds shortest paths from a single node to multiple target nodes.
It uses a breadth-first search algorithm.</p>
</div>
<div class="exampleblock">
<div class="title">Example 75. StatefulShortestPath(All)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH
  p = ALL SHORTEST (chris:Person {name:'Chris'})(()-[]-()-[]-()){1,}(location:Location)
RETURN length(p) AS pathLength, location.name AS locationName</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------+----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator                   | Id | Details                                                                                            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+----------------------------+----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults            |  0 | pathLength, locationName                                                                           |             14 |   20 |       0 |              0 |                    0/0 |     0.074 |               |
| |                          +----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +Projection                |  1 | length((chris) ((anon_12)-[anon_14]-(anon_13)-[anon_11]-())* (location)) AS pathLength,            |             14 |   20 |      40 |                |                    1/0 |     6.828 |               |
| |                          |    | location.name AS locationName                                                                      |                |      |         |                |                        |           |               |
| |                          +----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+               |
| +StatefulShortestPath(All) |  2 | SHORTEST 1 GROUPS (chris) ((`anon_5`)-[`anon_6`]-(`anon_7`)-[`anon_8`]-(`anon_9`)){1, } (location) |             14 |   20 |     179 |          37663 |                    1/0 |    52.849 | In Pipeline 1 |
| |                          |    |         expanding from: chris                                                                      |                |      |         |                |                        |           |               |
| |                          |    |     inlined predicates: location:Location                                                          |                |      |         |                |                        |           |               |
| |                          +----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +NodeUniqueIndexSeek       |  3 | UNIQUE chris:Person(name) WHERE name = $autostring_0                                               |              1 |    1 |       2 |            376 |                    0/1 |     9.078 | In Pipeline 0 |
+----------------------------+----+----------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 221, total allocated memory: 37983</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-triadic-selection"><a class="anchor" href="#query-plan-triadic-selection"></a>Triadic Selection</h3>
<div class="paragraph">
<p>The <code>TriadicSelection</code> operator is used to solve triangular queries, such as the very common 'find my friends-of-friends that are not already my friend'.
It does so by putting all the friends into a set, and uses the set to check if the friends-of-friends are already connected to me.
The example finds the names of all friends of my friends that are not already my friends.</p>
</div>
<div class="exampleblock">
<div class="title">Example 76. TriadicSelection</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MATCH (me:Person)-[:FRIENDS_WITH]-()-[:FRIENDS_WITH]-(other)
WHERE NOT (me)-[:FRIENDS_WITH]-(other)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| Operator          | Id | Details                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses |
+-------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +ProduceResults   |  0 | `other.name`                           |             15 |   24 |       0 |              0 |                    0/0 |
| |                 +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +Projection       |  1 | other.name AS `other.name`             |             15 |   24 |      24 |                |                    0/0 |
| |                 +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +Filter           |  2 | NOT anon_2 = anon_0                    |             15 |   24 |       0 |                |                    0/0 |
| |                 +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +TriadicSelection |  3 | WHERE NOT (me)--(other)                |             15 |   48 |       0 |                |                    0/0 |
| |\                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| | +Expand(All)    |  4 | (anon_1)-[anon_2:FRIENDS_WITH]-(other) |             16 |   48 |      72 |                |                    0/0 |
| | |               +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| | +Argument       |  5 | anon_1, anon_0                         |             24 |   24 |       0 |                |                    0/0 |
| |                 +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +Expand(All)      |  6 | (me)-[anon_0:FRIENDS_WITH]-(anon_1)    |             24 |   24 |      38 |                |                    2/0 |
| |                 +----+----------------------------------------+----------------+------+---------+----------------+------------------------+
| +NodeByLabelScan  |  7 | me:Person                              |             14 |   14 |      15 |                |                    1/0 |
+-------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+

Total database accesses: 246, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-triadic-build"><a class="anchor" href="#query-plan-triadic-build"></a>Triadic Build</h3>
<div class="paragraph">
<p>The <code>TriadicBuild</code> operator is used in conjunction with <a href="#query-plan-triadic-filter"><code>TriadicFilter</code></a> to solve triangular queries, such as the very common 'find my friend-of-friends that are not already my friend'.
These two operators are specific to Pipelined runtime and together perform the same logic as <a href="#query-plan-triadic-selection"><code>TriadicSelection</code></a> does for other runtimes.
<code>TriadicBuild</code> builds a set of all friends, which is later used by <code>TriadicFilter</code>.
The example finds the names of all friends of my friends that are not already my friends.</p>
</div>
<div class="exampleblock">
<div class="title">Example 77. TriadicBuild</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=pipelined
MATCH (me:Person)-[:FRIENDS_WITH]-()-[:FRIENDS_WITH]-(other)
WHERE NOT (me)-[:FRIENDS_WITH]-(other)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | `other.name`                           |             15 |   24 |       0 |              0 |                    0/0 |     0.172 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Projection      |  1 | other.name AS `other.name`             |             15 |   24 |      48 |                |                    0/0 |     0.162 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Filter          |  2 | NOT anon_2 = anon_0                    |             15 |   24 |       0 |                |                    0/0 |     0.134 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +TriadicFilter   | 10 | WHERE NOT (me)--(other)                |             15 |   48 |       0 |           7216 |                    0/0 |     0.251 | In Pipeline 3       |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Apply           |  9 |                                        |             16 |   48 |       0 |                |                    0/0 |           |                     |
| |\               +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Expand(All)   |  4 | (anon_1)-[anon_2:FRIENDS_WITH]-(other) |             16 |   48 |      72 |                |                        |           |                     |
| | |              +----+----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument      |  5 | anon_1, anon_0                         |             24 |   24 |       0 |           4464 |                    0/0 |     0.384 | Fused in Pipeline 2 |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +TriadicBuild    |  8 | (me)--(anon_1)                         |             24 |   24 |       0 |           1080 |                    0/0 |     1.670 | In Pipeline 1       |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Expand(All)     |  6 | (me)-[anon_0:FRIENDS_WITH]-(anon_1)    |             24 |   24 |      38 |                |                        |           |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan |  7 | me:Person                              |             14 |   14 |      15 |            376 |                    3/0 |     0.361 | Fused in Pipeline 0 |
+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 256, total allocated memory: 7376</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-triadic-filter"><a class="anchor" href="#query-plan-triadic-filter"></a>Triadic Filter</h3>
<div class="paragraph">
<p>The <code>TriadicFilter</code> operator is used in conjunction with <a href="#query-plan-triadic-build"><code>TriadicBuild</code></a> to solve triangular queries, such as the very common 'find my friend-of-friends that are not already my friend'.
These two operators are specific to Pipelined runtime and together perform the same logic as <a href="#query-plan-triadic-selection"><code>TriadicSelection</code></a> does for other runtimes.
<code>TriadicFilter</code> uses a set of friends previously built by <code>TriadicBuild</code> to check if the friend-of-friends are already connected to me.
The example finds the names of all friends of my friends that are not already my friends.</p>
</div>
<div class="exampleblock">
<div class="title">Example 78. TriadicFilter</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=pipelined
MATCH (me:Person)-[:FRIENDS_WITH]-()-[:FRIENDS_WITH]-(other)
WHERE NOT (me)-[:FRIENDS_WITH]-(other)
RETURN other.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | `other.name`                           |             15 |   24 |       0 |              0 |                    0/0 |     0.413 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Projection      |  1 | other.name AS `other.name`             |             15 |   24 |      48 |                |                    0/0 |     0.302 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +Filter          |  2 | NOT anon_2 = anon_0                    |             15 |   24 |       0 |                |                    0/0 |     0.268 |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                     |
| +TriadicFilter   | 10 | WHERE NOT (me)--(other)                |             15 |   48 |       0 |           7216 |                    0/0 |     0.298 | In Pipeline 3       |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Apply           |  9 |                                        |             16 |   48 |       0 |                |                    0/0 |           |                     |
| |\               +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Expand(All)   |  4 | (anon_1)-[anon_2:FRIENDS_WITH]-(other) |             16 |   48 |      72 |                |                        |           |                     |
| | |              +----+----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument      |  5 | anon_1, anon_0                         |             24 |   24 |       0 |           4464 |                    0/0 |     0.563 | Fused in Pipeline 2 |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +TriadicBuild    |  8 | (me)--(anon_1)                         |             24 |   24 |       0 |           1080 |                    0/0 |     0.403 | In Pipeline 1       |
| |                +----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Expand(All)     |  6 | (me)-[anon_0:FRIENDS_WITH]-(anon_1)    |             24 |   24 |      38 |                |                        |           |                     |
| |                +----+----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan |  7 | me:Person                              |             14 |   14 |      15 |            376 |                    3/0 |     0.530 | Fused in Pipeline 0 |
+------------------+----+----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 256, total allocated memory: 7376</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="union-operators"><a class="anchor" href="#union-operators"></a>Union operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Union operators in Cypher combine the results from multiple query parts by merging their rows.
For more information, see the page about the <a href="../../../queries/composed-queries/combined-queries/" class="xref page"><code>UNION</code></a> clause.</p>
</div>
<div class="sect2">
<h3 id="query-plan-union"><a class="anchor" href="#query-plan-union"></a>Union</h3>
<div class="paragraph">
<p>The <code>Union</code> operator concatenates the results from the right child operator with the results from the left child operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 79. Union</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Location)
  RETURN p.name
UNION ALL
MATCH (p:Country)
  RETURN p.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------+----+--------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator           | Id | Details            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------+----+--------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults    |  0 | `p.name`           |             20 |    0 |       0 |                |                        |           |                     |
| |                  +----+--------------------+----------------+------+---------+----------------+                        |           |                     |
| +Union             |  1 |                    |             20 |    0 |       0 |              0 |                    0/0 |     0.000 | Fused in Pipeline 2 |
| |\                 +----+--------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| | +Projection      |  2 | `p.name`           |             10 |    0 |       0 |                |                        |           |                     |
| | |                +----+--------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Projection      |  3 | p.name AS `p.name` |             10 |    0 |       0 |                |                        |           |                     |
| | |                +----+--------------------+----------------+------+---------+----------------+                        |           |                     |
| | +NodeByLabelScan |  4 | p:Country          |             10 |    0 |       0 |            120 |                    0/0 |     0.049 | Fused in Pipeline 1 |
| |                  +----+--------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Projection        |  5 | `p.name`           |             10 |    0 |       0 |                |                        |           |                     |
| |                  +----+--------------------+----------------+------+---------+----------------+                        |           |                     |
| +Projection        |  6 | p.name AS `p.name` |             10 |    0 |       0 |                |                        |           |                     |
| |                  +----+--------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan   |  7 | p:Location         |             10 |    0 |       0 |            120 |                    0/0 |     0.077 | Fused in Pipeline 0 |
+--------------------+----+--------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 0, total allocated memory: 320</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aggregation-operators"><a class="anchor" href="#aggregation-operators"></a>Aggregation operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Aggregation operators are used to compute summary statistics over groups of graph data, enabling operations such as counting nodes, relationships or properties.</p>
</div>
<div class="sect2">
<h3 id="query-plan-eager-aggregation"><a class="anchor" href="#query-plan-eager-aggregation"></a>Eager Aggregation</h3>
<div class="paragraph">
<p>The <code>EagerAggregation</code> operator evaluates a grouping expression and uses the result to group rows into different groupings.
For each of these groupings, <code>EagerAggregation</code> will then evaluate all aggregation functions and return the result.
To do this, <code>EagerAggregation</code>, as the name implies, needs to pull in all data eagerly from its source and build up state, which leads to increased memory pressure in the system.</p>
</div>
<div class="exampleblock">
<div class="title">Example 80. EagerAggregation</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)&lt;-[:WORKS_IN]-(p:Person)
RETURN
  l.name AS location,
  collect(p.name) AS people</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-------------------+----+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator          | Id | Details                                              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-------------------+----+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults   |  0 | location, people                                     |              4 |    6 |       0 |                |                    0/0 |     0.022 | In Pipeline 1       |
| |                 +----+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +EagerAggregation |  1 | cache[l.name] AS location, collect(p.name) AS people |              4 |    6 |      30 |           2584 |                        |           |                     |
| |                 +----+------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter           |  2 | p:Person                                             |             15 |   15 |      30 |                |                        |           |                     |
| |                 +----+------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)      |  3 | (l)&lt;-[anon_0:WORKS_IN]-(p)                           |             15 |   15 |      26 |                |                        |           |                     |
| |                 +----+------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +CacheProperties  |  4 | cache[l.name]                                        |             10 |   10 |      20 |                |                        |           |                     |
| |                 +----+------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan  |  5 | l:Location                                           |             10 |   10 |      11 |            120 |                    4/0 |     0.813 | Fused in Pipeline 0 |
+-------------------+----+------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 117, total allocated memory: 2664</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-ordered-aggregation"><a class="anchor" href="#query-plan-ordered-aggregation"></a>Ordered Aggregation</h3>
<div class="paragraph">
<p>The <code>OrderedAggregation</code> operator is an optimization of the <a href="#query-plan-eager-aggregation"><code>EagerAggregation</code></a> operator that takes advantage of the ordering of the incoming rows.
This operator uses lazy evaluation and has a lower memory pressure in the system than the <code>EagerAggregation</code> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 81. OrderedAggregation</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
WHERE p.name STARTS WITH 'P'
RETURN p.name, count(*) AS count</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+
| Operator              | Details                                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by   | Pipeline      |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+
| +ProduceResults       | `p.name`, count                                                                |              0 |    2 |       0 |                |                    0/0 |     0.045 |              |               |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+              |               |
| +OrderedAggregation   | cache[p.name] AS `p.name`, count(*) AS count                                   |              0 |    2 |       0 |            288 |                    0/0 |     0.175 | `p.name` ASC | In Pipeline 1 |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+
| +NodeIndexSeekByRange | RANGE INDEX p:Person(name) WHERE name STARTS WITH $autostring_0, cache[p.name] |              0 |    2 |       3 |            120 |                    0/1 |     0.529 | p.name ASC   | In Pipeline 0 |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+

Total database accesses: 3, total allocated memory: 352</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-node-count-from-count-store"><a class="anchor" href="#query-plan-node-count-from-count-store"></a>Node Count From Count Store</h3>
<div class="paragraph">
<p>The <code>NodeCountFromCountStore</code> operator uses the count store to answer questions about node counts.
This is much faster than the <a href="#query-plan-eager-aggregation"><code>EagerAggregation</code></a> operator which achieves the same result by actually counting.
However, as the count store only stores a limited range of combinations, <code>EagerAggregation</code> will still be used for more complex queries.
For example, we can get counts for all nodes, and nodes with a label, but not nodes with more than one label.</p>
</div>
<div class="exampleblock">
<div class="title">Example 82. NodeCountFromCountStore</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
RETURN count(p) AS people</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+--------------------------+------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                 | Details                      | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------------+------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults          | people                       |              1 |    1 |       0 |                |                        |           |                     |
| |                        +------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeCountFromCountStore | count( (:Person) ) AS people |              1 |    1 |       1 |            120 |                    0/0 |     0.169 | Fused in Pipeline 0 |
+--------------------------+------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-relationship-count-from-count-store"><a class="anchor" href="#query-plan-relationship-count-from-count-store"></a>Relationship Count From Count Store</h3>
<div class="paragraph">
<p>The <code>RelationshipCountFromCountStore</code> operator uses the count store to answer questions about relationship counts.
This is much faster than the <a href="#query-plan-eager-aggregation"><code>EagerAggregation</code></a> operator which achieves the same result by actually counting.
However, as the count store only stores a limited range of combinations, <code>EagerAggregation</code> will still be used for more complex queries.
For example, we can get counts for all relationships, relationships with a type, relationships with a label on one end, but not relationships with labels on both end nodes.</p>
</div>
<div class="exampleblock">
<div class="title">Example 83. RelationshipCountFromCountStore</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)-[r:WORKS_IN]-&gt;()
RETURN count(r) AS jobs</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+----------------------------------+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                         | Details                                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+----------------------------------+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                  | jobs                                       |              1 |    1 |       0 |                |                        |           |                     |
| |                                +--------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +RelationshipCountFromCountStore | count( (:Person)-[:WORKS_IN]-&gt;() ) AS jobs |              1 |    1 |       1 |            120 |                    0/0 |     0.625 | Fused in Pipeline 0 |
+----------------------------------+--------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="filter-order-projection-operators"><a class="anchor" href="#filter-order-projection-operators"></a>Filter, order, and projection operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The operators in this group handle how rows of data are transformed, filtered, and finalized for query results.
They are responsible for crafting the structure of the returned data,</p>
</div>
<div class="sect2">
<h3 id="query-plan-empty-result"><a class="anchor" href="#query-plan-empty-result"></a>Empty Result</h3>
<div class="paragraph">
<p>The <code>EmptyResult</code> operator eagerly loads all incoming data and discards it.</p>
</div>
<div class="exampleblock">
<div class="title">Example 84. EmptyResult</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE (:Person)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-----------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator        | Details         | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+-----------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults |                 |              1 |    0 |       0 |                        |           |                     |
| |               +-----------------+----------------+------+---------+                        |           |                     |
| +EmptyResult    |                 |              1 |    0 |       0 |                        |           |                     |
| |               +-----------------+----------------+------+---------+                        |           |                     |
| +Create         | (anon_0:Person) |              1 |    1 |       1 |                    0/0 |     0.000 | Fused in Pipeline 0 |
+-----------------+-----------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 1, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-produce-results"><a class="anchor" href="#query-plan-produce-results"></a>Produce Results</h3>
<div class="paragraph">
<p>The <code>ProduceResults</code> operator prepares the result so that it is consumable by the user, such as transforming internal values to user values.
It is present in every single query that returns data to the user, and has little bearing on performance optimisation.</p>
</div>
<div class="exampleblock">
<div class="title">Example 85. ProduceResults</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
RETURN n</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | n       |             35 |   35 |       0 |                |                        |           |                     |
| |               +---------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   | n       |             35 |   35 |      36 |            120 |                    3/0 |     0.508 | Fused in Pipeline 0 |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 36, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-filter"><a class="anchor" href="#query-plan-filter"></a>Filter</h3>
<div class="paragraph">
<p>The <code>Filter</code> operator filters each row coming from the child operator, only passing through rows that evaluate the predicates to <code>true</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 86. Filter</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
WHERE p.name =~ '^a.*'
RETURN p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | p                                                                |             14 |    0 |       0 |                |                        |           |                     |
| |               +------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter         | cache[p.name] =~ $autostring_0                                   |             14 |    0 |       0 |                |                        |           |                     |
| |               +------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexScan  | RANGE INDEX p:Person(name) WHERE name IS NOT NULL, cache[p.name] |             14 |   14 |      15 |            120 |                    0/1 |     0.763 | Fused in Pipeline 0 |
+-----------------+------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 15, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-empty-row"><a class="anchor" href="#query-plan-empty-row"></a>Empty Row</h3>
<div class="paragraph">
<p>The <code>EmptyRow</code> operator returns a single row with no columns.</p>
</div>
<div class="exampleblock">
<div class="title">Example 87. EmptyRow</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
FOREACH (value IN [1,2,3] | MERGE (:Person {age: value}))</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+--------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                              | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+--------------------+--------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults    |                                      |              1 |    0 |       0 |                    0/0 |
| |                  +--------------------------------------+----------------+------+---------+------------------------+
| +EmptyResult       |                                      |              1 |    0 |       0 |                    0/0 |
| |                  +--------------------------------------+----------------+------+---------+------------------------+
| +Foreach           | value IN [1, 2, 3]                   |              1 |    1 |       0 |                    0/0 |
| |\                 +--------------------------------------+----------------+------+---------+------------------------+
| | +Merge           | CREATE (anon_0:Person {age: value})  |              1 |    3 |       9 |                    0/0 |
| | |                +--------------------------------------+----------------+------+---------+------------------------+
| | +Filter          | anon_0.age = value                   |              1 |    0 |     184 |                    2/0 |
| | |                +--------------------------------------+----------------+------+---------+------------------------+
| | +NodeByLabelScan | anon_0:Person                        |             35 |  108 |     111 |                    3/0 |
| |                  +--------------------------------------+----------------+------+---------+------------------------+
| +EmptyRow          |                                      |              1 |    1 |       0 |                    0/0 |
+--------------------+--------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 304, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-cache-properties"><a class="anchor" href="#query-plan-cache-properties"></a>Cache Properties</h3>
<div class="paragraph">
<p>The <code>CacheProperties</code> operator reads nodes and relationship properties and caches them in the current row.
Future accesses to these properties can avoid reading from the store which will speed up the query.
In the plan below we will cache <code>l.name</code> before <code>Expand(All)</code> where there are fewer rows.</p>
</div>
<div class="exampleblock">
<div class="title">Example 88. CacheProperties</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)&lt;-[:WORKS_IN]-(p:Person)
RETURN
  l.name AS location,
  p.name AS name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                                   | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | location, name                            |             13 |   13 |       0 |                |                        |           |                     |
| |                +----+-------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Projection      |  1 | cache[l.name] AS location, p.name AS name |             13 |   13 |      26 |                |                        |           |                     |
| |                +----+-------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter          |  2 | p:Person                                  |             13 |   13 |      26 |                |                        |           |                     |
| |                +----+-------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)     |  3 | (l)&lt;-[anon_0:WORKS_IN]-(p)                |             13 |   13 |      24 |                |                        |           |                     |
| |                +----+-------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +CacheProperties |  4 | cache[l.name]                             |             10 |   10 |      20 |                |                        |           |                     |
| |                +----+-------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan |  5 | l:Location                                |             10 |   10 |      11 |            120 |                    4/0 |     0.344 | Fused in Pipeline 0 |
+------------------+----+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 107, total allocated memory: 200</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-projection"><a class="anchor" href="#query-plan-projection"></a>Projection</h3>
<div class="paragraph">
<p>For each incoming row, the <code>Projection</code> operator evaluates a set of expressions and produces a row with the results of the expressions.</p>
</div>
<div class="exampleblock">
<div class="title">Example 89. Projection</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
RETURN 'hello' AS greeting</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+---------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator        | Details                   | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+---------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults | greeting                  |              1 |    1 |       0 |                        |           |                     |
| |               +---------------------------+----------------+------+---------+                        |           |                     |
| +Projection     | $autostring_0 AS greeting |              1 |    1 |       0 |                    0/0 |     0.000 | Fused in Pipeline 0 |
+-----------------+---------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 0, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-project-endpoints"><a class="anchor" href="#query-plan-project-endpoints"></a>Project Endpoints</h3>
<div class="paragraph">
<p>The <code>ProjectEndpoints</code> operator projects the start and end node of a relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 90. ProjectEndpoints</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE (n)-[p:KNOWS]-&gt;(m)
WITH p AS r
MATCH (u)-[r]-&gt;(v)
RETURN u, v</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------+----+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator            | Id | Details                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------+----+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults     |  0 | u, v                                    |              1 |    1 |       2 |              0 |                        |           |                     |
| |                   +----+-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply              |  1 |                                         |              1 |    1 |       0 |                |                        |           |                     |
| |\                  +----+-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +ProjectEndpoints |  2 | (u)-[r]-&gt;(v)                            |              1 |    1 |       0 |                |                        |           |                     |
| | |                 +----+-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument         |  3 | r                                       |              1 |    1 |       0 |           4328 |                    0/0 |     0.194 | Fused in Pipeline 2 |
| |                   +----+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Eager              |  4 | read/create conflict (Operator: 6 vs 2) |              1 |    1 |       0 |            368 |                    0/0 |     0.025 | In Pipeline 1       |
| |                   +----+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Projection         |  5 | p AS r                                  |              1 |    1 |       0 |                |                        |           |                     |
| |                   +----+-----------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Create             |  6 | (n), (m), (n)-[p:KNOWS]-&gt;(m)            |              1 |    1 |       3 |                |                    0/0 |     0.000 | Fused in Pipeline 0 |
+---------------------+----+-----------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 5, total allocated memory: 4920</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-distinct"><a class="anchor" href="#query-plan-distinct"></a>Distinct</h3>
<div class="paragraph">
<p>The <code>Distinct</code> operator removes duplicate rows from the incoming stream of rows.
To ensure only distinct elements are returned, <code>Distinct</code> will pull in data lazily from its source and build up state.
This may lead to increased memory pressure in the system.</p>
</div>
<div class="exampleblock">
<div class="title">Example 91. Distinct</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (l:Location)&lt;-[:WORKS_IN]-(p:Person)
RETURN DISTINCT p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                    | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | p                          |             14 |   14 |      29 |              0 |                        |           |                     |
| |                +----+----------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Distinct        |  1 | p                          |             14 |   14 |       0 |            352 |                        |           |                     |
| |                +----+----------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Filter          |  2 | p:Person                   |             15 |   15 |      30 |                |                        |           |                     |
| |                +----+----------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Expand(All)     |  3 | (l)&lt;-[anon_0:WORKS_IN]-(p) |             15 |   15 |      25 |                |                        |           |                     |
| |                +----+----------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan |  4 | l:Location                 |             10 |   10 |      11 |            248 |                    8/0 |     0.758 | Fused in Pipeline 0 |
+------------------+----+----------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 95, total allocated memory: 432</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-ordered-distinct"><a class="anchor" href="#query-plan-ordered-distinct"></a>Ordered Distinct</h3>
<div class="paragraph">
<p>The <code>OrderedDistinct</code> operator is an optimization of the <a href="#query-plan-distinct"><code>Distinct</code></a> operator that takes advantage of the ordering of the incoming rows.
This operator has a lower memory pressure in the system than the <code>Distinct</code> operator.</p>
</div>
<div class="exampleblock">
<div class="title">Example 92. OrderedDistinct</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
WHERE p.name STARTS WITH 'P'
RETURN DISTINCT p.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+
| Operator              | Details                                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by   | Pipeline      |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+
| +ProduceResults       | `p.name`                                                                       |              0 |    2 |       0 |                |                    0/0 |     0.046 |              |               |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+              |               |
| +OrderedDistinct      | cache[p.name] AS `p.name`                                                      |              0 |    2 |       0 |             32 |                    0/0 |     0.090 | `p.name` ASC |               |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+               |
| +NodeIndexSeekByRange | RANGE INDEX p:Person(name) WHERE name STARTS WITH $autostring_0, cache[p.name] |              0 |    2 |       3 |            120 |                    0/1 |     0.493 | p.name ASC   | In Pipeline 0 |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+--------------+---------------+

Total database accesses: 3, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-procedure-call"><a class="anchor" href="#query-plan-procedure-call"></a>Procedure Call</h3>
<div class="paragraph">
<p>The <code>ProcedureCall</code> operator indicates an invocation to a procedure.</p>
</div>
<div class="exampleblock">
<div class="title">Example 93. ProcedureCall</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CALL db.labels() YIELD label
RETURN *
ORDER BY label</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| Operator        | Details                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline            |
+-----------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProduceResults | label                             |             10 |    4 |       0 |                |                    0/0 |     0.091 |            |                     |
| |               +-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+            |                     |
| +Sort           | label ASC                         |             10 |    4 |       0 |            536 |                    0/0 |     0.178 | label ASC  | In Pipeline 1       |
| |               +-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProcedureCall  | db.labels() :: (label :: STRING)  |             10 |    4 |         |                |                        |           |            | Fused in Pipeline 0 |
+-----------------+-----------------------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+

Total database accesses: ?, total allocated memory: 600</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-unwind"><a class="anchor" href="#query-plan-unwind"></a>Unwind</h3>
<div class="paragraph">
<p>The <code>Unwind</code> operator returns one row per item in a list.</p>
</div>
<div class="exampleblock">
<div class="title">Example 94. Unwind</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
UNWIND range(1, 5) AS value
RETURN value</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator        | Details                                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults | value                                  |             10 |    5 |       0 |                        |           |                     |
| |               +----------------------------------------+----------------+------+---------+                        |           |                     |
| +Unwind         | range($autoint_0, $autoint_1) AS value |             10 |    5 |       0 |                    0/0 |     0.000 | Fused in Pipeline 0 |
+-----------------+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 0, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partitioned-unwind"><a class="anchor" href="#query-plan-partitioned-unwind"></a>Partitioned Unwind</h3>
<div class="paragraph">
<p>The <code>PartitionedUnwind</code> is a variant of the <a href="#query-plan-unwind"><code>Unwind</code></a> operator used by the <a href="../../runtimes/concepts/#runtimes-parallel-runtime" class="xref page">parallel runtime</a>.
It allows the index to be partitioned into different segments where each segment can be scanned independently in parallel.</p>
</div>
<div class="exampleblock">
<div class="title">Example 95. PartitionedUnwind</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">CYPHER runtime=parallel
PROFILE
UNWIND range(1, 5) AS value
RETURN value</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PARALLEL

Runtime version 2025.07

Batch size 128

+--------------------+----+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator           | Id | Details                                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+--------------------+----+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults    |  0 | value                                  |             10 |    5 |       0 |                    0/0 |     0.119 | In Pipeline 1       |
| |                  +----+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +PartitionedUnwind |  1 | range($autoint_0, $autoint_1) AS value |             10 |    5 |       0 |                        |           | Fused in Pipeline 0 |
+--------------------+----+----------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 0</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sort-limit-operators"><a class="anchor" href="#sort-limit-operators"></a>Sort and limit operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The operators in this group manage result set ordering and control the flow of data by limiting or skipping rows.
They optimize query performance and ensure users receive results in the desired order and quantity.</p>
</div>
<div class="sect2">
<h3 id="query-plan-sort"><a class="anchor" href="#query-plan-sort"></a>Sort</h3>
<div class="paragraph">
<p>The <code>Sort</code> operator sorts rows by a provided key.
In order to sort the data, all data from the source operator needs to be pulled in eagerly and kept in the query state, which will lead to increased memory pressure in the system.</p>
</div>
<div class="exampleblock">
<div class="title">Example 96. Sort</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
RETURN p
ORDER BY p.name</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+--------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| Operator         | Details            | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline            |
+------------------+--------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProduceResults  | p                  |             14 |   14 |       0 |                |                    2/0 |     0.178 |            |                     |
| |                +--------------------+----------------+------+---------+----------------+------------------------+-----------+            |                     |
| +Sort            | `p.name` ASC       |             14 |   14 |       0 |           1192 |                    0/0 |     0.107 | p.name ASC | In Pipeline 1       |
| |                +--------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +Projection      | p.name AS `p.name` |             14 |   14 |      14 |                |                        |           |            |                     |
| |                +--------------------+----------------+------+---------+----------------+                        |           +------------+                     |
| +NodeByLabelScan |p:Person            |             14 |   14 |      35 |            120 |                    3/0 |     0,221 |            | Fused in Pipeline 0 |
+------------------+--------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+

Total database accesses: 85, total allocated memory: 1272</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partial-sort"><a class="anchor" href="#query-plan-partial-sort"></a>Partial Sort</h3>
<div class="paragraph">
<p>The <code>PartialSort</code> operator is an optimization of the <a href="#query-plan-sort"><code>Sort</code></a> operator that takes advantage of the ordering of the incoming rows.
This operator uses lazy evaluation and has a lower memory pressure in the system than the <code>Sort</code> operator.
Partial sort is only applicable when sorting on multiple columns.</p>
</div>
<div class="exampleblock">
<div class="title">Example 97. PartialSort</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
WHERE p.name STARTS WITH 'P'
RETURN p
ORDER BY p.name, p.age</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| Operator              | Details                                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by            | Pipeline            |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| +ProduceResults       | p                                                                              |              0 |    2 |       0 |                |                    2/0 |     0.087 |                       |                     |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                       |                     |
| +PartialSort          | `p.name` ASC, `p.age` ASC                                                      |              0 |    2 |       0 |            544 |                    0/0 |     0.184 | p.name ASC, p.age ASC | In Pipeline 1       |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| +Projection           | cache[p.name] AS `p.name`, p.age AS `p.age`                                    |              0 |    2 |       0 |                |                        |           | `p.name` ASC          |                     |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           +-----------------------+                     |
| +NodeIndexSeekByRange | RANGE INDEX p:Person(name) WHERE name STARTS WITH $autostring_0, cache[p.name] |              0 |    2 |       3 |            120 |                    0/1 |     0.362 | p.name ASC            | Fused in Pipeline 0 |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+

Total database accesses: 3, total allocated memory: 608</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-top"><a class="anchor" href="#query-plan-top"></a>Top</h3>
<div class="paragraph">
<p>The <code>Top</code> operator returns the first <code>n</code> rows sorted by a provided key.
Instead of sorting the entire input, only the top <code>n</code> rows are retained.</p>
</div>
<div class="exampleblock">
<div class="title">Example 98. Top</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
RETURN p
ORDER BY p.name
LIMIT 2</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| Operator         | Details              | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline            |
+------------------+----------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProduceResults  | p                    |              2 |    2 |       0 |                |                    2/0 |     0.093 |            |                     |
| |                +----------------------+----------------+------+---------+----------------+------------------------+-----------+            |                     |
| +Top             | `p.name` ASC LIMIT 2 |              2 |    2 |       0 |           1184 |                    0/0 |     0.295 | p.name ASC | In Pipeline 1       |
| |                +----------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +Projection      | p.name AS `p.name`   |             14 |   14 |      14 |                |                        |           |            |                     |
| |                +----------------------+----------------+------+---------+----------------+                        |           +------------+                     |
| +NodeByLabelScan | p:Person             |             14 |   14 |      35 |            120 |                    3/0 |     0,166 |            | Fused in Pipeline 0 |
+------------------+----------------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+

Total database accesses: 85, total allocated memory: 1264</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-partial-top"><a class="anchor" href="#query-plan-partial-top"></a>Partial Top</h3>
<div class="paragraph">
<p>The <code>PartialTop</code> operator is an optimization of the <a href="#query-plan-top"><code>Top</code></a> operator that takes advantage of the ordering of the incoming rows.
This operator uses lazy evaluation and has a lower memory pressure in the system than the <code>Top</code> operator.
Partial top is only applicable when sorting on multiple columns.</p>
</div>
<div class="exampleblock">
<div class="title">Example 99. PartialTop</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
WHERE p.name STARTS WITH 'P'
RETURN p
ORDER BY p.name, p.age
LIMIT 2</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| Operator              | Details                                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by            | Pipeline            |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| +ProduceResults       | p                                                                              |              0 |    2 |       0 |                |                    2/0 |     0.093 |                       |                     |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+                       |                     |
| +PartialTop           | `p.name` ASC, `p.age` ASC LIMIT 2                                              |              0 |    2 |       0 |            640 |                    0/0 |     0.870 | p.name ASC, p.age ASC | In Pipeline 1       |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+
| +Projection           | cache[p.name] AS `p.name`, p.age AS `p.age`                                    |              0 |    2 |       0 |                |                        |           | `p.name` ASC          |                     |
| |                     +--------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           +-----------------------+                     |
| +NodeIndexSeekByRange | RANGE INDEX p:Person(name) WHERE name STARTS WITH $autostring_0, cache[p.name] |              0 |    2 |       3 |            120 |                    0/1 |     0.556 | p.name ASC            | Fused in Pipeline 0 |
+-----------------------+--------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+-----------------------+---------------------+

Total database accesses: 3, total allocated memory: 704</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-limit"><a class="anchor" href="#query-plan-limit"></a>Limit</h3>
<div class="paragraph">
<p>The <code>Limit</code> operator returns the first <code>n</code> rows from the incoming input.</p>
</div>
<div class="exampleblock">
<div class="title">Example 100. Limit</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
RETURN p
LIMIT 3</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults | p        |              3 |    3 |       0 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +Limit          | 3        |              3 |    3 |       0 |             32 |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan| p:Person |              3 |    4 |       5 |            120 |                    3/0 |     0,540 | Fused in Pipeline 0 |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 8, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-exhaustive-limit"><a class="anchor" href="#query-plan-exhaustive-limit"></a>Exhaustive Limit</h3>
<div class="paragraph">
<p>The <code>ExhaustiveLimit</code> operator is similar to the <a href="#query-plan-limit"><code>Limit</code></a> operator but will always exhaust the input.
Used when combining <code>LIMIT</code> and updates</p>
</div>
<div class="exampleblock">
<div class="title">Example 101. ExhaustiveLimit</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
SET p.seen = true
RETURN p
LIMIT 3</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details       | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 | p             |              3 |    3 |      10 |              0 |                        |           |                     |
| |                +----+---------------+----------------+------+---------+----------------+                        |           |                     |
| +ExhaustiveLimit |  1 | 3             |              3 |    3 |       0 |             32 |                        |           |                     |
| |                +----+---------------+----------------+------+---------+----------------+                        |           |                     |
| +SetProperty     |  2 | p.seen = true |             17 |   17 |      34 |                |                        |           |                     |
| |                +----+---------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan |  3 | p:Person      |             17 |   17 |      18 |            240 |                    3/0 |     1.966 | Fused in Pipeline 0 |
+------------------+----+---------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 62, total allocated memory: 304</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-skip"><a class="anchor" href="#query-plan-skip"></a>Skip</h3>
<div class="paragraph">
<p>The <code>Skip</code> operator skips <code>n</code> rows from the incoming rows.</p>
</div>
<div class="exampleblock">
<div class="title">Example 102. Skip</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
RETURN p
ORDER BY p.id
SKIP 1</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| Operator         | Details        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Ordered by | Pipeline            |
+------------------+----------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +ProduceResults  | p              |             13 |   13 |       0 |                |                    2/0 |     0.165 |            |                     |
| |                +----------------+----------------+------+---------+----------------+------------------------+-----------+            |                     |
| +Skip            | $autoint_0     |             13 |   13 |       0 |             32 |                    0/0 |     0.043 |            |                     |
| |                +----------------+----------------+------+---------+----------------+------------------------+-----------+            |                     |
| +Sort            | `p.id` ASC     |             14 |   14 |       0 |            400 |                    0/0 |     0.155 | p.id ASC   | In Pipeline 1       |
| |                +----------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+
| +Projection      | p.id AS `p.id` |             14 |   14 |       0 |                |                        |           |            |                     |
| |                +----------------+----------------+------+---------+----------------+                        |           +------------+                     |
| +NodeByLabelScan | p:Person       |             18 |   18 |      19 |            120 |                    3/0 |     0,157 |            | Fused in Pipeline 0 |
+------------------+----------------+----------------+------+---------+----------------+------------------------+-----------+------------+---------------------+

Total database accesses: 71, total allocated memory: 512</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-modification-operators"><a class="anchor" href="#data-modification-operators"></a>Data modification operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The operators in this group modify graph data by creating, deleting, and altering nodes, relationships, and properties.</p>
</div>
<div class="sect2">
<h3 id="query-plan-create"><a class="anchor" href="#query-plan-create"></a>Create</h3>
<div class="paragraph">
<p>The <code>Create</code> operator is used to create nodes and relationships.</p>
</div>
<div class="exampleblock">
<div class="title">Example 103. Create</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE
  (max:Person {name: 'Max'}),
  (chris:Person {name: 'Chris'})
CREATE (max)-[:FRIENDS_WITH]-&gt;(chris)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| Operator        | Details                                                                   | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+
| +ProduceResults |                                                                           |              1 |    0 |       0 |                        |           |                     |
| |               +---------------------------------------------------------------------------+----------------+------+---------+                        |           |                     |
| +EmptyResult    |                                                                           |              1 |    0 |       0 |                        |           |                     |
| |               +---------------------------------------------------------------------------+----------------+------+---------+                        |           |                     |
| +Create         | (max:Person {name: $autostring_0}), (chris:Person {name: $autostring_1}), |              1 |    1 |       7 |                    0/0 |     0.000 | Fused in Pipeline 0 |
|                 | (max)-[anon_0:FRIENDS_WITH]-&gt;(chris)                                      |                |      |         |                        |           |                     |
+-----------------+---------------------------------------------------------------------------+----------------+------+---------+------------------------+-----------+---------------------+

Total database accesses: 7, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-delete"><a class="anchor" href="#query-plan-delete"></a>Delete</h3>
<div class="paragraph">
<p>The <code>Delete</code> operator is used to delete a node or a relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 104. Delete</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (you:Person {name: 'you'})
DELETE you</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Id | Details                                                | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |  0 |                                                        |              0 |    0 |       0 |                |                        |           |                     |
| |               +----+--------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |  1 |                                                        |              0 |    0 |       0 |                |                        |           |                     |
| |               +----+--------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Delete         |  2 | you                                                     |              0 |    0 |       0 |                |                        |           |                     |
| |               +----+--------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek  |  3 | RANGE INDEX you:Person(name) WHERE name = $autostring_0 |              0 |    0 |       1 |            120 |                    1/0 |     0.330 | Fused in Pipeline 0 |
+-----------------+----+--------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 13, total allocated memory: 216</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-detach-delete"><a class="anchor" href="#query-plan-detach-delete"></a>Detach Delete</h3>
<div class="paragraph">
<p>The <code>DetachDelete</code> operator is used in all queries containing the <a href="../../../clauses/delete/" class="xref page">DETACH DELETE</a> clause, when deleting nodes and their relationships.</p>
</div>
<div class="exampleblock">
<div class="title">Example 105. DetachDelete</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (p:Person)
DETACH DELETE p</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Details  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |          |             14 |    0 |       0 |                |                        |           |                     |
| |                +----------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult     |          |             14 |    0 |       0 |                |                        |           |                     |
| |                +----------+----------------+------+---------+----------------+                        |           |                     |
| +DetachDelete    | p        |             14 |   14 |      41 |                |                        |           |                     |
| |                +----------+----------------+------+---------+----------------+                        |           |                     |
| +NodeByLabelScan | p:Person |             14 |   14 |      35 |            120 |                   21/0 |    12,439 | Fused in Pipeline 0 |
+------------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 112, total allocated memory: 200</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-merge"><a class="anchor" href="#query-plan-merge"></a>Merge</h3>
<div class="paragraph">
<p>The <code>Merge</code> operator will either read or create nodes and/or relationships.</p>
</div>
<div class="paragraph">
<p>If matches are found it will execute the provided <code>ON MATCH</code> operations foreach incoming row.
If no matches are found instead nodes and relationships are created and all <code>ON CREATE</code> operations are run.</p>
</div>
<div class="exampleblock">
<div class="title">Example 106. Merge</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MERGE (p:Person {name: 'Andy'})
ON MATCH SET p.existed = true
ON CREATE SET p.existed = false</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+-------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details                                                                 | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+-------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |                                                                         |              1 |    0 |       0 |                |                        |           |                     |
| |               +-------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |                                                                         |              1 |    0 |       0 |                |                        |           |                     |
| |               +-------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Merge          | CREATE (p:Person {name: $autostring_0}), ON MATCH SET p.existed = true, |              1 |    1 |       2 |                |                        |           |                     |
| |               | ON CREATE SET p.existed = false                                         |                |      |         |                |                        |           |                     |
| |               +-------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +NodeIndexSeek  | RANGE INDEX p:Person(name) WHERE name = $autostring_0                   |              1 |    1 |       2 |            120 |                    2/1 |     0.749 | Fused in Pipeline 0 |
+-----------------+-------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 4, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-locking-merge"><a class="anchor" href="#query-plan-locking-merge"></a>Locking Merge</h3>
<div class="paragraph">
<p>The <code>LockingMerge</code> operator is similar to the <a href="#query-plan-merge"><code>Merge</code></a> operator but will lock the start and end node when creating a relationship if necessary.</p>
</div>
<div class="exampleblock">
<div class="title">Example 107. LockingMerge</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (s:Person {name: 'me'})
MERGE (s)-[:FRIENDS_WITH]-&gt;(s)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Id | Details                                               | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |  0 |                                                       |              1 |    0 |       0 |                |                        |           |                     |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |  1 |                                                       |              1 |    0 |       0 |                |                        |           |                     |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply          |  2 |                                                       |              1 |    1 |       0 |                |                        |           |                     |
| |\              +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +LockingMerge |  3 | CREATE (s)-[anon_0:FRIENDS_WITH]-&gt;(s), LOCK(s)        |              1 |    1 |       1 |                |                        |           |                     |
| | |             +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Expand(Into) |  4 | (s)-[anon_0:FRIENDS_WITH]-&gt;(s)                        |              0 |    0 |      10 |            904 |                        |           |                     |
| | |             +----+-------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument     |  5 | s                                                     |              1 |    3 |       0 |           2280 |                    2/0 |     0.460 | Fused in Pipeline 1 |
| |               +----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +NodeIndexSeek  |  6 | RANGE INDEX s:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |            376 |                    1/0 |     0.211 | In Pipeline 0       |
+-----------------+----+-------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 15, total allocated memory: 2232</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-foreach"><a class="anchor" href="#query-plan-foreach"></a>Foreach</h3>
<div class="paragraph">
<p>The <code>Foreach</code> operator executes a nested loop between the left child operator and the right child operator.
In an analogous manner to the <a href="#query-plan-apply">Apply</a> operator, it takes a row from the left-hand side and, using the <a href="#query-plan-argument">Argument</a> operator, provides it to the operator tree on the right-hand side.
<code>Foreach</code> will yield all the rows coming in from the left-hand side; all results from the right-hand side are pulled in and discarded.</p>
</div>
<div class="exampleblock">
<div class="title">Example 108. Foreach</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
FOREACH (value IN [1,2,3] | CREATE (:Person {age: value}))</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+---------------------------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                                                 | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+---------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults |                                                         |              1 |    0 |       0 |                    0/0 |
| |               +---------------------------------------------------------+----------------+------+---------+------------------------+
| +EmptyResult    |                                                         |              1 |    0 |       0 |                    0/0 |
| |               +---------------------------------------------------------+----------------+------+---------+------------------------+
| +Foreach        | value IN [1, 2, 3], CREATE (anon_0:Person {age: value}) |              1 |    1 |       9 |                    0/0 |
+-----------------+---------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 9, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-subquery-foreach"><a class="anchor" href="#query-plan-subquery-foreach"></a>SubqueryForeach</h3>
<div class="paragraph">
<p><code>SubqueryForeach</code> works like the <a href="#query-plan-foreach"><code>Foreach</code></a>operator but it is only used for executing subqueries.</p>
</div>
<div class="exampleblock">
<div class="title">Example 109. SubqueryForeach</div>
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The below query uses a <a href="../../../subqueries/call-subquery/#variable-scope-clause" class="xref page">variable scope clause</a> to import variables into the <code>CALL</code> subquery.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
LOAD CSV FROM 'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv' AS line
CALL (line) {
  CREATE (a: Artist {name: line[0]})
}</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Id | Details                             | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  |  0 |                                     |             10 |    0 |       0 |              0 |                        |           |                     |
| |                +----+-------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult     |  1 |                                     |             10 |    0 |       0 |                |                    0/0 |     0.000 | Fused in Pipeline 3 |
| |                +----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +SubqueryForeach |  2 |                                     |             10 |    4 |       0 |           4080 |                        |           |                     |
| |\               +----+-------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Create        |  3 | (a:Artist {name: line[$autoint_0]}) |             10 |    4 |      12 |                |                        |           |                     |
| | |              +----+-------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Argument      |  4 | line                                |             10 |    4 |       0 |           3472 |                    0/0 |     0.852 | Fused in Pipeline 2 |
| |                +----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +LoadCSV         |  5 | line                                |             10 |    4 |       0 |            328 |                        |           | In Pipeline 1       |
+------------------+----+-------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 12, total allocated memory: 4928</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-transaction-foreach"><a class="anchor" href="#query-plan-transaction-foreach"></a>TransactionForeach</h3>
<div class="paragraph">
<p><code>TransactionForeach</code> works like the <a href="#query-plan-foreach"><code>Foreach</code></a> operator but will commit the current transaction after a specified number of rows.</p>
</div>
<div class="exampleblock">
<div class="title">Example 110. TransactionForeach</div>
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The below query uses a <a href="../../../subqueries/call-subquery/#variable-scope-clause" class="xref page">variable scope clause</a> to import variables into the <code>CALL</code> subquery.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
LOAD CSV FROM 'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv' AS line
CALL (line) {
  CREATE (a: Artist {name: line[0]})
} IN TRANSACTIONS OF 100 ROWS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

++---------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
 | Operator            | Id | Details                                          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
 +---------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
 | +ProduceResults     |  0 |                                                  |             10 |    0 |       0 |              0 |                        |           |                     |
 | |                   +----+--------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
 | +EmptyResult        |  1 |                                                  |             10 |    0 |       0 |                |                    0/0 |     0.000 | Fused in Pipeline 3 |
 | |                   +----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
 | +TransactionForeach |  2 | IN TRANSACTIONS OF $autoint_1 ROWS ON ERROR FAIL |             10 |    4 |       0 |           4856 |                        |           |                     |
 | |\                  +----+--------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
 | | +Create           |  3 | (a:Artist {name: line[$autoint_0]})              |             10 |    4 |      12 |                |                        |           |                     |
 | | |                 +----+--------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
 | | +Argument         |  4 | line                                             |             10 |    4 |       0 |           3472 |                    0/0 |     0.712 | Fused in Pipeline 2 |
 | |                   +----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
 | +LoadCSV            |  5 | line                                             |             10 |    4 |       0 |            328 |                        |           | In Pipeline 1       |
 +---------------------+----+--------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

 Total database accesses: 12, total allocated memory: 5704</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-set-labels"><a class="anchor" href="#query-plan-set-labels"></a>Set Labels</h3>
<div class="paragraph">
<p>The <code>SetLabels</code> operator is used when setting labels on a node.</p>
</div>
<div class="exampleblock">
<div class="title">Example 111. SetLabels</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
SET n:Person</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |          |             35 |    0 |       0 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |          |             35 |    0 |       0 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +SetLabels      | n:Person |             35 |   35 |      22 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   | n        |             35 |   35 |      36 |            120 |                    3/0 |     0.873 | Fused in Pipeline 0 |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 58, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-remove-labels"><a class="anchor" href="#query-plan-remove-labels"></a>Remove Labels</h3>
<div class="paragraph">
<p>The <code>RemoveLabels</code> operator is used when deleting labels from a node.</p>
</div>
<div class="exampleblock">
<div class="title">Example 112. RemoveLabels</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
REMOVE n:Person</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details  | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |          |             35 |    0 |       0 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |          |             35 |    0 |       0 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +RemoveLabels   | n:Person |             35 |   35 |      15 |                |                        |           |                     |
| |               +----------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   | n        |             35 |   35 |      36 |            120 |                    3/0 |     0.765 | Fused in Pipeline 0 |
+-----------------+----------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 51, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-set-node-properties-from-map"><a class="anchor" href="#query-plan-set-node-properties-from-map"></a>Set Node Properties From Map</h3>
<div class="paragraph">
<p>The <code>SetNodePropertiesFromMap</code> operator is used when setting properties from a map on a node.</p>
</div>
<div class="exampleblock">
<div class="title">Example 113. SetNodePropertiesFromMap</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
SET n = {weekday: 'Monday', meal: 'Lunch'}</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                  | Details                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults           |                                                   |             35 |    0 |       0 |                |                        |           |                     |
| |                         +---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult              |                                                   |             35 |    0 |       0 |                |                        |           |                     |
| |                         +---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SetNodePropertiesFromMap | n = {weekday: $autostring_0, meal: $autostring_1} |             35 |   35 |     105 |                |                        |           |                     |
| |                         +---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan             | n                                                 |             35 |   35 |      36 |            120 |                    5/0 |     3.954 | Fused in Pipeline 0 |
+---------------------------+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 141, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-set-relationship-properties-from-map"><a class="anchor" href="#query-plan-set-relationship-properties-from-map"></a>Set Relationship Properties From Map</h3>
<div class="paragraph">
<p>The <code>SetRelationshipPropertiesFromMap</code> operator is used when setting properties from a map on a relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 114. SetRelationshipPropertiesFromMap</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)-[r]-&gt;(m)
SET r = {weight: 5, unit: 'kg'}</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------------------------+-----------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator                          | Details                                       | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------------------------+-----------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults                   |                                               |             28 |    0 |       0 |                |                        |           |                     |
| |                                 +-----------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult                      |                                               |             28 |    0 |       0 |                |                        |           |                     |
| |                                 +-----------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SetRelationshipPropertiesFromMap | r = {weight: $autoint_0, unit: $autostring_1} |             28 |   28 |      84 |                |                        |           |                     |
| |                                 +-----------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DirectedAllRelationshipsScan     | (n)-[r]-&gt;(m)                                  |             28 |   28 |      28 |            120 |                    5/0 |    15.278 | Fused in Pipeline 0 |
+-----------------------------------+-----------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 112, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-set-property"><a class="anchor" href="#query-plan-set-property"></a>Set Property</h3>
<div class="paragraph">
<p>The <code>SetProperty</code> operator is used when setting a property on a node or relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 115. SetProperty</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
SET n.checked = true</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Details          | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |                  |             35 |    0 |       0 |                |                        |           |                     |
| |               +------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |                  |             35 |    0 |       0 |                |                        |           |                     |
| |               +------------------+----------------+------+---------+----------------+                        |           |                     |
| +SetProperty    | n.checked = true |             35 |   35 |      70 |                |                        |           |                     |
| |               +------------------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   | n                |             35 |   35 |      36 |            120 |                    3/0 |     0.753 | Fused in Pipeline 0 |
+-----------------+------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 106, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-set-properties"><a class="anchor" href="#query-plan-set-properties"></a>Set Properties</h3>
<div class="paragraph">
<p>The <code>SetProperties</code> operator is used when setting multiple properties on a node or relationship.</p>
</div>
<div class="exampleblock">
<div class="title">Example 116. SetProperties</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (n)
SET n.weekDay = 'Monday', n.meal = 'Lunch'</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+----+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator        | Id | Details                                           | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+-----------------+----+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults |  0 |                                                   |             35 |    0 |       0 |              0 |                        |           |                     |
| |               +----+---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult    |  1 |                                                   |             35 |    0 |       0 |                |                        |           |                     |
| |               +----+---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +SetProperties  |  2 | n.weekDay = $autostring_0, n.meal = $autostring_1 |             35 |   35 |     105 |                |                        |           |                     |
| |               +----+---------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +AllNodesScan   |  3 | n                                                 |             35 |   35 |      36 |            248 |                    3/0 |   152.289 | Fused in Pipeline 0 |
+-----------------+----+---------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 141, total allocated memory: 312</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-load-csv"><a class="anchor" href="#query-plan-load-csv"></a>Load CSV</h3>
<div class="paragraph">
<p>The <code>LoadCSV</code> operator loads data from a CSV source into the query.
It is used whenever the <a href="../../../clauses/load-csv/" class="xref page">LOAD CSV</a> clause is used in a query.</p>
</div>
<div class="exampleblock">
<div class="title">Example 117. LoadCSV</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
LOAD CSV FROM 'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv' AS line
RETURN line</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator        | Details | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline      |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults | line    |             10 |    4 |       0 |                |                    0/0 |     0.210 |               |
| |               +---------+----------------+------+---------+----------------+------------------------+-----------+               |
| +LoadCSV        | line    |             10 |    4 |       0 |             72 |                        |           | In Pipeline 1 |
+-----------------+---------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 0, total allocated memory: 184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-eager"><a class="anchor" href="#query-plan-eager"></a>Eager</h3>
<div class="paragraph">
<p>The <code>Eager</code> operator causes all preceding operators to execute fully, for the whole dataset, before continuing execution.
This is done to ensure isolation between parts of the query plan that might otherwise affect each other.</p>
</div>
<div class="paragraph">
<p>Values from the graph are fetched in a lazy manner; i.e. a pattern matching might not be fully exhausted before updates are applied.
To maintain correct semantics, the query planner will insert <code>Eager</code> operators into the query plan to prevent updates from influencing pattern matching, or other read operations.
This scenario is exemplified by the query below, where the <code>DELETE</code> clause would otherwise influence both the <code>MATCH</code> clause and the <code>MERGE</code> clause.
For more information on how the <code>Eager</code> operator can ensure correct semantics, see the section on <a href="../../../clauses/clause-composition/" class="xref page">Clause composition</a>.</p>
</div>
<div class="paragraph">
<p>The <code>Eager</code> operator can cause high memory usage when importing data or migrating graph structures.
In such cases, the operations should be split into simpler steps; e.g. importing nodes and relationships separately.
Alternatively, the records to be updated can be returned, followed by an update statement.</p>
</div>
<div class="exampleblock">
<div class="title">Example 118. Eager</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
MATCH (a:Person {name: 'me'}), (b:Person {name: 'Bob'})
DETACH DELETE a, b
MERGE (:Person {name: 'me'})</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime PIPELINED

Runtime version 2025.07

Batch size 128

+---------------------+----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator            | Id | Details                                                                                        | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Pipeline            |
+---------------------+----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults     |  0 |                                                                                                |              0 |    0 |       0 |              0 |                        |           |                     |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +EmptyResult        |  1 |                                                                                                |              0 |    0 |       0 |                |                        |           |                     |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Apply              |  2 |                                                                                                |              0 |    1 |       0 |                |                        |           |                     |
| |\                  +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +Merge            |  3 | CREATE (anon_0:Person {name: $autostring_2})                                                   |              0 |    1 |       3 |                |                        |           |                     |
| | |                 +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| | +NodeIndexSeek    |  4 | RANGE INDEX anon_0:Person(name) WHERE name = $autostring_2                                     |              0 |    0 |       1 |           3304 |                    1/0 |     0.663 | Fused in Pipeline 3 |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +Eager              |  5 | read/delete conflict for variable: anon_0 (Operator: 6 vs 4, and 1 more conflicting operators) |              0 |    1 |       0 |            360 |                    0/0 |     0.008 | In Pipeline 2       |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +DetachDelete       |  6 | b                                                                                              |              0 |    1 |       4 |                |                        |           |                     |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +DetachDelete       |  7 | a                                                                                              |              0 |    1 |       5 |                |                        |           |                     |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+                        |           |                     |
| +Eager              |  8 | read/delete conflict for variable: b (Operator: 6 vs 9, and 1 more conflicting operators),     |              0 |    1 |       0 |            360 |                    1/0 |     0.226 | Fused in Pipeline 1 |
| |                   |    | read/set conflict for label: Person (Operator: 3 vs 9),                                        |                |      |         |                |                        |           |                     |
| |                   |    | read/set conflict for property: name (Operator: 3 vs 9)                                        |                |      |         |                |                        |           |                     |
| |                   +----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +MultiNodeIndexSeek |  9 | RANGE INDEX a:Person(name) WHERE name = $autostring_0,                                         |              0 |    1 |       4 |            376 |                    2/0 |     0.218 | In Pipeline 0       |
|                     |    | RANGE INDEX b:Person(name) WHERE name = $autostring_1                                          |                |      |         |                |                        |           |                     |
+---------------------+----+------------------------------------------------------------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 17, total allocated memory: 4184</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-assert-same-node"><a class="anchor" href="#query-plan-assert-same-node"></a>Assert Same Node</h3>
<div class="paragraph">
<p>The <code>AssertSameNode</code> operator is used to ensure that no node property uniqueness constraints are violated in the slotted and interpreted runtime.
The example looks for the presence of a team node with the supplied name and id, and if one does not exist, it will be created.
Owing to the existence of two node property uniqueness constraints on <code>:Team(name)</code> and <code>:Team(id)</code>, any node that would be found by the <code>UniqueIndexSeek</code> operator must be the very same node or the constraints would be violated.</p>
</div>
<div class="exampleblock">
<div class="title">Example 119. AssertSameNode</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MERGE (t:Team {name: 'Engineering', id: 42})</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+---------------------------------+-------------------------------------------------------+----------------+------+---------+------------------------+
| Operator                        | Details                                               | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+---------------------------------+-------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults                 |                                                       |              1 |    0 |       0 |                    0/0 |
| |                               +-------------------------------------------------------+----------------+------+---------+------------------------+
| +EmptyResult                    |                                                       |              1 |    0 |       0 |                    0/0 |
| |                               +-------------------------------------------------------+----------------+------+---------+------------------------+
| +Merge                          | CREATE (t:Team {name: $autostring_0, id: $autoint_1}) |              1 |    1 |       0 |                    0/0 |
| |                               +-------------------------------------------------------+----------------+------+---------+------------------------+
| +AssertSameNode                 | t                                                     |              0 |    1 |       0 |                    0/0 |
| |\                              +-------------------------------------------------------+----------------+------+---------+------------------------+
| | +NodeUniqueIndexSeek(Locking) | UNIQUE t:Team(id) WHERE id = $autoint_1               |              1 |    1 |       1 |                    0/1 |
| |                               +-------------------------------------------------------+----------------+------+---------+------------------------+
| +NodeUniqueIndexSeek(Locking)   | UNIQUE t:Team(name) WHERE name = $autostring_0        |              1 |    1 |       1 |                    0/1 |
+---------------------------------+-------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 2, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-assert-same-relationship"><a class="anchor" href="#query-plan-assert-same-relationship"></a>Assert Same Relationship</h3>
<div class="paragraph">
<p>The <code>AssertSameRelationship</code> operator is used to ensure that no relationship property uniqueness constraints are violated in the slotted and interpreted runtime.
The example looks for the presence of a <code>WORKS_IN</code> relationship with the supplied  <code>id</code> and <code>badgeNumber</code>.
If it can&#8217;t be found, then it will be created.
Owing to the existence of two property uniqueness constraints on <code>:WORKS_IN(id)</code> and <code>:WORKS_IN(badgeNumber)</code>, any relationship that would be found by the <code>DirectedRelationshipUniqueIndexSeek</code> operator must be the very same relationship or the constraints would be violated.</p>
</div>
<div class="exampleblock">
<div class="title">Example 120. AssertSameRelationship</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CYPHER runtime=slotted
MERGE (person)-[work:WORKS_IN {id: 0, badgeNumber: 4332}]-&gt;(location)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-------------------------------------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| Operator                                        | Id | Details                                                                                              | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-------------------------------------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults                                 |  0 |                                                                                                      |              1 |    0 |       0 |                    0/0 |
| |                                               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +EmptyResult                                    |  1 |                                                                                                      |              1 |    0 |       0 |                    0/0 |
| |                                               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +Merge                                          |  2 | CREATE (person), (location), (person)-[work:WORKS_IN {id: $autoint_0, badgeNumber: $autoint_1}]-&gt;(lo |              1 |    1 |       0 |                    0/0 |
| |                                               |    | cation)                                                                                              |                |      |         |                        |
| |                                               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +AssertSameRelationship                         |  3 | work                                                                                                 |              0 |    1 |       0 |                    0/0 |
| |\                                              +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| | +DirectedRelationshipUniqueIndexSeek(Locking) |  4 | RANGE INDEX (person)-[work:WORKS_IN(badgeNumber)]-&gt;(location) WHERE badgeNumber = $autoint_1         |              1 |    1 |       1 |                    0/1 |
| |                                               +----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +DirectedRelationshipUniqueIndexSeek(Locking)   |  5 | RANGE INDEX (person)-[work:WORKS_IN(id)]-&gt;(location) WHERE id = $autoint_0                           |              1 |    1 |       1 |                    1/1 |
+-------------------------------------------------+----+------------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 2, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema-system-operators"><a class="anchor" href="#schema-system-operators"></a>Schema and system operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The operators in this group manage the schema and system-level operations within the database.
They handle tasks such as creating or dropping constraints and indexes, showing or terminating transactions, and listing the available procedures, functions, and settings.</p>
</div>
<div class="sect2">
<h3 id="query-plan-create-constraint"><a class="anchor" href="#query-plan-create-constraint"></a>Create Constraint</h3>
<div class="paragraph">
<p>The <code>CreateConstraint</code> operator creates a constraint.</p>
</div>
<div class="paragraph">
<p>This constraint can have any of the available constraint types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Property uniqueness constraints</p>
</li>
<li>
<p>Property existence constraints <span class="label label--enterprise-edition">Enterprise Edition</span></p>
</li>
<li>
<p>Property type constraints <span class="label label--enterprise-edition">Enterprise Edition</span></p>
</li>
<li>
<p>Node or relationship key constraints <span class="label label--enterprise-edition">Enterprise Edition</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following query will create a property uniqueness constraint with the name <code>uniqueness</code> on the <code>name</code> property of nodes with the <code>Country</code> label.</p>
</div>
<div class="exampleblock">
<div class="title">Example 121. CreateConstraint</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE CONSTRAINT uniqueness
FOR (c:Country) REQUIRE c.name is UNIQUE</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+-------------------+------------------------------------------------------------------+
| Operator          | Details                                                          |
+-------------------+------------------------------------------------------------------+
| +CreateConstraint | CONSTRAINT uniqueness FOR (c:Country) REQUIRE (c.name) IS UNIQUE |
+-------------------+------------------------------------------------------------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-do-nothing-if-exists-constraint"><a class="anchor" href="#query-plan-do-nothing-if-exists-constraint"></a>Do Nothing If Exists (constraint)</h3>
<div class="paragraph">
<p>To not get an error creating the same constraint twice, we use the <code>DoNothingIfExists</code> operator for constraints.
This will make sure no other constraint with the given name or another constraint of the same type and schema already exists before the specific <code>CreateConstraint</code> operator creates the constraint.
If it finds a constraint with the given name or with the same type and schema it will stop the execution and no new constraint is created.
The following query will create a property uniqueness constraint with the name <code>uniqueness</code> on the <code>name</code> property of nodes with the <code>Country</code> label only if no constraint named <code>uniqueness</code> or property uniqueness constraint on <code>(:Country {name})</code> already exists.</p>
</div>
<div class="exampleblock">
<div class="title">Example 122. DoNothingIfExists(CONSTRAINT)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE CONSTRAINT uniqueness IF NOT EXISTS
FOR (c:Country) REQUIRE c.name is UNIQUE</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+--------------------------------+------------------------------------------------------------------+
| Operator                       | Details                                                          |
+--------------------------------+------------------------------------------------------------------+
| +CreateConstraint              | CONSTRAINT uniqueness FOR (c:Country) REQUIRE (c.name) IS UNIQUE |
| |                              +------------------------------------------------------------------+
| +DoNothingIfExists(CONSTRAINT) | CONSTRAINT uniqueness FOR (c:Country) REQUIRE (c.name) IS UNIQUE |
+--------------------------------+------------------------------------------------------------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-drop-constraint"><a class="anchor" href="#query-plan-drop-constraint"></a>Drop Constraint</h3>
<div class="paragraph">
<p>The <code>DropConstraint</code> operator removes a constraint using the name of the constraint, no matter the type.</p>
</div>
<div class="exampleblock">
<div class="title">Example 123. DropConstraint</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
DROP CONSTRAINT uniqueness IF EXISTS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+-----------------+---------------------------------+
| Operator        | Details                         |
+-----------------+---------------------------------+
| +DropConstraint | CONSTRAINT uniqueness IF EXISTS |
+-----------------+---------------------------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-constraints"><a class="anchor" href="#query-plan-show-constraints"></a>Show Constraints</h3>
<div class="paragraph">
<p>The <code>ShowConstraints</code> operator lists constraints.
It may include filtering on constraint type and can have either default or full output.</p>
</div>
<div class="exampleblock">
<div class="title">Example 124. ShowConstraints</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW CONSTRAINTS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+------------------+-------------------------------------------------------------------+----------------+------+---------+------------------------+
| Operator         | Details                                                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+------------------+-------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults  | id, name, type, entityType, labelsOrTypes, properties, ownedIndex |             10 |    3 |       0 |                    0/0 |
| |                +-------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ShowConstraints | allConstraints, defaultColumns                                    |             10 |    3 |       2 |                    0/0 |
+------------------+-------------------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 2, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-create-index"><a class="anchor" href="#query-plan-create-index"></a>Create Index</h3>
<div class="paragraph">
<p>The <code>CreateIndex</code> operator creates an index.</p>
</div>
<div class="paragraph">
<p>This index can either be a fulltext, point, range, text, vector, or lookup index.</p>
</div>
<div class="exampleblock">
<div class="title">Example 125. CreateIndex</div>
<div class="content">
<div class="paragraph">
<p>The following query will create an index with the name <code>my_index</code> on the <code>name</code> property of nodes with the <code>Country</code> label.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE INDEX my_index
FOR (c:Country) ON (c.name)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+--------------+-----------------------------------------------+
| Operator     | Details                                       |
+--------------+-----------------------------------------------+
| +CreateIndex | RANGE INDEX my_index FOR (:Country) ON (name) |
+--------------+-----------------------------------------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-do-nothing-if-exists-index"><a class="anchor" href="#query-plan-do-nothing-if-exists-index"></a>Do Nothing If Exists (index)</h3>
<div class="paragraph">
<p>To not get an error creating the same index twice, we use the <code>DoNothingIfExists</code> operator for indexes.
This will make sure no other index with the given name or schema already exists before the <code>CreateIndex</code> operator creates an index.
If it finds an index with the given name or schema it will stop the execution and no new index is created.
The following query will create an index with the name <code>my_index</code> on the <code>since</code> property of relationships with the <code>KNOWS</code> relationship type only if no such index already exists.</p>
</div>
<div class="exampleblock">
<div class="title">Example 126. DoNothingIfExists(INDEX)</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
CREATE INDEX my_index IF NOT EXISTS
FOR ()-[k:KNOWS]-() ON (k.since)</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+---------------------------+----------------------------------------------------+
| Operator                  | Details                                            |
+---------------------------+----------------------------------------------------+
| +CreateIndex              | RANGE INDEX my_index FOR ()-[:KNOWS]-() ON (since) |
| |                         +----------------------------------------------------+
| +DoNothingIfExists(INDEX) | RANGE INDEX my_index FOR ()-[:KNOWS]-() ON (since) |
+---------------------------+----------------------------------------------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-drop-index"><a class="anchor" href="#query-plan-drop-index"></a>Drop Index</h3>
<div class="paragraph">
<p>The <code>DropIndex</code> operator removes an index using the name of the index.</p>
</div>
<div class="exampleblock">
<div class="title">Example 127. DropIndex</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
DROP INDEX my_index</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 2025.07

+------------+---------------+
| Operator   | Details       |
+------------+---------------+
| +DropIndex | INDEX my_index|
+------------+---------------+

Total database accesses: ?</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-indexes"><a class="anchor" href="#query-plan-show-indexes"></a>Show Indexes</h3>
<div class="paragraph">
<p>The <code>ShowIndexes</code> operator lists indexes.
It may include filtering on index type and can have either default or full output.</p>
</div>
<div class="exampleblock">
<div class="title">Example 128. ShowIndexes</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW INDEXES</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+-------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                                                                                         | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+-------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | id, name, state, populationPercent, type, entityType, labelsOrTypes, properties, indexProvider, |             10 |    9 |       0 |                    0/0 |
| |               | owningConstraint                                                                                |                |      |         |                        |
| |               +-------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ShowIndexes    | allIndexes, defaultColumns                                                                      |             10 |    9 |       2 |                    0/0 |
+-----------------+-------------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 2, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-functions"><a class="anchor" href="#query-plan-show-functions"></a>Show Functions</h3>
<div class="paragraph">
<p>The <code>ShowFunctions</code> operator lists functions.
It may include filtering on built-in vs user-defined functions as well as if a given user can execute the function.
The output can either be default or full output.</p>
</div>
<div class="exampleblock">
<div class="title">Example 129. ShowFunctions</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW FUNCTIONS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+-----------------------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                                             | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+-----------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | name, category, description                         |             10 |  147 |       0 |                    0/0 |
| |               +-----------------------------------------------------+----------------+------+---------+------------------------+
| +ShowFunctions  | allFunctions, functionsForUser(all), defaultColumns |             10 |  147 |       0 |                    0/0 |
+-----------------+-----------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 0, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-procedures"><a class="anchor" href="#query-plan-show-procedures"></a>Show Procedures</h3>
<div class="paragraph">
<p>The <code>ShowProcedures</code> operator lists procedures.
It may include filtering on whether a given user can execute the procedure and can have either default or full output.</p>
</div>
<div class="exampleblock">
<div class="title">Example 130. ShowProcedures</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW PROCEDURES</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+----------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+----------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | name, description, mode, worksOnSystem |             10 |   55 |       0 |                    0/0 |
| |               +----------------------------------------+----------------+------+---------+------------------------+
| +ShowProcedures | proceduresForUser(all), defaultColumns |             10 |   55 |       0 |                    0/0 |
+-----------------+----------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 0, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-settings"><a class="anchor" href="#query-plan-show-settings"></a>Show Settings</h3>
<div class="paragraph">
<p>The <code>ShowSettings</code> operator lists configuration settings.</p>
</div>
<div class="exampleblock">
<div class="title">Example 131. ShowSettings</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW SETTINGS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-----------------+---------------------------------------------------+----------------+------+---------+------------------------+
| Operator        | Details                                           | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-----------------+---------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults | name, value, isDynamic, defaultValue, description |             10 |  264 |       0 |                    0/0 |
| |               +---------------------------------------------------+----------------+------+---------+------------------------+
| +ShowSettings   | allSettings, defaultColumns                       |             10 |  264 |       0 |                    0/0 |
+-----------------+---------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 0, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-show-transactions"><a class="anchor" href="#query-plan-show-transactions"></a>Show Transactions</h3>
<div class="paragraph">
<p>The <code>ShowTransactions</code> operator lists transactions.
It may include filtering on given ids and can have either default or full output.</p>
</div>
<div class="exampleblock">
<div class="title">Example 132. ShowTransactions</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
SHOW TRANSACTIONS</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+-------------------+-----------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| Operator          | Details                                                                                       | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+-------------------+-----------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults   | database, transactionId, currentQueryId, connectionId, clientAddress, username, currentQuery, |             10 |    1 |       0 |                    0/0 |
| |                 | startTime, status, elapsedTime                                                                |                |      |         |                        |
| |                 +-----------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+
| +ShowTransactions | defaultColumns, allTransactions                                                               |             10 |    1 |       0 |                    0/0 |
+-------------------+-----------------------------------------------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 0, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query-plan-terminate-transactions"><a class="anchor" href="#query-plan-terminate-transactions"></a>Terminate Transactions</h3>
<div class="paragraph">
<p>The <code>TerminateTransactions</code> operator terminates transactions by ID.</p>
</div>
<div class="exampleblock">
<div class="title">Example 133. TerminateTransactions</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cypher hljs" data-lang="cypher">PROFILE
TERMINATE TRANSACTIONS 'database-transaction-123'</code></pre>
</div>
</div>
<div class="listingblock queryplan">
<div class="title">Query Plan</div>
<div class="content">
<pre>Planner COST

Runtime SLOTTED

Runtime version 2025.07

+------------------------+--------------------------------------------------------+----------------+------+---------+------------------------+
| Operator               | Details                                                | Estimated Rows | Rows | DB Hits | Page Cache Hits/Misses |
+------------------------+--------------------------------------------------------+----------------+------+---------+------------------------+
| +ProduceResults        | transactionId, username, message                       |             10 |    1 |       0 |                    0/0 |
| |                      +--------------------------------------------------------+----------------+------+---------+------------------------+
| +TerminateTransactions | defaultColumns, transactions(database-transaction-123) |             10 |    1 |       0 |                    0/0 |
+------------------------+--------------------------------------------------------+----------------+------+---------+------------------------+

Total database accesses: 0, total allocated memory: 64</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination" aria-label="pagination links">
  <span class="prev"><a href="../" aria-label="Previous: Operators">Operators</a></span>

  <span class="next"><a href="../../runtimes/" aria-label="Next: Cypher runtimes">Cypher runtimes</a></span>
</nav>
</article>
    <aside class="toc sidebar" data-title="Contents"
  data-levels="2">
  <div class="toc-menu">
    <div class="toc-menu-placeholder"></div>

      </div>
  </aside>  </div>
  
</main>
</div>
<footer class="footer">
  <div class="wrapper">

  <div class="column logo">
    <div class="logo-footer"></div>
  </div>
  
  <div class="column links">
    <h2>Learn</h2>
    <ul>
      <li><i class="fa fa-wrench" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/sandbox/?ref=developer-footer">Sandbox</a></li>
      <li><i class="fa fa-comments-o" aria-hidden="true"></i> <a rel="noopener" href="https://community.neo4j.com?ref=developer-footer" target="_blank">Neo4j Community Site</a></li>
      <li><i class="fa fa-book" aria-hidden="true"></i> <a rel="noopener" href="https://medium.com/neo4j" target="_blank">Neo4j Developer Blog</a></li>
      <li><i class="fa fa-youtube" aria-hidden="true"></i> <a rel="noopener" href="https://www.youtube.com/neo4j" target="_blank">Neo4j Videos</a></li>
      <li><i class="fa fa-graduation-cap" aria-hidden="true"></i> <a rel="noopener" href="https://neo4j.com/graphacademy/?ref=developer-footer">GraphAcademy</a></li>
      <li><i class="fa fa-flask" aria-hidden="true"></i> <a href="https://neo4j.com/labs/?ref=developer-footer">Neo4j Labs</a></li>
    </ul>
  </div>
  <div class="column links">
    <h2>Social</h2>
    <ul>
      <li><i class="fa fa-twitter" aria-hidden="true"></i> <a rel="noopener" href="https://twitter.com/neo4j" target="_blank">Twitter</a></li>
      <li><i class="fa fa-meetup" aria-hidden="true"></i> <a rel="noopener" href="https://www.meetup.com/Neo4j-Online-Meetup/" target="_blank">Meetups</a></li>
      <li><i class="fa fa-github" aria-hidden="true"></i> <a rel="noopener" href="https://github.com/neo4j/neo4j" target="_blank">Github</a></li>
      <li><i class="fa fa-stack-overflow" aria-hidden="true"></i> <a rel="noopener" href="https://stackoverflow.com/questions/tagged/neo4j" target="_blank">Stack Overflow</a></li>

      <li class="speaker-program"><a href="https://docs.google.com/forms/d/e/1FAIpQLSdEcNnMruES5iwvOVYovmS1D_P1ZL_HdUOitFrwrvruv5PZvA/viewform">Want to Speak?</a></li>
    </ul>
  </div>
  <div class="column links">
    <h2><a href="https://neo4j.com/contact-us/?ref=footer">Contact Us →</a></h2>
    <ul>
      <li>US: 1-855-636-4532</li>
      <li>Sweden +46 171 480 113</li>
      <li>UK: +44 20 3868 3223</li>
      <li>France: +33 (0) 1 88 46 13 20</li>
    </ul>
  </div>

    <div class="column">
    <p>© <span id="footer-copyright-year">2025</span> Neo4j, Inc.<br>
      <a href="https://neo4j.com/terms/">Terms</a> | <a href="https://neo4j.com/privacy-policy/">Privacy </a> | <a href="https://neo4j.com/sitemap/">Sitemap</a></p>
    <p>Neo4j<sup>®</sup>, Neo Technology<sup>®</sup>, Cypher<sup>®</sup>, Neo4j<sup>®</sup> Bloom<sup>™</sup> and
      Neo4j<sup>®</sup> Aura<sup>™</sup> are registered trademarks
      of Neo4j, Inc. All other marks are owned by their respective companies.</p>
  </div>

  
</div>
</footer>

  <script src="../../../../../assets/js/vendor/auth0.js"></script>
  <script src="../../../../../assets/js/site.js"></script>
  <script async src="../../../../../assets/js/vendor/highlight.js"></script>
  <script async src="../../../../../assets/js/vendor/image-zoom.js"></script>



<div id="neo4j-algolia-search-v2"></div>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/bundle.js"></script>
<script src="https://neo4j.com/wp-content/themes/neo4jweb/assets/neo4j-react-modules-assets/search-preact/chunkless/polyfill.js"></script>
<script>window.algoliaSearchOptions = {indexName: "docs",placeholder: "Search Documentation",template: "docs"}</script>
  </body>
</html>
